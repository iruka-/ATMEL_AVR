<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>2013-03 - PukiWiki</title>

<!---
 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/180wiki-sp.css" />

 --->

 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/monobook/mobile.css" />
 <link rel="stylesheet" media="screen and (min-width:769px)" href="../skin/monobook/monobook.css" />

 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />

 <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div id="globalWrapper">
 <div id="menubar"><ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2010-10-11T18:16:06+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2022-07-30</strong>
<ul class="recent_list">
 <li><a href="SiteMap.html" class="link_page_passage" data-mtime="2022-07-30T10:15:03+09:00">SiteMap</a></li>
</ul>
<strong>2022-07-25</strong>
<ul class="recent_list">
 <li><a href="20082D-10.html" class="link_page_passage" data-mtime="2022-07-25T22:19:24+09:00">2008-10</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
 <li><a href="H8EF-BC-8F-3048F.html" class="link_page_passage" data-mtime="2022-07-25T21:46:43+09:00">H8／3048F</a></li>
 <li><a href="AutoTicketLinkName.html" class="link_page_passage" data-mtime="2022-07-25T16:51:44+09:00">AutoTicketLinkName</a></li>
</ul>
<strong>2021-12-11</strong>
<ul class="recent_list">
 <li><a href="FormattingRules.html" class="link_page_passage" data-mtime="2021-12-11T00:40:03+09:00">FormattingRules</a></li>
</ul>
<strong>2021-12-08</strong>
<ul class="recent_list">
 <li><a href="PukiWiki/1.4/Manual/Plugin/O2D-R.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/O-R</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/V2D-Z.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/V-Z</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/S2D-U.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/S-U</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/L2D-N.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/L-N</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/H2D-K.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/H-K</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/E2D-G.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/E-G</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/A2D-D.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/A-D</a></li>
</ul>
<strong>2020-02-23</strong>
<ul class="recent_list">
 <li><a href="YukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">YukiWiki</a></li>
 <li><a href="WikiWikiWeb.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">WikiWikiWeb</a></li>
 <li><a href="PHP.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PHP</a></li>
 <li><a href="PukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PukiWiki</a></li>
</ul>
<strong>2018-12-19</strong>
<ul class="recent_list">
 <li><a href="SandBox.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">SandBox</a></li>
 <li><a href="InterWiki.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">InterWiki</a></li>
</ul>
<strong>2015-05-07</strong>
<ul class="recent_list">
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="2013-03" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2F2013-03">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=2013-03">編集</a></li><li><a href="./?cmd=diff&amp;page=2013-03">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">2013-03</h1><div id="contentSub"></div>
    <p><a href="20132D-02.html" class="link_page_passage" data-mtime="2013-02-25T00:27:48+09:00">2013-02</a>　<a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a>　<a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a>　<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>　<a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></p>
<hr class="full_hr" />
<h2 id="content_1_0">３月<a class="anchor_super" id="xdcceb3f" href="#xdcceb3f" title="xdcceb3f" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>先月は、秋月PIC32MX220F032B用のブートローダーを作っていた。</li>
<li>作ったといっても、UBW32用のHIDBoot.Xを少し改造しただけ。</li>
<li>read more : <a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li></ul>
<p>持ち越し案件</p>
<ul class="list1 list-indent1"><li>pic32mxでFTDI互換(JTAG)ファーム
<br />
<br />
<br />
<br /></li></ul>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">PIC32MX220F032<a class="anchor_super" id="w1babdd6" href="#w1babdd6" title="w1babdd6" style="user-select:none;">&dagger;</a></h2>
<p>先月までの成果まとめ。</p>
<ul class="list1 list-indent1"><li>開発環境構築
<ul class="list2 list-indent1"><li><strong>Pinguino</strong>がArduinoっぽくてお手軽。</li>
<li>MPLAB-Xは駄目。<strong>MPLABとそれに付属のpic32-gccを使う</strong>べし。(-mips16もちゃんと使える)</li>
<li>ブートローダー探し。<strong>HIDBoot.X</strong>で決まり。
<ul class="list3 list-indent1"><li>AN1388はHEXテキストをそのまま扱うっぽいので、ローダーがでかいしコードも複雑。それにPinguino互換じゃない。</li></ul></li></ul></li></ul>
<p><br /></p>
<ul class="list2 list-indent2"><li>ライターはPicKit2/3がベスト。ライターソフトは<strong>pic32prog</strong>で決まり。
<ul class="list3 list-indent1"><li>PicKit2互換機は手軽に作れて安いし、WinXP/8(64bit)の両方でドライバー導入要らずで、しかも安定動作する。</li></ul></li></ul>
<p><br />
<br /></p>
<ul class="list1 list-indent1"><li>ファームウェア/アプリケーション
<ul class="list2 list-indent1"><li>Pinguinoのスケッチは手軽でシンプル。便利。
<ul class="list3 list-indent1"><li>PinguinoスケッチをGUIを使わずに、付属のmake.exeを使ってビルドするCUI環境を作った。</li>
<li>ついでに、bootloaderを使用せずに自力起動するビルドも可能にしてみた。Flash領域32kB目一杯使い切れる。</li></ul></li></ul></li></ul>
<p><br /></p>
<ul class="list2 list-indent2"><li>HIDBoot.Xのファームウェアは汎用的に使える。
<ul class="list3 list-indent1"><li>PCから簡単にPIC32MX上のメモリーやポートを読み書きできる。</li>
<li>USB HIDデバイスのお手本になっている。</li>
<li>MPLAB付属のpic32-gccでビルドする(GUI)方法と、Pinguinoのmips-gccでビルドする(コマンドラインmake)環境の
両方を用意した。</li>
<li>これにより、60日試用期間を過ぎても安心してサイズ最適化や-mips16オプションが使えるようになった。</li></ul></li></ul>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">PIC32MXの続編<a class="anchor_super" id="jeab1a50" href="#jeab1a50" title="jeab1a50" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>オーバークロック/アンダークロック
<ul class="list2 list-indent1"><li>16MHz〜72MHzまで、安定動作範囲。</li>
<li>80MHzは動きはするものの、不安定。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>水晶を使わずにUSB
<ul class="list2 list-indent1"><li>すでにやった人がいる。</li>
<li>外部回路は要らないけれど、ピン同士の配線（内蔵RC発振の外だし）が必要。</li>
<li>やってみてもいいけれど水晶安い(50円)し周波数が安定しているので、あえて50円をケチる理由が無い。たまたま8MHz切らしてるときも4〜20MHzの4MHz刻みのどれかなんて、ジャンク箱あされば出てくるし。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>オシロスコープとかロジアナの簡易実装
<ul class="list2 list-indent1"><li>これはPIC32MXを使う目的のひとつでもある。</li>
<li>壊しても惜しくないし小さく作れる。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>FT2232互換 JTAGドングルのソフトウェア実装
<ul class="list2 list-indent1"><li>これがそもそもPIC32MXを使ってやってみようと思った動機。</li>
<li>どう無駄に作っても32kB以内に実装出来そうだし、それほど複雑でもないし。SRAMも足りる。</li>
<li>これまで、独自実装のOpenOCDデバイスを作ったりしたけれども、OpenOCDのリポジトリ更新に付いていけないと分かったので、だったらMPSSEの一部コマンド(OpenOCDで使ってるものだけ)を実装したほうが話が早いし、動作も速い。</li>
<li>220円＋αで作れるので、FT2232より安く作れる。ファーム書くのが少し面倒臭い程度。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>VGAとかNTSC出力のGDPもどきを実装。
<ul class="list2 list-indent1"><li>いわゆるあれ、ARM(STM32)でも同様のを見たけど。ワンチップ・テレタイプ端末(RS-232C)っぽいやつ。</li>
<li><a href="http://www.ze.em-net.ne.jp/~kenken/picrope/index.html" rel="nofollow">TVゲーム作ってる人</a>も居たなぁ。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>レトロBSD , Z80 (CP/M) エミュレータ
<ul class="list2 list-indent1"><li><strong>MX220F032B</strong>でやろうと思っても、RAMが足らない。</li>
<li>AVRの作例みたいに、強引な外付けS-RAMとか外付けD-RAMという手段は残っている。</li>
<li>面白いか、と言われると、うーん、どうなんだろう。</li>
<li>AVRでやると、凄いなーと思われるけれど、MIPS32だと出来て当たり前だし。</li>
<li>retroBSDは置いといて、CP/Mのほうは、もうアプリ持って無い。Z80マシン語も今更書きたくない。（全部覚えてるけど）</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>Android Accesory
<ul class="list2 list-indent1"><li>PIC32MXがUSBホストになって、それより遥かに高性能なアンドロイド端末をUSBデバイスとして接続。</li>
<li>ADBのプロトコルに間借りする形でソケットコネクションして、あとはデータ転送するだけなので、結局のところ論理的にはRS232Cで繋がってるのとたいして変わらない（のだと思っている）。</li>
<li>MPLABのUSBフレームワークサンプルにADKのやつがあったので、MX220対応させるだけで多分そのまま動くと思うんだ。</li>
<li>Androidのアプリ考えるのが面倒面倒。</li></ul></li></ul>
<p><br />
結論</p>
<ul class="list1 list-indent1"><li>まずは、ロジアナとオシロを書いて、</li>
<li>気が向いたらMPSSE互換機、</li>
<li>最後に、応用でVGA出力のGDP実装。</li></ul>
<p>だけど、ARM弄る気あんまり残ってないので<strong>JTAG要らん</strong>かなぁ・・・FT2232は実物あるし。</p>
<p>まあ、そんな感じ。
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">PIC32MXで仮想シリアル<a class="anchor_super" id="i1828bd8" href="#i1828bd8" title="i1828bd8" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>やってみた結果、<strong>PinguinoのUSB CDCは遅い</strong>（390kBPSしか出ない）ということが分かった。</li>
<li>Mchipサンプルのほうが優秀で、2M BPS出る。</li></ul>
<ul class="list1 list-indent1"><li>Mchipサンプルから作成したUSB-シリアル変換器も動いた。（以前はuart2.cがおかしくてBugっていたので、uart1.cを新たに起こした。）</li></ul>
<ul class="list1 list-indent1"><li>USB HOST(<span class="noexists"><a href="./?cmd=edit&amp;page=KeyBoard&amp;refer=2013-03">KeyBoard</a></span>)は、sbrkのバグを直して、とりあえず動作確認の手前に辿り着いた。けど肝心のキーボードが規格外（HUB内蔵）だったので、別のキーボードを探し中</li></ul>
<p>続きを読む: <a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">PIC32MXで仮想シリアル</a></p>
<p>続きを読む: <a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></p>
<p>続きを読む: <a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</p>
<ul class="list1 list-indent1"><li>USB HOST Mouseも動いた。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_4">ここまでのまとめ。<a class="anchor_super" id="oae94439" href="#oae94439" title="oae94439" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>Pinguinoのmips-gccを使って、MchipのUSBサンプルを動かす技はほぼ会得した。</li>
<li>HOSTとかAndroid ADKなんかも動く（と思う。ビルドだけは成功している）けど24kB超える勢いなのでブートローダーからの書き込みは無理。当然'-mips16'で'-Os'で'--gc-sections'さらにcrt0.Sも改造済み。</li>
<li>cdcserialは動いたと思ったけど、UARTのIO Remapに失敗している気配。(USBデバイスとしては認識OKでWindowsからは正常に動いているように見える)</li>
<li>bulk(WinUSB)デバイスは速い。1MB/s。</li>
<li>クロックは72MHzで常用している。80MHzでは無理。それから間違って水晶を12MHzで実装してしまった（ICソケットの中に埋めた）のでIDIVを1/3 (12MHz-&gt;4MHz)で使っている。ブートローダーで試すときはFuseや水晶のことは考えなくてOK。(configを無視するので)</li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">これからどうするか。<a class="anchor_super" id="a5877fd4" href="#a5877fd4" title="a5877fd4" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>オシロとロジアナっぽいやつをでっちあげてみる。(WinUSB叩いて)</li>
<li>JTAGは飽きたのでやめ。</li>
<li>VGA出力も、要らんかなぁ・・・（USBキーボードと液晶モニタ繋いで英字が出せる端末は作れるけどそれ以上の用途が思いつかない）</li>
<li>たぶんNTSC出力出して、32kBレギュレーションのイントロ・デモ（メガデモの一種）に挑戦するのも悪くないとは思うけれど自分はセンスが無いのでやらない。</li></ul>
<ul class="list1 list-indent1"><li>sdcardくらいは繋げてみるか。</li></ul>
<p><br />
<br /></p>
<p>まあともかく</p>
<ul class="list1 list-indent1"><li>220円＋少ない外付け部品で、12Mbit/sまでのUSBをとことん堪能できるチップは稀有だと思う。</li>
<li>32kB Flash+8kB SRAMはアプリを書くには少なすぎるけれど、デバイスとしてはむしろ充分だし72MHzはDIPにしては充分速い。（定格上は50MHz）</li>
<li>このコスパに対抗できるチップって、ないんだな。Cortex系でUSB入りだと高いしDIP品種がないし。</li>
<li>8bitで遅くて良いならArduino LeonardのATmega32u8とかあるけど、あっちのほうがUSB SIEとしてはしょぼい。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">USB HOSTサンプルのビルド。<a class="anchor_super" id="t60700de" href="#t60700de" title="t60700de" style="user-select:none;">&dagger;</a></h2>
<p>USB HOST Keyboard</p>
<ul class="list1 list-indent1"><li>ちゃんと動いている。</li>
<li>ファームサイズは24kBを少し超えている。</li>
<li>ためしに<strong>-mips16</strong>を外したら、32kBを2kB程度超えるので、焼けない。2kBの大半は.dataセクションで0連続が多いのと、3kBのBOOT ROMはまだ空いているので、詰め込めなくはないけれど、Mchipのコンパイラを使ってたら絶望だな。（うわさでは<strong>-O0オプション</strong>しか許さないらしい。どういう罰ゲームなんだろ）</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>問題は、空きエリアがあと8kBも無いので、USBキーボードが使えるVGA端末を作ることは不可能だ。（英字フォントを入れるだけで4kBくらいは消費してしまい、残り4kB以内でVGA OUTとターミナルを書かなければならない。<strong>絶対無理だ</strong>）</li></ul>
<p><br /></p>
<p><br />
Android ADK</p>
<ul class="list1 list-indent1"><li>諦めた。</li>
<li>容量的には、20kB以内。</li>
<li>動いてるんだけどAndroidと通信しない。理由がさっぱりわからない。（どっちも組み込みなので、調べようがない）
<ul class="list2 list-indent1"><li>print吐くようにして調べた結果、物理的に全くネゴシエーションしていないっぽい。</li>
<li>Android側が480Mbpsで送信してきて、PIC32MX側は<strong>「ハァ？意味わかんねー」</strong>って感じでUSB SIEが応答できない感じ。<strong>12MHzのマイコンに480MHzなんか聞こえるわけねーじゃん。</strong></li></ul></li></ul>
<ul class="list1 list-indent1"><li>そういえば、HighSpeedデバイスをFullSpeedホストに繋ぐ場合、どういうネゴが行なわれるんだろうか？
<ul class="list2 list-indent1"><li>FullとLowでは、デバイス側のPullUpポートがD+とかD-の片側だけにしていて、ホスト側はどちらかのピンがPullUpされたらデバイスが接続されたと認識してたはずだけど・・・。
<ul class="list3 list-indent1"><li>LowSpeedではD-が、FullSpeedではD+がPullUpされる。</li></ul></li>
<li>HighSpeedのときはどうなってたっけ、<del>PullUpじゃなくていきなり480MHzで話しかけるのかな。（要調査）</del>
<ul class="list3 list-indent1"><li>HighSpeedデバイスも、<strong>まずはFullSpeedでネゴシエーションしてから</strong>480Mbpsに移行するらしい。---そこが出来ていないんじゃあ？</li></ul></li></ul></li></ul>
<p><br /></p>
<p><br />
追記:</p>
<ul class="list1 list-indent1"><li>MicroChipのADKアプリはPlayストアで配布されているので、それを入手する。</li>
<li>usb_host.c あたりで DEBUG_MODE を定義すると、attachとかdetachの表示をしてくれる(Serial Printに繋ぐ)</li>
<li>それで、ADKのファームを再ビルドして、いろいろなデバイスを繋いでみる。</li>
<li>KB MouseなどのLowSpeedデバイスはちゃんと認識する。</li>
<li>USB内蔵マイコン(<span class="noexists"><a href="./?cmd=edit&amp;page=FullSpeed&amp;refer=2013-03">FullSpeed</a></span>)を使ったHIDやCDCデバイスはだいたい認識する。</li>
<li>USBメモリーの中には認識するものとしないものがある。しないものは無反応。</li>
<li>Androidを、（アプリ起動状態あり、なしの両方で）接続してみたけれど、PIC32MX側は全く無反応。</li></ul>
<p>どうやら、Android端末がHighSpeedデバイスなので、そもそも物理的にネゴシエーションしてないんじゃないか疑惑。</p>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">続きはWEBで！<a class="anchor_super" id="o826874c" href="#o826874c" title="o826874c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="USB_HOST.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USB_HOST</a>に少し足を突っ込んでみたので、次のテーマとしては、</li>
<li>（１）<a href="USB_HOST.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USB_HOST</a>に接続されたデバイスのディスクリプタやエンドポイントを列挙するツール。</li>
<li>（２）USB Keyboardをシリアルポートに変換する変換器</li>
<li>（３）USB Keyboardを楽器演奏に使ってみる。</li></ul>
<p>（３）はPS/2キーボードを使った演奏プログラム(<a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a>)を移植してみるテスト。</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_8">RETROF-16のエミュレータ再び<a class="anchor_super" id="wcbef61d" href="#wcbef61d" title="wcbef61d" style="user-select:none;">&dagger;</a></h2>
<p>retrof-16とは？</p>
<ul class="list1 list-indent1"><li>duo6750さんが作成中の（２１世紀に実在する）</li>
<li>TTLのみで作るコンピュータです。</li></ul>
<ul class="list1 list-indent1"><li>下記サイトに詳細があります。</li></ul>
<ul class="list1 list-indent1"><li><a href="http://retrof.jpn.org/" rel="nofollow">http://retrof.jpn.org/</a></li></ul>
<p><br /></p>
<p><a href="http:/ATMEL_AVR/upload/R16/r16sim.zip" rel="nofollow">ダウンロードはこちら</a></p>
<p>実行例写真</p>
<p><a href="http:/ATMEL_AVR/upload/R16/r16sim.png" rel="nofollow"><img src="http:/ATMEL_AVR/upload/R16/r16sim.png" alt="http:/ATMEL_AVR/upload/R16/r16sim.png" /></a></p>
<p><br />
出来てるところ</p>
<ul class="list1 list-indent1"><li>Windows/Linux上のgcc/makeでビルドできる。</li>
<li>なんとなく命令セットをエミュレートしているように見える。</li>
<li>逆アセンブルもする。</li>
<li>ＧＵＩっぽいものを追加しました。<span style="color:RED">←ここが新しいところ</span>
<ul class="list2 list-indent1"><li><span style="color:BLUE">SPACEキーを押すと実行速度を変えられます</span></li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_9">R16アセンブラ、＋cina16 + ナイトライダー風サンプル<a class="anchor_super" id="lbf0a6fb" href="#lbf0a6fb" title="lbf0a6fb" style="user-select:none;">&dagger;</a></h4>
<p><a href="http:/ATMEL_AVR/upload/R16/asm16.zip" rel="nofollow">ダウンロード</a></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>R16 asmソースを入力して、バイナリーとリストを出力します。</li>
<li>バイナリーは常に０番地から始まるイメージです。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_10">遊び方。<a class="anchor_super" id="k16aabf0" href="#k16aabf0" title="k16aabf0" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>Windows XP/Vista/7/8のどれかを用意します。</li>
<li>上記の２つのzipをどこか適当なdirに（並べて）展開します。</li>
<li>MinGW32 gccとmakeをインストールしておいてください。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>asm16/nr.c がナイトライダーです。
<pre>     /*	R16: ナイトライダー */

	org 0;

	do {
		r80h = 7;
		r81h = 16;
		do {
			ld	r80h;
			OUT	0;
			do {
				r82h++;
			} while(nf);		//	} while(r82h != 0xFFFF) ;

			ld(r80h);
			sfl;
			st(r80h);	//	r80h &lt;&lt;= 1 ;

			r81h--;
		} while(nf);			//	if (r81h != (-1)) goto A0002;
	} while(1);</pre></li>
<li>nr.lst
<pre>                                      
0000:                                            org  0 
0000:                                 __do000:         
0000:8007 c480                                   mov  r80h,7 
0002:8010 c481                                   mov  r81h,16 
0004:                                 __do001:         
0004:9080                                        ld   r80h 
0005:c600                                        OUT  0 
0006:                                 __do002:         
0006:9082 8801 c482                              inc  r82h 
0009:0b04                                        jnf  __do002 
000a:                                 __od002:         
000a:9080                                        ld   r80h 
000b:cc0b                                        sfl   
000c:c480                                        st   r80h 
000d:9081 8c01 c481                              dec  r81h 
0010:0b0d                                        jnf  __do001 
0011:                                 __od001:         
0011:0812                                        jmp  __do000 
0012:                                 __od000:         
</pre></li></ul>
<pre>SYMBOL LIST:
                 = 17	(0x11)
__od000          = 18	(0x12)
__od001          = 17	(0x11)
__od002          = 10	(0xa)
__do000          = 0	(0x0)
__do001          = 4	(0x4)
__do002          = 6	(0x6)</pre>
<ul class="list1 list-indent1"><li>asm16ディレクトリで make test するとビルドが完了します。</li>
<li>r16simディレクトリで a.bat を実行するとエミュレータが動きます。</li></ul>
<p>エミュレータは逆アセンブル表示が遅いので、カーソル上キーを１回押して、スペースキーを１回押してください。</p>
<ul class="list1 list-indent1"><li>ナイトライダーします。</li></ul>
<ul class="list1 list-indent1"><li>詳しくは各ディレクトリの<span class="noexists"><a href="./?cmd=edit&amp;page=ReadMe&amp;refer=2013-03">ReadMe</a></span>.txtを参照してください。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_11">R16でインベーダー<a class="anchor_super" id="lf43953c" href="#lf43953c" title="lf43953c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>一匹表示のみです。ゲームではありません。</li></ul>
<p><a href="http:/ATMEL_AVR/upload/R16/inv.png" rel="nofollow"><img src="http:/ATMEL_AVR/upload/R16/inv.png" alt="http:/ATMEL_AVR/upload/R16/inv.png" /></a></p>
<ul class="list1 list-indent1"><li>ソース
<pre>//-------------------------------------------
	org 0;  goto _start;

//	暗黙のレジスタ
at		equ	r13;		// assembler temp.
lr		equ	r14;		// link register.
sp		equ	r15;		// stack pointer.

//	ユーザー割り当てレジスタ
x		equ r16;
y		equ r17;
bc		equ	r18;
de		equ	r19;
hl		equ r20;
ix		equ r21;
a		equ	r22;
i		equ	r23;
j		equ	r24;
k		equ	r25;

//	定数equ.
r		equ	4;
g		equ	2;
b		equ	1;
w		equ	7;
b		equ	0;
c		equ	3;
p		equ	5;


	org 256;
/*-------------------------------------------
 *	スタートアップ.
 *-------------------------------------------
 */
_start:
	sp=0x100;
	main();
	halt;
/*-------------------------------------------
 *	データ
 *-------------------------------------------
 */
invdata:
	dot		0,0,0,0,0,0,0,0
	dot		0,0,0,g,g,g,0,0
	dot		0,0,g,g,g,g,g,0
	dot		0,g,0,g,g,g,0,g
	dot		0,0,g,g,g,g,g,0
	dot		0,0,0,g,0,g,0,0
	dot		0,0,g,0,0,0,g,0
	dot		0,0,0,0,0,0,0,0
/*-------------------------------------------
 *	メイン
 *-------------------------------------------
 */
main()
{
	subr();
}

/*-------------------------------------------
 *	サブ
 *-------------------------------------------
 */
subr()
{
	cls();
	k=0;do {
		//
		//	虫を画面いっぱいに敷き詰める.
		//	(x,y)は座標. ixはVRAMアドレス.
		y=0;do {
			x=0;do {
				ix=y;ix&lt;&lt;=7;	// 128倍.
				ix+=x;
				at=k;at&gt;&gt;=4;	// ix += (k/16) ずらし.
				ix+=at;
				
				putdata1();		//一匹虫を書く.
				x+=4;			//左へ８ドット.
			}while(x!=128);
			y+=8;				//下へ８ドット.
		}while(y!=256);
		k++;
		OUT	0;				//LEDを更新してみる.
	}while(1);				//無限ループ.
}

/*-------------------------------------------
 *	虫を一匹だけ書く.
 *-------------------------------------------
 *	引数
 *	ix : VRAMアドレス.
 */
putdata1()
{
	hl=ix;
	de=invdata;blit8x8();
}

/*-------------------------------------------
 *	画面を消す.
 *-------------------------------------------
 */
cls()
{
	hl=0;
	do {
		ld 0;
		stv([hl]);
		hl++;
	}while(hl!=0x8000);
//	}while(hl!=0x8);
}

/*-------------------------------------------
 *	画面に8x8のデータを書き込む.
 *-------------------------------------------
 *	引数:
 *		de: 8x8ドットデータの存在するアドレス
 *		hl:	書き込み先のVRAMアドレス.
 */
blit8x8()
{
	j=8;do {
		i=4;do {		// 8dot=4ワード.
			ld([de]);
			stv([hl]);
			hl++;
			de++;
		}while(--i);
		hl+=124;
	}while(--j);
}
/*-------------------------------------------
 *	以下、テストパターン.
 *-------------------------------------------
 */
test1()
{
	hl=1024;
	for(bc=0;bc&lt;2000;bc++) {	// for文のテスト.
		if(de&lt;hl) a++;
	}

test2:
	while(a!=100) {				// while文のテスト.
		bc++;
	}

test3:
	a=0;
	do {
		a++;
	}while(a==0x4a);			// do〜while文のテスト.
test4:
	a=0;
	do {
		a++;
	}while(a&lt;0x4a);				// do〜while文のテスト(終了判定が不等式).
}



/*-------------------------------------------
 *	おまけ：ナイトライダー.
 *-------------------------------------------
 */
subr2()
{
	do {
		r80h = 7;
		r81h = 16;
		do {
			ld	r80h;
			OUT	0;
			do {
				r82h++;
			} while(nf);		//	} while(r82h != 0xFFFF) ;
			r80h &lt;&lt;= 1 ;
			r81h--;
		} while(nf);			//	if (r81h != (-1)) goto A0002;
	} while(1);
}</pre></li></ul>
<ul class="list1 list-indent1"><li>コンパイル結果
<pre>0000:                                            org  0 
0000:04ff                                        jmp  _start 
0001:                                 at:        equ  r13 
0001:                                 lr:        equ  r14 
0001:                                 sp:        equ  r15 
0001:                                 x:         equ  r16 
0001:                                 y:         equ  r17 
0001:                                 bc:        equ  r18 
0001:                                 de:        equ  r19 
0001:                                 hl:        equ  r20 
0001:                                 ix:        equ  r21 
0001:                                 a:         equ  r22 
0001:                                 i:         equ  r23 
0001:                                 j:         equ  r24 
0001:                                 k:         equ  r25 
0001:                                 r:         equ  4 
0001:                                 g:         equ  2 
0001:                                 b:         equ  1 
0001:                                 w:         equ  7 
0001:                                 b:         equ  0 
0001:                                 c:         equ  3 
0001:                                 p:         equ  5 
0100:                                            org  256 
0100:                                 _start:          
0100:b000 0100 c40f                              mov  sp,0100h 
0103:c202 c40e 0422                              call main 
0106:cf00 0106                                   halt  
0108:                                 invdata:         
0108:0000 0000 0000 0000                         dot  0,0,0,0,0,0,0,0 
010c:0000 0002 0022 0000                         dot  0,0,0,g,g,g,0,0 
0110:0000 0022 0022 0020                         dot  0,0,g,g,g,g,g,0 
0114:0002 0002 0022 0002                         dot  0,g,0,g,g,g,0,g 
0118:0000 0022 0022 0020                         dot  0,0,g,g,g,g,g,0 
011c:0000 0002 0002 0000                         dot  0,0,0,g,0,g,0,0 
0120:0000 0020 0000 0020                         dot  0,0,g,0,0,0,g,0 
0124:0000 0000 0000 0000                         dot  0,0,0,0,0,0,0,0 
0128:                                 main:            
0128:900f 8401 c40f 900e d40f                    enter  
012d:c202 c40e 040b                              call subr 
0130:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
013b:                                 subr:            
013b:900f 8401 c40f 900e d40f                    enter  
0140:c202 c40e 0459                              call cls 
0143:8000 c419                                   mov  k,0 
0145:                                 __do000:         
0145:8000 c411                                   mov  y,0 
0147:                                 __do001:         
0147:8000 c410                                   mov  x,0 
0149:                                 __do002:         
0149:9011 c415                                   mov  ix,y 
014b:9015 c801 c801 c801 c801 c801 c801 c801 c415            sfl  ix,7 
0154:9015 9810 c415                              add  ix,x 
0157:9019 c40d                                   mov  at,k 
0159:900d c601 c601 c601 c601 c40d               sfr  at,4 
015f:9015 980d c415                              add  ix,at 
0162:c202 c40e 041f                              call putdata1 
0165:9010 8804 c410                              add  x,4 
0168:8080 9410                                   cp   x,128 
016a:8401                                        sub  1 
016b:0a23                                        jnf  __do002 
016c:                                 __od002:         
016c:9011 8808 c411                              add  y,8 
016f:b000 0100 9411                              cp   y,256 
0172:8401                                        sub  1 
0173:0a2d                                        jnf  __do001 
0174:                                 __od001:         
0174:9019 8801 c419                              inc  k 
0177:cc00                                        OUT  0 
0178:0834                                        jmp  __do000 
0179:                                 __od000:         
0179:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
0184:                                 putdata1:        
0184:900f 8401 c40f 900e d40f                    enter  
0189:9015 c414                                   mov  hl,ix 
018b:b000 0108 c413                              mov  de,invdata 
018e:c202 c40e 0427                              call blit8x8 
0191:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
019c:                                 cls:             
019c:900f 8401 c40f 900e d40f                    enter  
01a1:8000 c414                                   mov  hl,0 
01a3:                                 __do003:         
01a3:8000                                        ld   0 
01a4:de14                                        stv  [hl] 
01a5:9014 8801 c414                              inc  hl 
01a8:b000 8000 9414                              cp   hl,08000h 
01ab:8401                                        sub  1 
01ac:0a0a                                        jnf  __do003 
01ad:                                 __od003:         
01ad:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
01b8:                                 blit8x8:         
01b8:900f 8401 c40f 900e d40f                    enter  
01bd:8008 c418                                   mov  j,8 
01bf:                                 __do004:         
01bf:8004 c417                                   mov  i,4 
01c1:                                 __do005:         
01c1:a013                                        ld   [de] 
01c2:de14                                        stv  [hl] 
01c3:9014 8801 c414                              inc  hl 
01c6:9013 8801 c413                              inc  de 
01c9:9017 8401 c417                              dec  i 
01cc:8401                                        sub  1 
01cd:0a0d                                        jnf  __do005 
01ce:                                 __od005:         
01ce:9014 887c c414                              add  hl,124 
01d1:9018 8401 c418                              dec  j 
01d4:8401                                        sub  1 
01d5:0a17                                        jnf  __do004 
01d6:                                 __od004:         
01d6:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
01e1:                                 test1:           
01e1:900f 8401 c40f 900e d40f                    enter  
01e6:b000 0400 c414                              mov  hl,1024 
01e9:8000 c412                                   mov  bc,0 
01eb:                                 __fo006:         
01eb:b000 07d0 9412                              cp   bc,2000 
01ee:440a                                        jnc  __of006 
01ef:9014 9413                                   cp   de,hl 
01f1:4403                                        jnc  __el007 
01f2:9016 8801 c416                              inc  a 
01f5:                                 __el007:         
01f5:9012 8801 c412                              inc  bc 
01f8:080e                                        jmp  __fo006 
01f9:                                 __of006:         
01f9:                                 test2:           
01f9:                                 __wh008:         
01f9:8064 9416                                   cp   a,100 
01fb:8401                                        sub  1 
01fc:0704                                        jf   __ew008 
01fd:9012 8801 c412                              inc  bc 
0200:0808                                        jmp  __wh008 
0201:                                 __ew008:         
0201:                                 test3:           
0201:8000 c416                                   mov  a,0 
0203:                                 __do009:         
0203:9016 8801 c416                              inc  a 
0206:804a 9416                                   cp   a,04ah 
0208:8401                                        sub  1 
0209:0b07                                        jf   __do009 
020a:                                 __od009:         
020a:                                 test4:           
020a:8000 c416                                   mov  a,0 
020c:                                 __do010:         
020c:9016 8801 c416                              inc  a 
020f:804a 9416                                   cp   a,04ah 
0211:4906                                        jc   __do010 
0212:                                 __od010:         
0212:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  
021d:                                 subr2:           
021d:900f 8401 c40f 900e d40f                    enter  
0222:                                 __do011:         
0222:8007 c480                                   mov  r80h,7 
0224:8010 c481                                   mov  r81h,16 
0226:                                 __do012:         
0226:9080                                        ld   r80h 
0227:cc00                                        OUT  0 
0228:                                 __do013:         
0228:9082 8801 c482                              inc  r82h 
022b:8401                                        sub  1 
022c:0a05                                        jnf  __do013 
022d:                                 __od013:         
022d:9080 c801 c480                              sfl  r80h,1 
0230:9081 8401 c481                              dec  r81h 
0233:8401                                        sub  1 
0234:0a0f                                        jnf  __do012 
0235:                                 __od012:         
0235:0814                                        jmp  __do011 
0236:                                 __od011:         
0236:a00f c40e 900f 8801 c40f c204 c40d 900e d40d 3000 0000            leave  


SYMBOL LIST:
                 = 566	(0x236)
a                = R22	(0x16)
b                = 0	(0x0)
c                = 3	(0x3)
subr             = 315	(0x13b)
g                = 2	(0x2)
i                = R23	(0x17)
j                = R24	(0x18)
k                = R25	(0x19)
p                = 5	(0x5)
r                = 4	(0x4)
w                = 7	(0x7)
x                = R16	(0x10)
y                = R17	(0x11)
__od000          = 377	(0x179)
__od001          = 372	(0x174)
__od002          = 364	(0x16c)
__od003          = 429	(0x1ad)
__od004          = 470	(0x1d6)
__od005          = 462	(0x1ce)
__od010          = 530	(0x212)
__od009          = 522	(0x20a)
__od011          = 566	(0x236)
__od012          = 565	(0x235)
__od013          = 557	(0x22d)
invdata          = 264	(0x108)
cls              = 412	(0x19c)
subr2            = 541	(0x21d)
bc               = R18	(0x12)
at               = R13	(0xd)
de               = R19	(0x13)
hl               = R20	(0x14)
ix               = R21	(0x15)
lr               = R14	(0xe)
sp               = R15	(0xf)
blit8x8          = 440	(0x1b8)
test1            = 481	(0x1e1)
test2            = 505	(0x1f9)
test3            = 513	(0x201)
test4            = 522	(0x20a)
__do000          = 325	(0x145)
__do001          = 327	(0x147)
__do002          = 329	(0x149)
__do003          = 419	(0x1a3)
__do004          = 447	(0x1bf)
__do005          = 449	(0x1c1)
__do010          = 524	(0x20c)
__do009          = 515	(0x203)
__do011          = 546	(0x222)
__do012          = 550	(0x226)
__do013          = 552	(0x228)
__of006          = 505	(0x1f9)
__ew008          = 513	(0x201)
__el007          = 501	(0x1f5)
main             = 296	(0x128)
_start           = 256	(0x100)
__wh008          = 505	(0x1f9)
__fo006          = 491	(0x1eb)
putdata1         = 388	(0x184)</pre></li></ul>
<p><br />
<br />
<br /></p>
<p><a href="20132D-02.html" title="2013-02" class="link_page_passage" data-mtime="2013-02-25T00:27:48+09:00">＜前の月</a>｜<a href="20132D-04.html" title="2013-04" class="link_page_passage" data-mtime="2013-04-28T22:12:02+09:00">次の月＞</a>
<br />
<br /></p>
   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="http:/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2014-11-17 (月) 14:44:26<span class="page_passage" data-mtime="2014-11-17T14:44:26+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.032 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
