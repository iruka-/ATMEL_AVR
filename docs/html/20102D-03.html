<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>2010-03 - PukiWiki</title>

<!---
 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/180wiki-sp.css" />

 --->

 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/monobook/mobile.css" />
 <link rel="stylesheet" media="screen and (min-width:769px)" href="../skin/monobook/monobook.css" />

 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />

 <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div id="globalWrapper">
 <div id="menubar"><ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2022-07-31</strong>
<ul class="recent_list">
 <li><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">ＷｉｄｅＴｅｘｔ</a></li>
 <li><a href="RecentDeleted.html" class="link_page_passage" data-mtime="2022-07-31T15:25:08+09:00">RecentDeleted</a></li>
 <li><a href="SiteMap.html" class="link_page_passage" data-mtime="2022-07-31T15:21:46+09:00">SiteMap</a></li>
</ul>
<strong>2022-07-25</strong>
<ul class="recent_list">
 <li><a href="20082D-10.html" class="link_page_passage" data-mtime="2022-07-25T22:19:24+09:00">2008-10</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
 <li><a href="H8EF-BC-8F-3048F.html" class="link_page_passage" data-mtime="2022-07-25T21:46:43+09:00">H8／3048F</a></li>
 <li><a href="AutoTicketLinkName.html" class="link_page_passage" data-mtime="2022-07-25T16:51:44+09:00">AutoTicketLinkName</a></li>
</ul>
<strong>2021-12-11</strong>
<ul class="recent_list">
 <li><a href="FormattingRules.html" class="link_page_passage" data-mtime="2021-12-11T00:40:03+09:00">FormattingRules</a></li>
</ul>
<strong>2020-02-23</strong>
<ul class="recent_list">
 <li><a href="YukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">YukiWiki</a></li>
 <li><a href="PHP.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PHP</a></li>
 <li><a href="WikiWikiWeb.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">WikiWikiWeb</a></li>
</ul>
<strong>2018-12-19</strong>
<ul class="recent_list">
 <li><a href="SandBox.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">SandBox</a></li>
 <li><a href="InterWiki.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">InterWiki</a></li>
</ul>
<strong>2015-05-07</strong>
<ul class="recent_list">
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li>
</ul>
<strong>2015-05-02</strong>
<ul class="recent_list">
 <li><a href="MenuBar.html" class="link_page_passage" data-mtime="2015-05-02T16:20:12+09:00">MenuBar</a></li>
 <li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
 <li><a href="http:/ATMEL_AVR/html/" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">FrontPage</a></li>
 <li><a href="20142D-12.html" class="link_page_passage" data-mtime="2015-05-02T15:53:50+09:00">2014-12</a></li>
</ul>
<strong>2015-02-01</strong>
<ul class="recent_list">
 <li><a href="pic32vga.html" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">pic32vga</a></li>
</ul>
<strong>2015-01-22</strong>
<ul class="recent_list">
 <li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="2010-03" class="link_page_passage" data-mtime="2010-03-31T14:46:10+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2F2010-03">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=2010-03">編集</a></li><li><a href="./?cmd=diff&amp;page=2010-03">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">2010-03</h1><div id="contentSub"></div>
    <p><a href="20102D-02.html" class="link_page_passage" data-mtime="2010-03-07T22:01:20+09:00">2010-02</a>←　→ <a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＡＶＲ／ＰＩＣ両用ライター</a>　<a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換 </a>　<a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード </a>　<a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">簡易ロジアナ、赤外線リモコン信号観測</a></p>
<h3 id="content_1_0">３月兎<a class="anchor_super" id="ffb4ca67" href="#ffb4ca67" title="ffb4ca67" style="user-select:none;">&dagger;</a></h3>
<p><br />
<strong>今月の目標</strong></p>
<ul class="list1 list-indent1"><li>赤外線でビビビ(これも既製品を買ったら敗北だ。)</li></ul>
<ul class="list1 list-indent1"><li>地アナしか映らないブラウン管テレビ（地デジＴＶ購入とともにリサイクル行き）</li>
<li>の回収時、回収を逃れて放置された赤外線リモコンデバイスがあるので、</li></ul>
<p>そいつに、<strong>ＡＶＲチップを注入だ！</strong> &lt;---- 普通にテレビリモコン買ったら１０００円しないのに・・・という突っ込みはなしで。</p>
<ul class="list1 list-indent1"><li>地デジ赤外線解析には、ＰＩＣ(18F2550)を使う予定。</li></ul>
<p><a href="http:/ATMEL_AVR/jpg/PIC/infrared3.png" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/infrared3.png" alt="http:/ATMEL_AVR/jpg/PIC/infrared3.png" /></a></p>
<ul class="list1 list-indent1"><li>とりあえず波形観測まではＯＫ。</li>
<li>この波形はSharpの地デジＴＶのもの。</li></ul>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">局地核戦争でも人類は滅亡<a class="anchor_super" id="e2dc82c1" href="#e2dc82c1" title="e2dc82c1" style="user-select:none;">&dagger;</a></h2>
<p>日経サイエンス</p>
<ul class="list1 list-indent1"><li><a href="http://www.nikkei-science.com/page/magazine/1004/201004_078.html" rel="nofollow">http://www.nikkei-science.com/page/magazine/1004/201004_078.html</a>
<pre>局地核戦争であっても，その煙は太陽光によって暖められて上昇し，
高層大気中に何年も浮遊して日光を遮断し，地球を冷やし続けることを見いだした。</pre></li>
<li>つまり、文明の崩壊は近いのか？
<ul class="list2 list-indent1"><li>いや、逆に考えるんだ。これをうまく使えば、地球温暖化を速やかに食い止める手段になる。</li>
<li>印パ紛争で１００発も使われるとやばいな。イスラエルとイランなら大丈夫か？</li>
<li>つまり、アメリカが戦争抑止的に使ったとしてもやばいわけだろうから。（すでに日本に対しては使用済み、核兵器）</li></ul></li>
<li>なんていうのは全部冗談だ。</li>
<li>結論として、核兵器は、「使えない兵器」なのだ。</li></ul>
<p>あるいは文明の<strong>「リセットスイッチ」</strong></p>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">秋月のＰＩＣマイコン<a class="anchor_super" id="w83fe4c7" href="#w83fe4c7" title="w83fe4c7" style="user-select:none;">&dagger;</a></h2>
<p>知らないあいだに品種が増えている。</p>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gI-03614/" rel="nofollow">http://akizukidenshi.com/catalog/g/gI-03614/</a></li>
<li>SRAMちょっと多い(4096-128byte)18F4550は2048byte</li>
<li>Flashもちょっと多い(48kB)18F4550は32kB</li>
<li>USBはない。</li>
<li>クロックはDC〜40MHzまで。18F4550は48MHzほぼ固定運用。</li></ul>
<div class="ie5"><table class="style_table" cellspacing="1" border="0"><tbody><tr><td class="style_td">品種</td><td class="style_td">パッケージ</td><td class="style_td">Flash</td><td class="style_td">SRAM</td><td class="style_td">EEPROM</td><td class="style_td">CLOCK</td><td class="style_td">USB</td><td class="style_td">参考価格(円)</td></tr>
<tr><td class="style_td">18F4525</td><td class="style_td">40PIN DIP</td><td class="style_td">48kB</td><td class="style_td">3968byte</td><td class="style_td">1024byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">450</td></tr>
<tr><td class="style_td">18F4520</td><td class="style_td">40PIN DIP</td><td class="style_td">32kB</td><td class="style_td">1536byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">420</td></tr>
<tr><td class="style_td">18F452</td><td class="style_td">40PIN DIP</td><td class="style_td">32k</td><td class="style_td">1536byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">600</td></tr>
<tr><td class="style_td">18F2620</td><td class="style_td">28PIN DIP</td><td class="style_td">64kB</td><td class="style_td">3968byte</td><td class="style_td">1024byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">480</td></tr>
<tr><td class="style_td">18F2420</td><td class="style_td">28PIN DIP</td><td class="style_td">16kB</td><td class="style_td">768byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">300</td></tr>
<tr><td class="style_td">18F2320</td><td class="style_td">28PIN DIP</td><td class="style_td">8kB</td><td class="style_td">512byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">500</td></tr>
<tr><td class="style_td">18F1320</td><td class="style_td">18PIN DIP</td><td class="style_td">8kB</td><td class="style_td">256byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">400</td></tr>
<tr><td class="style_td">18F1220</td><td class="style_td">18PIN SOIC 1.27mm</td><td class="style_td">4kB</td><td class="style_td">256byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">500</td></tr>
<tr><td class="style_td">18F24J10</td><td class="style_td">28PIN SOIC 1.27mm</td><td class="style_td">16kB</td><td class="style_td">1024byte</td><td class="style_td">0byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">250</td></tr>
<tr><td class="style_td">18F2515</td><td class="style_td">28PIN Flat 1.27mm</td><td class="style_td">48kB</td><td class="style_td">3968byte</td><td class="style_td">0byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">500</td></tr>
<tr><td class="style_td">18F258</td><td class="style_td">28PIN DIP</td><td class="style_td">32kB</td><td class="style_td">1536byte</td><td class="style_td">256byte</td><td class="style_td">40MHz</td><td class="style_td">なし</td><td class="style_td">600</td></tr>
</tbody></table></div>
<ul class="list1 list-indent1"><li>参考価格はたとえば秋月の単価（変動するのであくまで参考用）</li>
<li>USB付き品種は知っているので省略している。</li>
<li>秋月の品揃えもはぬけなんだけど、Microchipの品番の付け方は不規則で分かりづらい。</li>
<li>そのまえに<strong>USB無し品種の使い道</strong>が理解できなかったりする。何に使うんだろう。</li>
<li>遅くてコードサイズが膨れてもいいならPIC。そこそこ速くてコードも縮むのでFlashが少なくてもＯＫなのがAVR。</li>
<li>前者の条件って、ゆるすぎ。</li>
<li>PICのほうがFlashが多いと思ったら大間違い。コード量で倍〜４倍くらいPICが無駄食いするし、速度比で最大１０倍ぐらいPICのほうが遅い(AVRは20MHzだがPICは40MHzといっても4分周するので実質10MHzしかもＣ言語向けで無いので効率が1/5）。</li>
<li>嘘だと思うなら<span class="noexists"><a href="./?cmd=edit&amp;page=2009-05ARM&amp;refer=2010-03">同じＣソースを動かして試す</a></span>といい。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>SRAMの実装量が中途半端な値なのは、ＲＡＭ空間が12bit分しか用意されていないためだ。
<ul class="list2 list-indent1"><li>ＲＡＭ空間の最後尾エリア128バイトくらいにはポートやレジスタが割り付けてある。</li></ul></li>
<li>これはmovffというメモリーtoメモリー（両方とも12bitアドレス）のコピー命令のソースオペランドフィールドが12bitしか確保出来ないためなので、<strong>今更どうしようもない。</strong></li>
<li>FSR0,1,2というＲＡＭ空間を指すポインタも12bitしかない。これもLFSR命令が持つことの出来る即値フィールドが12bitしかないのでこれも<strong>今更どうしようもない。</strong></li>
<li>FSRのレジスタ自体はＲＡＭ空間に出ているのでそっちに書き込めば16bitあってもよさそうなものだが、movff命令のほうはもうどうしようもないレベル。</li></ul>
<p>単純にチップ価格が「安い」ということと、DIP品や省ピン品種があることと5Vで使えることがPICやAVRのメリットだが、ARMやMIPS32と比べるとアーキテクチャー上のメリットは無い。</p>
<ul class="list1 list-indent1"><li>ただ、RAM128byteとかFlashが2kbyteという世界にARMやMIPS32を持ち込むのは<strong>明らかに間違っている</strong>と言うことは出来る。</li></ul>
<p><br />
では、AVR/PICとARM/MIPS32の境界線を決めようじゃあないか？</p>
<ul class="list1 list-indent1"><li>たぶんコード量64kBが分かれ目だと思う。</li>
<li>Z80が廃れた理由も、BASICやアプリが肥大化してバンク切り替えのおばけ(MSX2とか)になってしまったからだ。</li>
<li>SRAM容量64kBまではAVRやPIC24でも頑張れないことはないけれど、バランス的にSRAM64KのようなチップだとFlash512kとかになってしまうので、どう考えてもARM(Thumb)の出番だ。</li>
<li>で、コード量32kB〜64kBまでが、汽水域というか両方活躍できそうな地帯。</li></ul>
<ul class="list1 list-indent1"><li>今の半導体プロセスでは32kくらいのFlashは何ともないのでARM(Thumb)がこの分野にも進出してきたというわけ。</li></ul>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">PIC24Fライターが動き始めそうな件<a class="anchor_super" id="z354378c" href="#z354378c" title="z354378c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>DeviceIDの読み出しに成功した。</li>
<li>ソースは整理中。</li>
<li>普通にファームの読み書きが出来るようになってからup予定。</li>
<li>configビットの読み込みもできるようになった。</li>
<li>Flashの読み込みも一応作ってみた。</li>
<li>Flashの先頭のほうだけ書いてみた。今のところ微妙にバグっている。</li>
<li>eraseもやってみた。消えた。</li>
<li>WriteとVerifyも出来た。ReadもOK。</li>
<li>Config系のみ未実装</li></ul>
<p><br /></p>
<p>問題点</p>
<ul class="list1 list-indent1"><li>Flash Config WordとDevice Configuration Registerの違いがさっぱり分からない。</li>
<li>Flash Config WordはFlashROMの最後尾８バイトらしい。（32bit中16bitしかないので、実質４バイト）</li>
<li>Device Configuration Registerは0xf80000〜0xf8000e に存在するので、PIC18Fで言う所のConfigビットだと思うのだけれど、両者の関係について今のところ不明。</li></ul>
<p><br /></p>
<p>しかし真の問題はPIC24FJ64とdsPIC33がせっかく読み書き出来るようになっても、</p>
<ul class="list1 list-indent1"><li>その<strong>使い道が全く思い浮かばない</strong>ところか。</li>
<li>FFT？ ディジタルフィルター？</li>
<li>いやいや、ターゲットデバイスにそんな不毛なことさせて何かメリットあるのか？</li>
<li>単にFlashが64K、SRAM8Kも乗っている、大容量のPIC。</li>
<li>32MHz動作(内蔵8MHzRC発振でx4PLL)で16MIPSらしい。</li>
<li>AVRでも20MIPSは出る。</li>
<li>PIC24Fのメリットはgccが使えることと、16bitレジスタが豊富にあること。</li>
<li>デメリットは、ROM領域にデータを置くと、せっかく64kBあるFlashの2/3しかデータ参照
してくれないこと。（約22kBが無駄になる）</li>
<li>理由は、命令長が24bit(3byte)なのに、TBLRDするときは16bitしか取ってこないためだ。</li></ul>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_4">dsPIC33は（１個持ってるけど）サポートしないかもしれない。<a class="anchor_super" id="vded8881" href="#vded8881" title="vded8881" style="user-select:none;">&dagger;</a></h2>
<p>dsPIC33FJ32GP202 450円</p>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gI-02571/" rel="nofollow">http://akizukidenshi.com/catalog/g/gI-02571/</a></li>
<li>PIC24のレジスタに寄生しているDSPという感じ。</li>
<li>PIC24FJ64とピン配置も似ているので共通基板でいけそうだ。</li>
<li>ただし、Flash32k,SRAM2kと、PIC24FJ64にくらべてかなり小ぶり。</li>
<li>（予想だけど）gccがDSPの命令を吐くとは思えない。結局DSPを使うには（インライン）アセンブラを使うしかない？</li>
<li>今のところPIC24の使い道は単にFlash大容量なだけのPICだ。dsPIC33はデジタルフィルターとかの用途でもなければ使う場面がない。しかしSRAM2Kは厳しいなぁ・・・。</li>
<li>dsPICをサポートするのは、何か使い道を思いついたときにしよう。</li></ul>
<p>ＰＩＣ２４ＦＪ６４ＧＡ００２：３５０円</p>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gI-02000/" rel="nofollow">http://akizukidenshi.com/catalog/g/gI-02000/</a></li></ul>
<p>PIC24の良いところ</p>
<ul class="list1 list-indent1"><li>Vddは3.3Vもしくは2.5Vのどちらも可能。（５Ｖは無理）</li>
<li>動作電圧は2.0V〜3.6V（2.0Vのときの最高動作周波数は16MHz/8MIPS）なので電池動作も可能。(AVRでももちろん可能だけど)</li>
<li>内部的にはコア2.5Vで動いていて、内部にレギュレータがある。</li>
<li>外部的には(デジタルI/Oは)5V入力もＯＫらしい。</li>
<li>コンパイラはMCHIP純正C30だが、その中身はgccだ。</li>
<li>コード効率は普通に良いらしい。速度は最大32MHz動作時16MIPSなのでAVRの20MHzと同じくらいのはずだ。</li></ul>
<p>欠点は、</p>
<ul class="list1 list-indent1"><li>Flashの構造が１ワード24bitと変態的に特殊。</li>
<li>エラッタ（設計上の欠陥、一応メーカーから公開されている）が非常に多く、思うとおりに動かないことが予想される。</li></ul>
<p><br />
一応、行きがかり上PIC24ライターは書いてしまおうと思っているけれど</p>
<ul class="list1 list-indent1"><li>WSNAK172基板などをATmega328に換装したために大量に余ったATmega88とか168があって、さらにATtiny2313も買い置きが１０個以上あるので、</li>
<li>PIC24Fを使わないと出来ないような使い道がまったく思い浮かばないんだな。</li>
<li>USB内蔵でDIP品があるならばさっさとPIC18を捨てようとは思っているけれど。</li></ul>
<p><br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">dsPIC33/PIC24Fの用途<a class="anchor_super" id="x12679a3" href="#x12679a3" title="x12679a3" style="user-select:none;">&dagger;</a></h2>
<p>さっき１つだけ思いついた。</p>
<ul class="list1 list-indent1"><li><a href="http://www.geocities.jp/pcm1723/" rel="nofollow">ＦＭ音源</a></li>
<li>けれど、32MHz/16MIPSではちょっときついかな。レジスタが16bitあるので、AVRよりすこし良い程度。</li>
<li>MCHIP C30を起動させてみた。ほんとにgccだった。シミュレータがsim(GNU binutils)だった。</li>
<li>gccのクロスビルドはDarwin上で行われているようだ。しかもgccの稼働環境はmingwだった。</li>
<li>60日経ったら最適化が-O0になるらしい。</li>
<li>gccソースも配布されているので、普通にgccをクロスビルド出来たら、制限無しのPIC24用gccが作れるけどいいのか？</li>
<li>少なくともLinuxやubuntu上では configure ; make ; でサルでも作れるはずなので、Linuxを(VMWareとかVirtualBox上で)自由に使える人なら-O0の制限は受けないことになる。</li>
<li>mingwホストのgccクロスビルドはLinux上からでもかなり難易度が高いので、そこを攻略するのは大変だ。</li></ul>
<p><br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">Apple A4 Processor<a class="anchor_super" id="yede97b1" href="#yede97b1" title="yede97b1" style="user-select:none;">&dagger;</a></h2>
<p>Apple A4の秘密を申請特許から解き明かす - ベクトル処理と省電力機構</p>
<ul class="list1 list-indent1"><li><a href="http://journal.mycom.co.jp/articles/2010/03/11/apple_a4/" rel="nofollow">http://journal.mycom.co.jp/articles/2010/03/11/apple_a4/</a></li>
<li><a href="http://journal.mycom.co.jp/news/2010/03/02/004/" rel="nofollow">http://journal.mycom.co.jp/news/2010/03/02/004/</a></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>なんだCortex-A8シングルコアかよ。</li>
<li>この記事に書かれているようなベクトル化による動的最適化は実際行われていないと思う。（あくまで推測）</li>
<li>そんなん出来ることが分かっているなら、とうの昔にintel/AMDプロセッサ上で誰かがやっているはずだ。(既存アプリのfloat命令を自動でSSE化出来るなら既にやってるに決まっている)</li></ul>
<ul class="list1 list-indent1"><li>ただ、LLVMのバックエンドをうまく使って動的最適化を行う可能性はあるかもしれない。（ARMは遅いので、そうやって少しでも速くしたいというのはある。）</li></ul>
<ul class="list1 list-indent1"><li>やるとしても最適化フェーズとしてやるわけで、配布されたアプリが実行中にon the flyするわけじゃない。</li></ul>
<ul class="list1 list-indent1"><li>実行時最適化という点ではMicrosoftのVisual C++でもそういうオプションは付いているし、JITでもみんなやってることだ。（vector化できているかどうかは別として）</li></ul>
<ul class="list1 list-indent1"><li><br />
<br />
<br />
<br />
<br />
<br /></li></ul>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">PIC24Fライターが手ごわい件<a class="anchor_super" id="n00f4e9c" href="#n00f4e9c" title="n00f4e9c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>なんちゃってBitBangモードを実装したPIC18F14K50から、PIC24FJ64への読み書きはだいたい目処がついた。</li>
<li>例によってとても遅いので、ネィティブなコマンドを実装して、PIC18Fから直接PIC24Fへの読み書きができるようにしてみた。</li></ul>
<ul class="list1 list-indent1"><li>速くなったはいいのだけれど、ファームウェアROMの上位8bitの読み出し(TBLRDH.B x 2)がうまく行かない。</li>
<li>読み出しても常に０なのだ。</li>
<li>BitBang操作だと一応読み出せるのに何故？</li></ul>
<ul class="list1 list-indent1"><li>WAITとか入れまくったけれど駄目だった。</li></ul>
<ul class="list1 list-indent1"><li>書き込みのほうは出来てるっぽい。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_8">PIC24Fライター出来たどー<a class="anchor_super" id="caa1bb4d" href="#caa1bb4d" title="caa1bb4d" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>PIC24FJ64GA002に書き込めるようになった。</li></ul>
<p>read more : <a href="pic18spx.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">pic18spx</a></p>
<ul class="list1 list-indent1"><li>C30でＬチカを作らねば。---&gt; 出来た模様。</li></ul>
<p>PIC18F14K50上でPIC24Fライターが動かなかった理由</p>
<ul class="list1 list-indent1"><li><strong>スタックが足りていなかった。</strong></li>
<li>32bit整数バリバリのコードをPIC24Fに持ち込んだ場合、相当量のスタック（auto変数と引数）を消費するようだ。</li>
<li>8bit４個(実際３個)を32bit整数に置き換える処理は、PC上ではシフト演算が有利（バレルシフタがあるので）</li>
<li>だが、PIC24F上では超苦手なので、charとlongをパックしたunionを作ってそこに書いて読むという方法を使う。</li>
<li>そのときの未使用上位byteの<strong>ゼロクリアを忘れていた</strong>のだった。(auto,staticともに必要だったっぽい)</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_9">残る課題<a class="anchor_super" id="n881c9f7" href="#n881c9f7" title="n881c9f7" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><del>赤外線リモコンの解読ツールを書く。</del> ---済み</li></ul>
<p>read more: <a href="pic18spx.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">pic18spx</a></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>赤外線でビビビ（AVRチップを使って既製品リモコンを改造）--自分の中では需要がなくなった。
<ul class="list2 list-indent1"><li>予定では地デジＴＶのREGZAを買って（あれはＴＶのくせに外付けUSB HDDに録画する機能がある）</li>
<li>改造リモコンを使って予約録画をするつもりだったのだが、</li>
<li>HDD内蔵のDIGAが安く売ってあったのでそっちにとびついてしまい、改造リモコンは不要になった。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>なんかREGZAを誤解していたようだ。ＴＶのくせに外付けＵＳＢＨＤＤに<strong>録画予約</strong>出来るらしい。
<ul class="list2 list-indent1"><li>改造リモコンで時間が来たら録画ボタンを押すような回りくどい処理は最初から不要らしい。</li></ul></li></ul>
<p>ととと・・・
<br />
<br />
<br /></p>
<p>することがなくなったので、TV-B-Goneでも作ろうか・・・</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi?TV%2dB%2dGone" rel="nofollow">http:/ATMEL_AVR/cgi-bin/note/index.cgi?TV%2dB%2dGone</a></li></ul>
<ul class="list1 list-indent1"><li>しかし、ＴＶの電源スイッチはたいていトグル式なので、ＴＶ消し信号を連続放射するって、いったいどんなコードを垂れ流すのだろう・・・。</li></ul>
<ul class="list1 list-indent1"><li>赤外線リモコンネタとしては、目覚ましの代わりに、朝になったらＴＶをつけるリモコンとか、旅行で留守中にもＴＶをつける偽装留守装置とか、外出先から家電操作とかのネタはあるのだろうなぁ・・・でも<strong>ニッチ需要</strong>だけど。</li></ul>
<ul class="list1 list-indent1"><li>既存の（要らなくなった）赤外線リモコンをＰＣのワイヤレス（テンキー）キーボード扱いにするようなHIDデバイスなら書くことも出来る。（これもニッチだな）
<ul class="list2 list-indent1"><li>そんなことしなくたってBlueToothキーボードを買ってくればいいだけだから。</li></ul></li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_10">USBシリアルファームとpic18spxファームの共存について<a class="anchor_super" id="ae43752e" href="#ae43752e" title="ae43752e" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>usbシリアル変換 に追記しました。</li></ul>
<p><br />
read more : <a href="usbserial.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbserial</a></p>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_11">boot &lt;ADDRESS&gt;で割り込みベクターも一緒に切り替えるには？<a class="anchor_super" id="k0d41733" href="#k0d41733" title="k0d41733" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li>bootloaderのfirmware内に割り込みベクターのリダイレクターを書く必要があります。</li></ul>
<pre>vect08_l .equ 0x5c
vect08_h .equ 0x5d
vect18_l .equ 0x5e
vect18_h .equ 0x5f</pre>
<pre>0x08: movff PCLATH,vect08_h
      movf  vect08_l,W
      movwf PCL

0x18: movff PCLATH,vect18_h
      movf  vect18_l,W
      movwf PCL</pre>
<ul class="list1 list-indent1"><li>リセット直後に vect08=0x808 vect18=0x818 に設定しておきます。</li>
<li>たとえば、0x2800に置かれたファームウェアにjump(boot)するときは</li>
<li>jumpの前に自身の割り込みを全て停止した後 vect08=0x2808 vect18=0x2818 に設定しておきます。</li></ul>
<ul class="list1 list-indent1"><li>PCLの書き換えはmovff命令が使えないので、Wレジスタ経由で書き込みしか
ないような気がします。</li>
<li>上記コードのままではWレジスタが壊れるので、壊さないで任意アドレスにjmpする方法を
考えなくてはなりません。</li>
<li>たぶん、リターンスタックにvectXXの値をpushした後、returnという手法になると思います。</li>
<li>ところで、上記コードはWだけでなくPCLATHも破壊するのでNGです。</li>
<li>つまり、フォアグラウンドで動作しているプログラムのコンテクストに何の影響も与えずに、ジャンプリダイレクタ
を書かなければなりません。(少なくともW,STATUS,PCLATHの値が変わってはいけません)</li></ul>
<p>はたして可能なんでしょうか？</p>
<ul class="list1 list-indent1"><li>こんな具合に、間接jmpすら満足に出来ないPICです。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_12">『Google TV』で、コンピューター業界がピンチに？<a class="anchor_super" id="efcc16ab" href="#efcc16ab" title="efcc16ab" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://wiredvision.jp/news/201003/2010031920.html" rel="nofollow">http://wiredvision.jp/news/201003/2010031920.html</a>
<br /></li>
<li>それ、何ていうネットブック？</li>
<li>Atom使用。</li>
<li>（たぶん）Chromium OS , Chrome ブラウザー</li>
<li>インターネットが閲覧できるＴＶセットトップBOXといえばAppleTVか。（流行ってないけど）</li>
<li>普通にネットブックを大画面ＴＶに繋いだのとどこも変わらん。</li>
<li>ところが、今のN450にはHDMI出力が省かれている。これはintelの嫌がらせだ。</li>
<li>しかしAtomではＨＤ動画の再生不可なので、皮肉なことにnVidiaのIONのようなアクセラレータが必要だ。</li></ul>
<p><br />
どうやら、使う石はAtomそのものではなくて1.2GHz駆動のAtom入りSoCになるらしい。</p>
<ul class="list1 list-indent1"><li><a href="http://journal.mycom.co.jp/news/2009/09/25/067/index.html" rel="nofollow">http://journal.mycom.co.jp/news/2009/09/25/067/index.html</a></li>
<li>で、一応mpeg4デコーダーはチップセット側が持っている。</li>
<li>何故にARMではなくてAtomなのか。</li>
<li>単にCE4100の使い道を模索してるだけ、なんだよね。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_13">PIC24Fの使い道<a class="anchor_super" id="k5cc1d9d" href="#k5cc1d9d" title="k5cc1d9d" style="user-select:none;">&dagger;</a></h2>
<p>これだ。　つ・・・?・?・?</p>
<ul class="list1 list-indent1"><li><a href="http://www.picfun.com/PIC24F/AP/app24F07.html" rel="nofollow">http://www.picfun.com/PIC24F/AP/app24F07.html</a></li>
<li>ということはRGB接続のパチンコ液晶ジャンクも頑張ればドライブできるかも。（手持ちが１個あり）</li>
<li>考えようによってはPIC１個が<a href="http://www.st.rim.or.jp/~nkomatsu/crtif/MC6847.html" rel="nofollow">昔のＶＤＰ</a>並みの仕事をするわけね。（モノクロだけど）しかも昔のＶＤＰのＶＲＡＭって２ｋＢとか６ｋＢだったからPIC24F内蔵SRAMのほうが多いじゃん。</li></ul>
<ul class="list1 list-indent1"><li>やっぱりＳＰＩをシフトレジスタ代わりに使うのね。思ったとおり。</li></ul>
<ul class="list1 list-indent1"><li>PIC18FのＳＰＩはひどいエラッタ（送出開始タイミングとクロックフェーズが全然かみ合ってないのでグリッジが出る）があって使えそうにない気がしたのだが</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_14">PIC18F:間接分岐のコード<a class="anchor_super" id="vc26462d" href="#vc26462d" title="vc26462d" style="user-select:none;">&dagger;</a></h2>
<p>思いついたのでメモしておく。</p>
<pre>vect08_l .equ 0x5c
vect08_h .equ 0x5d
vect18_l .equ 0x5e
vect18_h .equ 0x5f</pre>
<pre>0x08: rcall 0x0a
0x0a: movff tosh,vect08_h
      movff tosl,vect08_l
      return 0</pre>
<pre>0x18: rcall 0x1a
0x1a: movff tosh,vect18_h
      movff tosl,vect18_l
      return 0</pre>
<ul class="list1 list-indent1"><li>と書いたが、実はrcallするよりpushのほうが1cycle節約できる。</li>
<li>tosuの書き込みは省略。</li></ul>
<p>ただし、これら技法を使うためには0x5c〜0x5f（実はmovffを使うのでここではなくてもどこでも良い）
をリザーブしておく（つまり、使用したりゼロクリアしたりしないようにする）必要がある。</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_15">PIC18spx:赤外線リモコン解析機能にSONYモードを追加<a class="anchor_super" id="s817e877" href="#s817e877" title="s817e877" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>SONYのリモコンをいくつか試してみたけれど、コードの割り当てがかなり投槍というかその場しのぎっぽい。</li>
<li>まず、ビット長が適当。といういか可変</li>
<li>機種別コードのようなものもかなりいい加減。</li>
<li>当然のことながらメーカーコードもない。（ソニー一社なので）</li>
<li>で、なんとエラーチェックのＣＲＣのようなものがない。</li>
<li>かわりに大量に同じコードを送出しているようなので、おそらく同じコードがいくつ以上来たら正解、みたいな判別をしているに違いないと予測。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>ドキュメントは書いてないけどAHEAとSONYを自動判別してダンプするようにしてみた。</li></ul>
<p>read more : <a href="pic18spx.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">pic18spx</a></p>
<ul class="list1 list-indent1"><li>NECのリモコンは持ってないんだな。たぶんAHEAとの違いは送出バイト数が6-&gt;4に減るのと最初のプリアンブルビットの長さが長くなることくらい。（なので改造は簡単）</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_16">ジャンク箱に賞味期限切れのＣＰＬＤ/ＦＰＧＡが入っていた。<a class="anchor_super" id="b94bf6e6" href="#b94bf6e6" title="b94bf6e6" style="user-select:none;">&dagger;</a></h2>
<p>両方ともAlteraだった。</p>
<p><span class="noexists"><a href="./?cmd=edit&amp;page=DesignWave&amp;refer=2010-03">DesignWave</a></span> 2003-1 EPM7256A</p>
<p><a href="http:/ATMEL_AVR/jpg/PIC/dwm0062.jpg" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/dwm0062.jpg" alt="http:/ATMEL_AVR/jpg/PIC/dwm0062.jpg" /></a></p>
<p><span class="noexists"><a href="./?cmd=edit&amp;page=DesignWave&amp;refer=2010-03">DesignWave</a></span> 2003-10 EP1C3</p>
<p><a href="http:/ATMEL_AVR/jpg/PIC/dwm0071.jpg" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/dwm0071.jpg" alt="http:/ATMEL_AVR/jpg/PIC/dwm0071.jpg" /></a></p>
<p>そろそろ処分しないとヤバい。</p>
<ul class="list1 list-indent1"><li>もう一個 Latticeの奴まである。</li></ul>
<ul class="list1 list-indent1"><li>そういえばDDT誌の前身はDesignWaveだったか。</li></ul>
<ul class="list1 list-indent1"><li>どれだけ放置してるんだか。</li></ul>
<p>こいつらは、メーカー提供の論理合成ツールを使用しない限り、ロジックを焼きこむことは不可能なので
ツールが（なるべくなら無償で）提供されているかどうかがゴミになるかどうか分かれ目になる。</p>
<p>とりあえずUSBダウンロードケーブルでも作ってみよう。</p>
<p>（というか本題はUSBダウンロードケーブルを作ることであって、FPGAをどう使うかというのはここでは全く持って考慮されていない）</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_17">次世代原子炉<a class="anchor_super" id="u29bc719" href="#u29bc719" title="u29bc719" style="user-select:none;">&dagger;</a></h2>
<p>ビル・ゲイツ、原子炉に興味を持つ - スラッシュドット・ジャパン</p>
<ul class="list1 list-indent1"><li><a href="http://slashdot.jp/hardware/article.pl?sid=10/03/23/0225209" rel="nofollow">http://slashdot.jp/hardware/article.pl?sid=10/03/23/0225209</a></li></ul>
<ul class="list1 list-indent1"><li><a href="http://ja.wikipedia.org/wiki/%E3%82%AA%E3%82%AF%E3%83%AD%E3%81%AE%E5%A4%A9%E7%84%B6%E5%8E%9F%E5%AD%90%E7%82%89" rel="nofollow">オクロの天然原子炉</a>みたいなやつなのか？</li></ul>
<ul class="list1 list-indent1"><li><a href="http://www.spc.jst.go.jp/hottopics/0905nuclear_e_dev/r0905_sekimoto.html" rel="nofollow">革新的原子炉ＣＡＮＤＬＥ</a>みたいなやつ？日経サイエンスにも昔記事が出てた。</li></ul>
<ul class="list1 list-indent1"><li>どっちにしても出力を細かく制御するのが難しそうだなぁ・・・。</li></ul>
<ul class="list1 list-indent1"><li>これって制御棒が（あんまり）ないから炉心緊急冷却とか難しくね？</li>
<li>地震国日本ではちょっと難しいかな。それとも地震が来ても運転し続ける？炉が大丈夫だとしてもタービンとかはさすがにダメージ受けるだろうし。</li></ul>
<ul class="list1 list-indent1"><li>とにかくウラン燃料の利用効率が大きいのでウラン代が節約できて比較的メンテナンス性は良いのだろう。</li>
<li>劣化ウランが使えるといっても、使用済み核燃料から金属のウランに加工しなければならないわけだからそれなりに再処理は要るだろうが、</li>
<li>劣化ウランを弾頭なんかに使わずに燃料として燃やせるんだったらいいことづくめじゃないかこれ。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_18">賞味期限切れのＣＰＬＤ/ＦＰＧＡについて<a class="anchor_super" id="ieadfe91" href="#ieadfe91" title="ieadfe91" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>kugaさんから教わったとおり、EPM7256Aはほんとに賞味期限切れだった。</li>
<li>AlteraにしようかLatticeにしようか迷ったけれど、結局LatticeXP2用のispLeverなどをLatticeのＨＰから
ダウンロードしてインストールした。</li>
<li>ライセンスもWeb経由で発行してもらった。メールはすぐ来た。</li>
<li>あとはUSB Blasterを作成して（というか18F2550基板はあるので、Lattice基板へ繋ぐコネクタ周りの配線などをすればいいだけ）Ｌチカを焼いてみるという手筈。</li></ul>
<ul class="list1 list-indent1"><li>jtagケーブルって、なんでこう、メーカーごとにバラバラなんだろうか・・・。</li>
<li>jtagのプロトコルも、ターゲットごとにまるっきり互換性ないようだし。</li></ul>
<p>さて、どこまで根気が続くだろうか。</p>
<p><a href="http:/ATMEL_AVR/jpg/PIC/usbblast.jpg" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/usbblast.jpg" alt="http:/ATMEL_AVR/jpg/PIC/usbblast.jpg" /></a></p>
<p>↑改造前の18F2550基板：これに3.3VレギュレータとJTAGコネクタを乗せるだけの簡単なお仕事です。</p>
<p><br />
とりあえず今日の釣果</p>
<ul class="list1 list-indent1"><li>PIC18F2550基板に3.3Vレギュレータを追加してみた。</li>
<li>試しにPICの供給電圧を3.3Vにしてみた。</li>
<li>一応ブートローダー経由でsa89a.netさんのUSB Blaster（もどき）のHEXをそのまま書き込むことが出来た。</li></ul>
<ul class="list1 list-indent1"><li>USBに挿すとUSB Blasterとして認識するも、ドライバーが無かったので、（Alteraデバイスを繋ぐ予定は無いけれど）QuartusII Standalone Programmerをインストールして、USB Blasterのドライバーを入れてみた。</li>
<li>QuartusII Programmerソフトを起動して、USB Blasterとして認識されているところまで確認した。</li>
<li><strong>すばらしい</strong></li></ul>
<ul class="list1 list-indent1"><li>あとはjtagコネクターの配線を６本ほど済ませれば終了するんだけれど、ARMの20pin jtagとピン配置がとことん違っているので、<strong>やる気を失った。</strong></li></ul>
<ul class="list1 list-indent1"><li>実は、jtagケーブルなんか作る気も無く、5V&lt;-&gt;3.3Vレベルコンバータを乗せる気も無く、抵抗すら入れる気も無くFPGAとPICを直結しようとしている。（なんという<strong>ズボラ配線</strong>）</li></ul>
<ul class="list1 list-indent1"><li>それで、PIC基板とFPGA基板同士を直接PINヘッダーのオスメス直結にしようと思っているんだけれど、</li>
<li>ARMと共用に出来なくて<del>ただいま憤慨中。</del></li>
<li>とか言ってたら、20PINのピンヘッダー（メス）１個だけでLattice/NXP両用の接続が出来るアクロバティックな方法を思いついた。
<ul class="list2 list-indent1"><li>NXP基板のjtag信号のGNDは１本(Latticの７番ピン位置のGND)だけ残してピンを抜く。</li>
<li>抜いたGND部分にはLattice側のTDIとかTMSとかを繋ぐ。</li>
<li>NXPのTDIとかTMSはそのまま繋ぐ。</li></ul></li>
<li>基板直結なので、GNDを信号線の間に全部渡す必要もない。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_19">今月の<del>残り作業</del>予定<a class="anchor_super" id="x4ef5fd8" href="#x4ef5fd8" title="x4ef5fd8" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ＦＰＧＡ基板（LatticeXP2）でＬチカ。（これ基本）</li>
<li>hidmon-2550/hidmon-14kのソース整理。</li>
<li>hidmon-2550/hidmon-14kのHID転送モードをインタラプト転送に戻す。</li></ul>
<p><br /></p>
<p>毎度のこと思うのだが、Ｃ級出版雑誌付録の基板はＬチカだけしかやってないよなー。</p>
<p>そんなにＬチカしたいなら、自己点滅するＬＥＤを秋月で買ってきて、互換機BIOS時計用のリチウム電池を直結すればいいじゃんとか思ったりする。 --- じゃあ、これからの付録は全部そうなるのか。</p>
<div class="ie5"><table class="style_table" cellspacing="1" border="0"><tbody><tr><td class="style_td">Ｌチカの方法論</td><td class="style_td">価格</td><td class="style_td">得/失</td><td class="style_td">コメント</td></tr>
<tr><td class="style_td"><a href="http://akizukidenshi.com/catalog/c/cblanking/" rel="nofollow">自己点滅LED</a></td><td class="style_td">5個入り150円から</td><td class="style_td">1byteたりともコードを書かないので、バグの混入可能性が極めて低い。/インチキだと言われる</td><td class="style_td">Ｌチカ目的達成法としては間違っていない</td></tr>
<tr><td class="style_td">PIC/AVRなどの低級マイコン+LED</td><td class="style_td">ATtiny2313の場合100円〜</td><td class="style_td">短いとはいえ自分でコードを書かないといけない/プログラムが書けるようになったつもりになれる。</td><td class="style_td">そのまえにPIC/AVRライターを作らないといけない</td></tr>
<tr><td class="style_td">ARM/H8などの高級マイコン+LED</td><td class="style_td">雑誌付録でも2980円〜</td><td class="style_td">Ｃ級出版の場合はＬチカソフトまで付属している/財力のみで可能</td><td class="style_td">達成感がないというか自己点滅LEDのほうがいいんじゃない？</td></tr>
<tr><td class="style_td">雑誌付録でないARM基板+LED</td><td class="style_td"><a href="http://strawberry-linux.com/catalog/?c=cortex-m3" rel="nofollow">Olimex</a>なら3980円〜/<a href="http://akizukidenshi.com/catalog/g/gM-03598/" rel="nofollow">NXP</a>だと3000円〜/<a href="http://akizukidenshi.com/catalog/g/gM-03457/" rel="nofollow">STM8S</a>(750円)のライター部分を使う手もある</td><td class="style_td">バッドノウハウがたくさん得られる/どれも茨の道</td><td class="style_td">ARM JTAGライター研究中<strong>←今ここ</strong></td></tr>
<tr><td class="style_td">FPGA/CPLD+LED</td><td class="style_td">雑誌付録基板か、<a href="http://optimize.ath.cx/shopv2_2/chuumon.html" rel="nofollow">MAX2CPLD基板</a>1600円〜</td><td class="style_td">VHDL/Verilogなどの勉強が出来る/テクノロジーの無駄使い</td><td class="style_td">JTAGライターが別途必要。パラレルポート接続なら簡単につくれる。USBケーブルはちょっと大変だけど面白いかも</td></tr>
</tbody></table></div>
<p><br /></p>
<p>こんなのがでたんだけど？</p>
<ul class="list1 list-indent1"><li>KORG、6,300円のコンパクトなアナログシンセサイザー「monotron」を発表</li>
<li><a href="http://slashdot.jp/articles/10/03/25/0719259.shtml" rel="nofollow">http://slashdot.jp/articles/10/03/25/0719259.shtml</a></li>
<li>アナログシンセは高校のとき物理部で２ポリのポリシンセを作ったし。</li>
<li>自分でもオペアンプ等でモノシンセを作ったんで、この形状にはものすごいデジャブーがある。</li>
<li>あの時代は２ポリが限界なんだ。なぜかというと鍵盤ＳＷは抵抗ラダー（全部直列）と検出バー間に配線してあって、２音同時押しすると２つのＳＷによって抵抗がショートされて、（抵抗ラダーには定電流が流してあるので）ラダー全体の電圧がショート長だけ下がる。</li></ul>
<pre>GND -*- R -*- R -*- R -*- R -*- R -*- R -*- R -*- R -*---   &lt;--（＋）定電流源
     |     |     |     |     |     |     |     |     |
    SW    SW    SW    SW    SW    SW    SW    SW    SW
     |     |     |     |     |     |     |     |     |
     *-----*-----*-----*-----*-----*-----*-----*-----*---&gt;低いキーの検出電圧.</pre>
<pre>     高いキーの電圧＝低いキーの検出電圧＋２キー同時押しショートで減った分の電圧。</pre>
<ul class="list1 list-indent1"><li>そいて、検出バーの電圧と、ラダー全体が下がった分の電圧を足し算すると高いほうの音の電圧が得られるという仕組みだった。</li></ul>
<ul class="list1 list-indent1"><li>３音以上押しても、一番低い音と一番高い音しか出せない。中の音の電圧を検出する手段がないのだ。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_20">LatticeXP2 FPGA基板でＬチカ成功！<a class="anchor_super" id="ubad2794" href="#ubad2794" title="ubad2794" style="user-select:none;">&dagger;</a></h2>
<p><a href="http:/ATMEL_AVR/jpg/PIC/lattic1.jpg" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/lattic1.jpg" alt="http:/ATMEL_AVR/jpg/PIC/lattic1.jpg" /></a></p>
<ul class="list1 list-indent1"><li>XP2Writeにて書き込み中</li></ul>
<p><a href="http:/ATMEL_AVR/jpg/PIC/xp2w2.png" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/xp2w2.png" alt="http:/ATMEL_AVR/jpg/PIC/xp2w2.png" /></a></p>
<p>read more : <a href="LatticeXP2.html" class="link_page_passage" data-mtime="2010-03-27T13:44:08+09:00">LatticeXP2</a></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_21">arm/OpenOCDのUSB Blaster対応<a class="anchor_super" id="zdfba186" href="#zdfba186" title="zdfba186" style="user-select:none;">&dagger;</a></h2>
<p><a href="http://www.pwv.co.jp/~take/TakeWiki/index.php?arm%2FOpenOCD%E3%81%AEUSB%20Blaster%E5%AF%BE%E5%BF%9C" rel="nofollow">http://www.pwv.co.jp/~take/TakeWiki/index.php?arm%2FOpenOCD%E3%81%AEUSB%20Blaster%E5%AF%BE%E5%BF%9C</a></p>
<ul class="list1 list-indent1"><li>というページを発見（いやGoogle先生に尋ねただけ）</li>
<li>sa89a.netさんのUSB Blaster(もどき)でも行けるのかなぁ・・・</li>
<li>もし行けるんだったら、ARMのデバッグやROM焼きのためのUSB JTAGケーブルを、わざわざARMを使って作るという愚行をしないで済む。（これも一種の鶏卵問題なので、ブートストラップのためにFT2232Lを使ったJTAGケーブルを用意しなければならない。）</li></ul>
<ul class="list1 list-indent1"><li>ていうか、上記USB Blaster（もどき）の20Pin JTAGの残りを配線して、NXP ARM付録基板に挿せば解る事。</li></ul>
<p>配線してみた。</p>
<ul class="list1 list-indent1"><li>結果は敗戦</li>
<li>QuartusIIのProgrammerを立ち上げて、Device DetectさせるとエラーしてJTAG Debuggerを立ち上げるかどうか聞いてくる。</li>
<li>JTAG Debuggerで見ると、デタラメなデバイス多数かエラーしか返ってこない。</li>
<li>LatticeXP2を繋いだときは正しく（というかAlteraではないのでQuartusIIがサポートしないデバイスIDが）１つだけ表示される。</li>
<li>配線チェックしてみたが間違ってない。</li>
<li>ただし、NXPのJTAGにはRESETとTRSTという端子が出ていて、そこには何も繋がなかった。（何を繋げばよいか分からなかった）</li></ul>
<p><a href="http://www.altera.co.jp/literature/ug/ug_usb_blstr_j.pdf" rel="nofollow">http://www.altera.co.jp/literature/ug/ug_usb_blstr_j.pdf</a></p>
<p><a href="http:/ATMEL_AVR/jpg/PIC/ubpin.png" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/PIC/ubpin.png" alt="http:/ATMEL_AVR/jpg/PIC/ubpin.png" /></a></p>
<ul class="list1 list-indent1"><li>まず、SPIエラッタ回避のためのTCKの初期化時Hi-Z化を行っているけれど(NXP側がPullUPしている為)それが無効になっている可能性、</li>
<li>それとNXP ARMのTCKはFOSC/64にすると動くと言うことをkugaさんに教えていただいた。</li>
<li>Hi-Z問題に関してはTCKプルダウンで、</li>
<li>SPIクロックについてはFOSC/64(750kHz)のファームを焼いて試してみたところ、数回の試行をすれば、ARMのIDが返ることがある、というところまで確認して力尽きた。</li>
<li>なんとなく、他の信号線のHi-Zも気になっているし、SPIのエラッタも酷いのでソフトSPIの速度をさらに落とせば動くのかもしれないという予想だけ立てて終了。</li>
<li>すなおにFT2232LでOpenOCDハードを作ったほうが良いのかもしれない。
<br />
<br />
<br /></li></ul>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_22">interface誌2010-6(4/24発売)￥2,310：こんどのＬチカは凄いぞ！<a class="anchor_super" id="xce30340" href="#xce30340" title="xce30340" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://www.kumikomi.net/interface/editors/2010/03/interface6sh-2.php" rel="nofollow">http://www.kumikomi.net/interface/editors/2010/03/interface6sh-2.php</a></li>
<li><a href="http://japan.renesas.com/company_info/news_and_events/press_releases/press_release20080512.jsp" rel="nofollow">http://japan.renesas.com/company_info/news_and_events/press_releases/press_release20080512.jsp</a></li>
<li>SH-2A</li>
<li>RAM容量 <strong>なんと1MBしかもオンチップ</strong>。外付けＤＲＡＭ不要でグラフィック表示も可能。</li>
<li>クロック144MHz</li>
<li>480MbpsのUSB2.0インターフェース内蔵。</li>
<li>なんと<strong>FPU搭載</strong>これはＣ級出版業界初？なのか。（違ってるかも）
<ul class="list2 list-indent1"><li>MP3専用デコーダーチップなどに頼らずにmp3デコード可能かも--だけどDACは乗ってないので外付けするかSPDIFのようなもの経由で出す必要あり。</li>
<li>FM音源をやらせれば最速（ポリ発音数が他のマイコンを抜いてダントツ）かもしれぬ。</li></ul></li>
<li>SH-2AはSH-2の２倍の性能
<ul class="list2 list-indent1"><li>SH-2A CPUは、スーパスカラ方式の採用により、2命令同時実行が可能で、従来のSH-1やSH-2に比べて、飛躍的な性能向上が図られています。</li></ul></li>
<li>「SH7262」「SH7264」はVDPまで内蔵
<ul class="list2 list-indent1"><li>画像および動画出力用に、最大WQVGAサイズ（480×240画素）のRGB565形式（1色を、R［赤］用5ビット、G［緑］用6ビット、B［青］用5ビットの合計16ビットで表現する形式）のデジタルRGB出力端子を備えています。これらの機能内蔵により、リアビューもしくはサイドビューカメラ表示を行うカー・インフォメーション機器やミッドレンジおよびローエンド版グラフィックダッシュボード機器などの部品点数を削減でき、低価格化が図れます。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>チップだけのサンプル価格は1700円〜。</li></ul>
<pre>内蔵RAM 1M バイト （ビデオ表示用、内 32K バイトをデータ保持用と共用）
       64K バイト （高速内蔵メモリ） 
キャッシュメモリ 16K バイト （命令 8K / データ 8K分離、 4ウェイセットアソシアティブ方式） </pre>
<pre>ブートモード０： CS0空間に接続されたメモリからブート 
ブートモード１： シリアルフラッシュメモリ（高速通信）からブート 
ブートモード２： NAND フラッシュメモリからブート 
ブートモード３： シリアルフラッシュメモリ（低速通信）からブート </pre>
<p>ブートさせるにはいかなる方法であれ外部に(Flash)ROMが必要らしい。</p>
<p>これだけ、<strong>これでもか</strong>仕様満載の超高級マイコン。</p>
<ul class="list1 list-indent1"><li>これでＬチカだけやるっていうのも<strong>すごいテクノロジーの無駄使い</strong>のような気がしてきたところ。（基板を開封すらしない人もいると聞くけど。）</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_23">今月のまとめ<a class="anchor_super" id="x4ef5fd8" href="#x4ef5fd8" title="x4ef5fd8" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>PIC24Fライター--完成</li>
<li>ＦＰＧＡ基板（LatticeXP2）でＬチカ。--完了</li>
<li>ＮＸＰ基板でOpenOCD --玉砕
<ul class="list2 list-indent1"><li>USB Blaster(もどき)ではCLKが速すぎるらしい。</li>
<li>TCKをFOSC/64(750kHz)に落としたハードSPIは不安定。</li>
<li>WAITを入れたソフトSPIも同様に不安定。</li>
<li>別の原因かもしれない。ソフトSPIをさらに遅くしてみる？</li></ul></li>
<li>hidmon-2550/hidmon-14kのソース整理。--整理だけはした。</li>
<li>hidmon-2550/hidmon-14kのHID転送モードをインタラプト転送に戻す。--出来なかった。
<ul class="list2 list-indent1"><li>EP0バッファのサイズを64-&gt;8にしたら不明なデバイスになる。</li>
<li>Get_Descriptorで返すデータを8byte分割転送する処理で DATA0/DATA1切り替えが出来ていない。</li>
<li>原因は元々のアセンブラかその元のＣソースにあったbugのような気がする。</li>
<li>修正箇所を探し中。時間が掛かるかも。</li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_24">結果判明<a class="anchor_super" id="aae22978" href="#aae22978" title="aae22978" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><span style="font-size:20px"><strong>DATA0/1をフリップする処理が最初から間違っとるやんけ</strong></span></li></ul>
<pre>usb_sm_ctrl_in_tx
;        USBCtrlTrfTxService();
;        if(short_pkt_status == SHORT_PKT_SENT){
;            // If a short packet has been sent, don't want to send any more,
;            // stall next time if host is still trying to read.
;            ep0Bi.Stat._byte = _USIE|_BSTALL;
;        }else{
;            if(ep0Bi.Stat.DTS == 0)
;                ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;
;            else
;                ep0Bi.Stat._byte = _USIE|_DAT0|_DTSEN;
;        }</pre>
<pre>		; FSR0 must	be pointed to BDT_STAT(ep0Bi)
		rcall	usb_sm_ctrl_tx
		lfsr	FSR0, ep0Bi		;;BDT_STAT(ep0Bi)
		movlw	(_USIE | _DAT1 | _DTSEN)
		btfss	INDF0, DTS		; BDT_STAT(ep0Bi) ＜＝犯人はコイツ
		movlw	(_USIE | _DAT0 | _DTSEN)
		movwf	INDF0			; BDT_STAT(ep0Bi)
		return</pre>
<ul class="list1 list-indent1"><li>オリジナル版がそもそも間違っている。
<ul class="list2 list-indent1"><li>オリジナルはEP0_BUFF_SIZEを64で使っているので、たまたまDATA0/1のフリップが起きない。</li></ul></li>
<li>だからbtfssとかbtfscは嫌いなんだ！</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_25">目次<a class="anchor_super" id="tddce4a7" href="#tddce4a7" title="tddce4a7" style="user-select:none;">&dagger;</a></h2>
<div class="contents">
<a id="contents_1"></a>
<ul class="list2 list-indent1"><li><a href="#ffb4ca67">３月兎</a></li></ul>
<ul class="list1 list-indent1"><li><a href="#e2dc82c1">局地核戦争でも人類は滅亡</a></li>
<li><a href="#w83fe4c7">秋月のＰＩＣマイコン</a></li>
<li><a href="#z354378c">PIC24Fライターが動き始めそうな件</a></li>
<li><a href="#vded8881">dsPIC33は（１個持ってるけど）サポートしないかもしれない。</a></li>
<li><a href="#x12679a3">dsPIC33/PIC24Fの用途</a></li>
<li><a href="#yede97b1">Apple A4 Processor</a></li>
<li><a href="#n00f4e9c">PIC24Fライターが手ごわい件</a></li>
<li><a href="#caa1bb4d">PIC24Fライター出来たどー</a></li>
<li><a href="#n881c9f7">残る課題</a></li>
<li><a href="#ae43752e">USBシリアルファームとpic18spxファームの共存について</a>
<ul class="list2 list-indent1"><li><a href="#k0d41733">boot &lt;ADDRESS&gt;で割り込みベクターも一緒に切り替えるには？</a></li></ul></li>
<li><a href="#efcc16ab">『Google TV』で、コンピューター業界がピンチに？</a></li>
<li><a href="#k5cc1d9d">PIC24Fの使い道</a></li>
<li><a href="#vc26462d">PIC18F:間接分岐のコード</a></li>
<li><a href="#s817e877">PIC18spx:赤外線リモコン解析機能にSONYモードを追加</a></li>
<li><a href="#b94bf6e6">ジャンク箱に賞味期限切れのＣＰＬＤ/ＦＰＧＡが入っていた。</a></li>
<li><a href="#u29bc719">次世代原子炉</a></li>
<li><a href="#ieadfe91">賞味期限切れのＣＰＬＤ/ＦＰＧＡについて</a></li>
<li><a href="#x4ef5fd8">今月の残り作業予定</a></li>
<li><a href="#ubad2794">LatticeXP2 FPGA基板でＬチカ成功！</a></li>
<li><a href="#zdfba186">arm/OpenOCDのUSB Blaster対応</a></li>
<li><a href="#xce30340">interface誌2010-6(4/24発売)￥2,310：こんどのＬチカは凄いぞ！</a></li>
<li><a href="#x4ef5fd8">今月のまとめ</a></li>
<li><a href="#aae22978">結果判明</a></li>
<li><a href="#tddce4a7">目次</a></li></ul>
</div>

   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="http:/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2010-03-31 (水) 14:46:10<span class="page_passage" data-mtime="2010-03-31T14:46:10+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.060 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
