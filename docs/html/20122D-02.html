<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>2012-02 - PukiWiki</title>
 <link rel="stylesheet" type="text/css" media="screen" href="../skin/monobook/monobook.css" />
 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />
</head>
<body>
<div id="globalWrapper">
 <div id="menubar"><ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2010-10-11T18:16:06+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2022-07-25</strong>
<ul class="recent_list">
 <li><a href="20082D-10.html" class="link_page_passage" data-mtime="2022-07-25T22:19:24+09:00">2008-10</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
 <li><a href="H8EF-BC-8F-3048F.html" class="link_page_passage" data-mtime="2022-07-25T21:46:43+09:00">H8／3048F</a></li>
 <li><a href="AutoTicketLinkName.html" class="link_page_passage" data-mtime="2022-07-25T16:51:44+09:00">AutoTicketLinkName</a></li>
</ul>
<strong>2021-12-11</strong>
<ul class="recent_list">
 <li><a href="FormattingRules.html" class="link_page_passage" data-mtime="2021-12-11T00:40:03+09:00">FormattingRules</a></li>
</ul>
<strong>2021-12-08</strong>
<ul class="recent_list">
 <li><a href="PukiWiki/1.4/Manual/Plugin/O2D-R.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/O-R</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/L2D-N.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/L-N</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/V2D-Z.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/V-Z</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/A2D-D.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/A-D</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/E2D-G.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/E-G</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/S2D-U.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/S-U</a></li>
 <li><a href="PukiWiki/1.4/Manual/Plugin/H2D-K.html" class="link_page_passage" data-mtime="2021-12-08T08:58:38+09:00">PukiWiki/1.4/Manual/Plugin/H-K</a></li>
</ul>
<strong>2020-02-23</strong>
<ul class="recent_list">
 <li><a href="YukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">YukiWiki</a></li>
 <li><a href="PHP.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PHP</a></li>
 <li><a href="PukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PukiWiki</a></li>
 <li><a href="WikiWikiWeb.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">WikiWikiWeb</a></li>
</ul>
<strong>2018-12-19</strong>
<ul class="recent_list">
 <li><a href="SandBox.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">SandBox</a></li>
 <li><a href="InterWiki.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">InterWiki</a></li>
</ul>
<strong>2015-05-07</strong>
<ul class="recent_list">
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li>
</ul>
<strong>2015-05-02</strong>
<ul class="recent_list">
 <li><a href="MenuBar.html" class="link_page_passage" data-mtime="2015-05-02T16:20:12+09:00">MenuBar</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="2012-02" class="link_page_passage" data-mtime="2012-02-11T22:47:03+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2F2012-02">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=2012-02">編集</a></li><li><a href="./?cmd=diff&amp;page=2012-02">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">2012-02</h1><div id="contentSub"></div>
    <p><a href="20122D-01.html" class="link_page_passage" data-mtime="2012-01-23T19:41:27+09:00">2012-01</a>　<a href="LPC1114.html" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">LPC1114</a>　<a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a>　<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<hr class="full_hr" />
<h2 id="content_1_0">Tommy february^6<a class="anchor_super" id="w98a4c43" href="#w98a4c43" title="w98a4c43" style="user-select:none;">&dagger;</a></h2>
<p>先月の成果</p>
<ul class="list1 list-indent1"><li>ubuntu11.10でXen-hypervisorを動かしてみた。</li>
<li>gccでSH2AのFPUを動かしてみた。</li></ul>
<p><br />
<br />
持ち越し案件</p>
<ul class="list1 list-indent1"><li>USBオシロみたいな奴。</li>
<li>SH2AのFPU使いこなし。</li>
<li>cdctool用ファーム更新。 <del>MARY MB RX62N SH2A </del>済</li></ul>
<ul class="list2 list-indent2"><li>Flash書き込みルーチンは書いた。RAM転送もOK.</li>
<li><del>Erase出来ない</del></li>
<li><del>Verifyでエラー</del>
<ul class="list3 list-indent1"><li>データシートの読み間違い(別デバイス用だった)と思い込みがあった。</li></ul></li>
<li><del>boot機能が未だ。</del> --- NVICがベースアドレスを変えられないのでbootは断念。</li>
<li>Cortexは関数アドレスが奇数なので、RAM転送したり、RAM上関数への関数ポインタを生成するときはかなり神経を使う。おまけに割り込み禁止忘れてたし。</li></ul>

<ul class="list1 list-indent1"><li>MinGWクロスgccのビルド。</li></ul>
<p><br />
<br />
今月はいろいろ消化できそうもないかも。</p>
<p><br /></p>
<p>今月の謎</p>
<ul class="list1 list-indent1"><li>Android 4.0 ICSのintel版って実用性無いのか？
<ul class="list2 list-indent1"><li>VMWareではLANが使えない。SDカードエミュは使える。</li>
<li>intel版はまともにサポートする気あるのだろうか？</li></ul></li></ul>
<ul class="list2 list-indent2"><li>---&gt; VirtualBox上で動くICSはLANも繋がり、一応<strong>実用的</strong>だった。</li></ul>
<p>もっと読むか : <a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>VineLinuxをXen-hypervisorで動かす技。
<ul class="list2 list-indent1"><li>これはVineLinuxのisoイメージからインストールすれば出来そうな気がするけれど、<del>面倒くさくてまだ試していない。</del> ---やってみたけどhvm(Hardware Virtual Machine)は難しい。xm console出来ないので、シリアルかVNCで接続するらしい。でも繋がらない。</li></ul></li></ul>
<ul class="list2 list-indent2"><li>しかたがないので、実マシンにVineLinux4.2を入れて、dom-U対応カーネルに差し替えてみるつもり。</li>
<li>問題は、いまどきの実マシンにVineLinux4.2を入れられるかどうか。これも実は難易度が高い。(SATAとか(IDE互換モードですら)認識しないかも)</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>Xenをいろいろ使ってみているけれど、かなり便利。
<ul class="list2 list-indent1"><li>dom-Uの再起動が速い。shutdown -r して10秒後にはもうlogin出来る感じ。</li>
<li>rootパーティションが4GBの単なるファイルで済むので環境のバックアップや移動が楽。/homeとか実働データは別の仮想HDDにするか実パーティションを割り当てるとかすればデータだけはdom-0側で管理も出来る。</li>
<li>準仮想化(pvm)は軽い。schrootとそんなに変わらないくらい。vm側にメモリーをくれてやる必要があるけれど今時のマシンは充分余裕があるので無問題。</li></ul></li></ul>
<ul class="list2 list-indent2"><li>なんとlive migration（乗り移りだな）とかも出来るらしい。</li></ul>
<p><br /></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">煙草箱サイズの超小型PC<a class="anchor_super" id="n15518dc" href="#n15518dc" title="n15518dc" style="user-select:none;">&dagger;</a></h2>
<p>「プログラミングを楽しむPC」BASICやアセンブラを「CPU内蔵」で搭載、x86系</p>
<ul class="list1 list-indent1"><li><a href="http://akiba-pc.watch.impress.co.jp/hotline/20120114/etc_pinon2.html?ref=garank" rel="nofollow">http://akiba-pc.watch.impress.co.jp/hotline/20120114/etc_pinon2.html?ref=garank</a></li>
<li>今更FreeDOSが動いてもなー。</li></ul>
<p>＞予価は42,200〜45,800円</p>
<ul class="list1 list-indent1"><li>たけーよ。</li>
<li>実用性皆無だろ。</li>
<li>ついにUSBハブと同サイズのＰＣが出来た、といえるのかもしれない。</li>
<li>＞将来のＰＣはUSBハブサイズに。</li>
<li>たしかに実現したけど、FreeDOSじゃ弱いな。せめてAndroid ICSのx86版くらいは載せておいてくれ。
<ul class="list2 list-indent1"><li>---&gt;というかXPまでのOSは動くらしいので、普通にubuntuを導入すれば良いのか。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>x86ではないけれど、ARM搭載でわずか2000円のRaspberry Pi というコンピュータも。</li></ul>
<ul class="list2 list-indent2"><li><a href="http://dailynewsagency.com/2011/05/08/usb-sized-pc/" rel="nofollow">http://dailynewsagency.com/2011/05/08/usb-sized-pc/</a></li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">Android-x86 ICS build on ubuntu11.10(x64)<a class="anchor_super" id="hc61c0be" href="#hc61c0be" title="hc61c0be" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>read more : <a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li></ul>
<p><br />
<br />
<br />
ところで、NHCという仮想イメージ(VMWare/<span class="noexists"><a href="./?cmd=edit&amp;page=VirtualBox&amp;refer=2012-02">VirtualBox</a></span>/物理sda1とか)の相互変換を行なってくれるとってもありがたいソフト
が存在する。</p>
<ul class="list1 list-indent1"><li><a href="http://www.geocities.co.jp/SiliconValley/2994/tool/nhc.html" rel="nofollow">http://www.geocities.co.jp/SiliconValley/2994/tool/nhc.html</a></li>
<li>これを使用して、SDカードもLANも使えるAndroid-x86 ICSのVMLiteイメージをVMWareに変換して使ってみた。</li>
<li>残念ながらLANは使えなかった。何故だろう？</li>
<li>例えばこの変換したイメージをubuntuなどのVMにsdbとしてマウントさせて中を見ればなにか分かるかな？</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>VMLiteのICSでは、ALT+F1も使えなかったし、Shellアプリも入っていなかった。</li></ul>
<ul class="list1 list-indent1"><li>素直にVirtualBoxを使うべきなんだろうけど、・・・ううむ。仮想化ソフトの二重インストールはやりたくなかったり。（喧嘩しそうだし）</li></ul>

<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">多元宇宙<a class="anchor_super" id="p877460f" href="#p877460f" title="p877460f" style="user-select:none;">&dagger;</a></h2>
<p>TED</p>
<ul class="list1 list-indent1"><li><a href="http://www.ted.com/talks/lang/ja/sean_carroll_distant_time_and_the_hint_of_a_multiverse.html" rel="nofollow">http://www.ted.com/talks/lang/ja/sean_carroll_distant_time_and_the_hint_of_a_multiverse.html</a></li></ul>
<ul class="list1 list-indent1"><li>ちょっと面白かった。</li></ul>
<ul class="list1 list-indent1"><li>宇宙の寿命は１０の１０乗の１２０乗（年）もあるのに、どうして人間はわずか１４０億年と言うビッグバン後の若き宇宙に存在しているのだろうか。</li></ul>
<ul class="list1 list-indent1"><li>答えはビデオで。</li></ul>
<ul class="list1 list-indent1"><li>TEDの講演ビデオはどれもなかなか面白いので、見ていて飽きない。</li></ul>

<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_4">Atom D2700搭載マザーボード(ASRock)<a class="anchor_super" id="u080f5c8" href="#u080f5c8" title="u080f5c8" style="user-select:none;">&dagger;</a></h2>
<p>8480円らしい。</p>
<ul class="list1 list-indent1"><li><a href="http://akiba-pc.watch.impress.co.jp/hotline/20120128/image/mad27007.html" rel="nofollow">http://akiba-pc.watch.impress.co.jp/hotline/20120128/image/mad27007.html</a></li>
<li>PS/2,シリアル,パラレル、15pin VGA、と全部揃っている。</li>
<li>(I/Oポート)レガシー野郎にはうってつけだ。</li>
<li>IDE,Floppyは存在しない。(存在したとしてもIDEドライブやFloppyドライブはもはや売っていないので不要だよな)</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>IDEに関しては外付け3.5inch USBケースで、たまにIDE/SATA両対応のがあるのでそれを確保しておくべき。（レガシーな人たち用）</li>
<li>Floppyは、もう救済策がない。今も5inch Floppyのサルベージ需要があって、少し困っているところ。</li>
<li>3.5inch FloppyならUSB外付けを確保しておくとか。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>Atomみたいなローパワーなシステムこそ、普通にレガシー要らないような気がするんだが、</li>
<li>もしかしたら古いPen4とかAthlon時代の産業用マザーの置き換えでレガシーポート需要があるのだろうか？（だったらIDEも要りそうだけど）</li></ul>
<ul class="list1 list-indent1"><li>大体、RS-232Cって何に使ってるんだろうか？
<ul class="list2 list-indent1"><li>ChaNさんのAVRライター。（これは一時期重宝していた。USB-シリアルだとだめだ）</li>
<li>モデム？いまどきモデムはないだろうし、あっても大抵USB。</li>
<li>まさかのTTY接続？300bpsとか</li>
<li>よほどのことがないかぎりUSB-シリアル変換で事足りる。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>パラレルは、まさか太古のプリンター使うわけないよね。（ドライバーもなさそうだし）
<ul class="list2 list-indent1"><li>ByteBlasterとか</li>
<li>CaetlaとかPS2メモカ吸いとか？</li></ul></li></ul>
<p><br />
問題は、WindowsXPやそれ以前のOS用のデバイスドライバーが入手しにくいことらしい。</p>
<ul class="list1 list-indent1"><li>では、一体<strong>何故レガシーポートを載せるのか</strong>意味が分からない。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">VineLinux4.2 on ububtu11.10<a class="anchor_super" id="v4594c99" href="#v4594c99" title="v4594c99" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>Vine単体では、実G41マザーにインストールして動いた。(SATAはIDEモード)</li>
<li>けれども、ubuntuからhvmやpvmで起動する方法がわからん。(bootがないとか怒られる)
<ul class="list2 list-indent1"><li>pygrubの設定はしてみた。</li></ul></li>
<li>もしかして、kernelは仮想HDDの外側に置いてそれを指定するのか？</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>ネット検索で引っかかるXENの解説ページはXEN3.0とか古いのが多い。(たとえばpygrubの位置とか違うし)</li></ul>
<p>知りたいのは、</p>
<ul class="list1 list-indent1"><li>hvmやpvm用のxm-configの書き方というかtemplate</li>
<li>実働しているLinuxをxen上にもってくる正しいやり方。(phy指定とddコピーしたfileの双方)</li>
<li>実働しているLinuxがVineみたいにレガシーだった場合のカーネルの差し替え方。</li>
<li>あるいはhvmでの動かし方。</li></ul>
<p>intel VT-xをサポートしているCPUって、新し目のCore2のハイエンドかSandyBridgeでないとだめみたいだ。</p>
<ul class="list1 list-indent1"><li>古いCore2ではcpuinfoにvmx(VT-x)が出てこないでござる。</li>
<li>VT-xがあるやつは、特権Ring-0よりも強いVMXrootというモードを持っていて<a id="notetext_1" href="#notefoot_1" class="note_super" title="というかVMXroot,VMXnon-rootが特権RINGと独立に設定できるらしいので">*1</a>、VMモニタはそこを使っている。</li>
<li>VT-xがサポートされていないと、Windows7ProfessionalでのXPモードも使えなかった。</li>
<li>しかし、今ではその条件は緩和されているらしい。<a href="http://northwood.blog60.fc2.com/blog-entry-3659.html" rel="nofollow">http://northwood.blog60.fc2.com/blog-entry-3659.html</a></li></ul>
<ul class="list1 list-indent1"><li>VMWarePlayerの場合は特権Ring-0のCPU動作を高速なソフトウェアCPUエミュレータで実行する(!)らしいので元からVT-xは要らないようだ。</li></ul>
<p>intel VT-x対応CPU表 発見： <a href="http://www.pc-koubou.jp/info/win7_vt.php" rel="nofollow">http://www.pc-koubou.jp/info/win7_vt.php</a></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">VineLinux4.2 on ububtu11.10 解決編<a class="anchor_super" id="s4d165c8" href="#s4d165c8" title="s4d165c8" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>VineLinux4.2をインストールするためには、G41マザーとかIDE互換モードのSATA設定とか必要無かった。</li></ul>
<pre>virt-install \
 --hvm \
 --name=vine4 \
 --ram=512 \
 --vcpus=1 \
 --file=/mydir/domains/vine4/disk.img \
 --file-size=4 \
 --nonsparse \
 --network=network:default \
 --network=bridge:xenbr0 \
 --cdrom=/mydir/Vine42-i386.iso \
 --os-type=linux \
 --os-variant=generic24 \
 --vnc \
 --keymap=us</pre>
<ul class="list1 list-indent1"><li>これだけで良いみたい。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_7">イメージ作成<a class="anchor_super" id="f87527a9" href="#f87527a9" title="f87527a9" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>disk.imgはubuntuインストールの時に作った適当な奴をコピーしたけれど、ddで作ってもＯＫ。</li></ul>
<pre>$ dd if=/dev/zero of=disk.img bs=4096k count=0 seek=1024</pre>
<ul class="list1 list-indent1"><li>Vine42-i386.iso は、VineLinux配布サイトから落としてくる。</li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_8">前準備<a class="anchor_super" id="r5ca8ee5" href="#r5ca8ee5" title="r5ca8ee5" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>インストール前に必要なパッケージ。
<pre># apt-get install virtinst virt-viewer vnc4server</pre></li>
<li>vnc4serverは、手元のLinux GUIでやる時は不要。リモートの（というかモニタを繋いでいない）Linuxでやるときには入れておく。</li>
<li>リモートのLinuxをWindowsからGUI接続する。（手元のLinuxマシンなら不要）
<pre>$ vncserver
 ここで一時的なパスワード8文字を入れる。</pre></li>
<li>すると、Linuxマシンの IPアドレス（例えば192.168.0.2）の後ろに:1 とかを付けたvncserverが立ち上がるので、そのアドレス
<pre>192.168.0.2:1</pre></li>
<li>に対して、WindowsからVNC Clientで接続する。パスワードはvncserver起動で与えたパスワードを使う。
<br /></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_9">そして、virt-install  ・・・ 上記 ・・・を実行。<a class="anchor_super" id="v8992ea7" href="#v8992ea7" title="v8992ea7" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>LinuxのコンソールがGUIに変わって、おなじみのVineLinuxインストーラーが起動する。</li>
<li>GUIでやるのは面倒くさいので、boot: のところで linux text と打ち込む。</li>
<li>あとは普通にインストール。</li>
<li>再起動すると、VNC内でテキストモードのVineLinuxが起動。</li>
<li>普通に外部LANも接続出来た。</li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_10">まとめ。<a class="anchor_super" id="a55f83a1" href="#a55f83a1" title="a55f83a1" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>ubuntu11.10のXenは便利だし、標準パッケージで付いてくるのでインストールも楽。</li>
<li>完全仮想化dom-Uを作るのはネットからVineLinuxなどのisoファイルを落としてきて、virt-installするだけでいい。簡単。</li>
<li>vncビューワーはあらかじめインストールだけしておけば、virt-installが勝手に立ち上げてくれる。(GUIの場合)</li>
<li>GUIでないリモートマシン上のubuntuならば、ssh経由でvncserverを立ち上げて、WindowsのVNCでubuntuに接続して、そこからvirt-install出来る。</li></ul>
<p><br />
残った疑問</p>
<ul class="list1 list-indent1"><li>hvmをpvmに移行するやりかた。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_11">uCLinuxについて調べ中。<a class="anchor_super" id="x03fd6c5" href="#x03fd6c5" title="x03fd6c5" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ソースは？ たぶん <a href="http://www.uclinux.org/" rel="nofollow">http://www.uclinux.org/</a> でいいのかな。</li>
<li><a href="http://uclinux-h8.sourceforge.jp/" rel="nofollow">H8／300</a>のページによると、最低要るのが 1MB ROM + 1MB RAM もしくは 2MB RAM らしい。</li>
<li>だけど、httpdとか考えてるなら16Mとか32M要るらしい。</li>
<li>ちなみにInterface 2012-03は購入済み。</li></ul>
<p>kernel2.6ではuCLinuxが統合されている？？？</p>
<ul class="list1 list-indent1"><li><a href="http://www.atmarkit.co.jp/flinux/special/kernel26/kernel26_02a.html" rel="nofollow">http://www.atmarkit.co.jp/flinux/special/kernel26/kernel26_02a.html</a></li></ul>
<p>なんでMMUなしのLinuxがいいんだろう？とか疑問を持っていたけれど、InterfaceによるとMMUのオーバーヘッド
が無い分速いということらしい。うーむ。</p>
<p>まあ、USBホスト付きのマイコンボードとかEthernetサポートしたいとかいう場合は、わざわざUSBホスト書いたりRTOS+TCP/IPスタック買って来るよりも普通にLinuxでいいじゃんというのは有りだと思った。</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_12">uCLinux とりあえず、走らせてみればいいんじゃない。<a class="anchor_super" id="ec5de5f4" href="#ec5de5f4" title="ec5de5f4" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><strong>べつに</strong>わざわざ高価な基板を買ってこなくてもすぐに試せる。</li></ul>
<ul class="list1 list-indent1"><li><a href="http://www.uclinux.org/pub/uClinux/utilities/armulator/" rel="nofollow">本家のこのページ</a>から、gdb(+patch)とkernelとuserlandをＤＬする。</li>
<li>適当に用意した32bitなLinux（もちろんVMWare上でも充分）に展開。</li>
<li>patch適用後、configure,makeしてgdb linux-2.0.xxx を起動し、
<pre>target sim
load
run</pre></li>
<li>たったこれだけ。ものの３分で試せる。</li></ul>
<p>わかったこと。</p>
<ul class="list1 list-indent1"><li>Kernel-2.0系では、
<ul class="list2 list-indent1"><li>gdbに与えるメモリーは2MB。kernel codeは500kB,dataは200kB程。</li>
<li>フリーエリアは1.3MBほど。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>Kernel-2.4系では、
<ul class="list2 list-indent1"><li>gdbに与えるメモリーは4MB。kernel codeは800kB,dataは200kB程。</li>
<li>フリーエリアは3MBほど。</li></ul></li></ul>
<p>結論として、やっぱりRAMは2MBくらいは最低必要(2MBでhttpdとかは論外なのでもっと積むこと）。あと、ユーザーランドやファイルシステムはSDカードかなんか
に入れておけばGB単位で安価に済みそう。</p>
<p><br />
試してしてみた感想。</p>
<ul class="list1 list-indent1"><li>これ、gdbのsimで充分だわ。</li>
<li>gdbには、CPU simulatorが含まれているので、各種CPU用のイメージで試せる。</li>
<li>ハードウェア作ったりメモリーの配線したりしないでいい。</li>
<li>（必要なら）メモリーはいくらでも増やせる。（ホストPCの許容範囲内でだけど今のPCは普通に2Gとか4G。そもそも4GもがARMの上限だし。）</li></ul>
<ul class="list1 list-indent1"><li>最大のメリットが、<strong>いつでもgdbデバッグ出来る</strong></li></ul>
<p>だって<strong>gdbの中で動いてるんだもの。</strong></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_13">PC9801の5インチフロッピーを読む<a class="anchor_super" id="a8bf2f06" href="#a8bf2f06" title="a8bf2f06" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ドライブはPC98のTEACのものをそのまま互換機に接続。</li>
<li>実は5FDのケーブルを掘り出すのに苦労した。</li>
<li>WindowsXPでは、自分でフォーマットしたフロッピーはちゃんと使えるのだけれど、</li>
<li>PC9801で書いた昔のフロッピーを入れても無限リトライを繰り返すばかり。</li>
<li>適当な吸出しソフトでもだめだった。</li>
<li>自分でフォーマットしたフロッピーのプロパティでは1.20MB(2HC、512B x 15セクタ/トラック)になっている。</li>
<li>ところが、PC9801のフロッピーは1.25MB(2HD、1024B x 8セクタ/トラック)なのだった。</li></ul>
<p><br />
しかたなく互換機にWindows98をインストール。Pentium4(intel 865G)だったけれど、Windows98用のドライバーCD
を探し出すのも苦労した。</p>
<ul class="list1 list-indent1"><li><strong>読める、読めるぞ。</strong>（by ロムスカ）</li>
<li>やっぱりWin95/98/Me系列でないとPC9801の５インチ2HDは読めないようだ。</li>
<li>intel 865GにインストールしたWindows98はかなり不安定で、ちょっとなにかすると止まったりブルースクリーンになったりする。各種ドライバーインストール中にも５回くらいリセットかけた。</li>
<li>WindowsXPでは、そんなときはCTRL+ALT+DELなのだが、Windows98ではCTRL+ALT_DELは問答無用で再起動になる。</li>
<li>よくこんなＯＳ(Win98のこと)を使いこなした時代があったなぁ・・・と感慨にふける。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>VMWarePlayer上で飼っている（といっても全く使っていない）Win98はそんなに不安定ではない。せいぜいインストール中に１回フリーズする程度だ。</li></ul>
<ul class="list1 list-indent1"><li>5インチ媒体は何百枚も持ってたけどほとんど捨てたなぁ・・・CP/M-80のコレクションも相当あったんだが。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_14">Xen: centos4.8 on ubuntu11.10<a class="anchor_super" id="o6ec1d8b" href="#o6ec1d8b" title="o6ec1d8b" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>完全仮想化したVineLinux4.2をpvmに移行（準仮想化）する試みは失敗した。</li>
<li>というのも、kernelのパッケージファイル作成がうまく行かないからだ。
<ul class="list2 list-indent1"><li>kernel2.6.16のソースパッケージを拾ってきて rpm -bb rpm/SPECS/*.spec を実行してはみるのだが、</li>
<li>ビルドの途中で、*.i386.*というファイルが無い！と抜かす。</li>
<li>そこに行ってみると、i586とi686はあるのだがi386というファイルは無かった。</li>
<li>よくわからないけれど、<strong>今更直す気はさらさらない。</strong> ---というかrpmのversion依存地獄はもう手がつけられないので。</li>
<li>素のカーネルtarballをＤＬしてきてビルドする勇気もなかったりする。</li></ul></li></ul>
<p><br />
<br />
<br />
・・・</p>
<ul class="list1 list-indent1"><li>なので、VineLinuxに近いCentOSをpvmで入れて、ユーザーランドだけVine4.2に置き換えようという無謀な計画を立ててみた。</li>
<li>ついでにCentosのdom-Uも手に入るし。</li></ul>
<p>（１）まず、CentOSのisoファイルをどっかから拾ってくる。</p>
<pre> CentOS-4.8-i386-binDVD.iso </pre>
<p>（２）それをcloopでapacheの公開ディレクトリのどっかにマウントする。</p>
<pre># mkdir /var/www/html/cdrom
# mount -o loop CentOS-4.8-i386-binDVD.iso /var/www/html/cdrom</pre>
<p>（３）ddで4GBの仮想HDDを作る。</p>
<pre>dd if=/dev/zero of=/mydir/xen/domains/centos/disk.img bs=4096k count=0 seek=1024</pre>
<p>（４）virt-installを実行する。</p>
<pre>virt-install \
--paravirt \
--name=centos4 \
--ram=512 \
--vcpus=1 \
--file=/mydir/xen/domains/centos/disk.img \
--network=network:default \
--network=bridge:xenbr0 \
--location=http://192.168.1.1/cdrom/ \
--keymap=us</pre>
<ul class="list1 list-indent1"><li>192.168.1.1というのはこのubuntuのipアドレスだけど、CentOSのdvdをマウントしたファイル（isoではなくてdvdマウントされた全ファイル）が見れるhttp公開サーバーならどこでもＯＫ。</li>
<li>localhostだと失敗する（vm側の127.0.0.1になって、ubuntu側を参照してくれない）</li></ul>
<ul class="list1 list-indent1"><li>あとは普通にlinux text と入れて、textインストールを実行する。</li></ul>
<ul class="list1 list-indent1"><li>とにかく、Xenのvirt-installは速い。pvmだろうがhvmだろうがあっという間だし。</li>
<li>vmのリブートも速いので<strong>満足</strong>。</li></ul>
<p><strong>もう実マシンでのLinuxインストールには戻れないと思った。</strong></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>CentOS4.8だと、何もしないでpvmインストール出来たのは良かったけれど、Linuxカーネルはちょっと古かった。
<pre>vmlinuz-2.6.9-89.ELxenU</pre></li></ul>
<ul class="list1 list-indent1"><li>まあいいか。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_15">これはひどい：柏市周辺在住のアイドルユニット『Hot Spots』のオーディションが中止に！<a class="anchor_super" id="q612255e" href="#q612255e" title="q612255e" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://rocketnews24.com/2012/02/07/180169/" rel="nofollow">http://rocketnews24.com/2012/02/07/180169/</a></li>
<li>ホットスポットといえば福山雅治のＮＨＫ番組<strong>最後の楽園</strong>。多様な生物が集中して棲息する場所のことだったんだよ。<strong>３月１０日までは。</strong></li></ul>
<ul class="list1 list-indent1"><li>いつから放射能用語に変わったんだよまったく。</li></ul>
<p>すべて東電のせいでこうなってしまった。</p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_16">これはもっとひどい：虚構新聞より<a class="anchor_super" id="z17fce11" href="#z17fce11" title="z17fce11" style="user-select:none;">&dagger;</a></h4>
<p>新ユニット「ＧＫＢ４７」がついにデビュー！</p>
<ul class="list1 list-indent1"><li><a href="http://kyoko-np.net/2012012501.html" rel="nofollow">http://kyoko-np.net/2012012501.html</a></li>
<li>政府のネーミングセンス悪すぎ。</li>
<li>というかゲートキーパー＝門番だろ。</li>
<li>ゲートウェイサーバーのDNS名かお前は？</li>
<li>さらにベーシックが理解不能だ。ゴキブリは関係ないとしても。</li></ul>
<p>ほんとにこんなユニットがデビューしたら嫌だな。集まりそうだけど。</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_17">HDDかと思った？残念！オーディオアンプでしたーっ！<a class="anchor_super" id="a38773f3" href="#a38773f3" title="a38773f3" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://homepage3.nifty.com/sudamiyako/zk/AudioAmp/audioamp.html" rel="nofollow">http://homepage3.nifty.com/sudamiyako/zk/AudioAmp/audioamp.html</a></li>
<li>もう要らなくなった40Gとか80GのIDEがいくつもあるので、やってみたくなった。</li>
<li>穴あけ大変だな。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_18">Xen: VineLinux4.2 on ubuntu11.10 リベンジ<a class="anchor_super" id="o9f7df8f" href="#o9f7df8f" title="o9f7df8f" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>完全仮想化したVineLinux4.2をpvmに移行（準仮想化）する試みの続き。</li>
<li>kernelのパッケージファイル作成がうまく行かない。
<ul class="list2 list-indent1"><li>kernel2.6.16のソースパッケージを拾ってきて rpm -bb rpm/SPECS/*.spec を実行してはみるのだが、</li>
<li><del>ビルドの途中で、*.i386.*というファイルが無い！と抜かす。</del></li></ul></li>
<li>これは、こうすれば解決
<pre>$ rpm -bb --target i686 rpm/SPECS/kernel-2.6-vl.spec</pre></li>
<li>そして、rpm/BUILD/kernel-2.6.16/linux-2.6.16/以下を見る。</li>
<li>XEN関係のconfigが一切見当たらない。</li>
<li>ということは、CentOSの2.6.9のビルドはXENのパッチを独自に当てたものだったのか。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>ちなみに、CentOSの2.6.9-XENカーネルをVineに入れてブートしてみたのだが、
<ul class="list2 list-indent1"><li>hvmだとgrubがvmlinuzを認識しない。(gzipフォーマットはだめなのか？）</li>
<li>pvmだとpyGrubがうまいこと起動してくれるのだが、/dev/以下のspecialファイルを作ってくれない。(STATIC devfsだと抜かす）</li>
<li>/dev/を空にしてもだめだった。たぶん/lib/以下のどっかも持ってこないとだめなんだろうなぁ・・・（/lib/modules/は当然持ってきている）</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>centosのvmディスクからvineのvmディスクにファイルを移す技も覚えた。
<ul class="list2 list-indent1"><li>これは、別のubuntuのvmのconfigファイルのdiskセクションにxvdbやxvdcを追加して、別のvmをマウントすればいい。
<pre>disk = ['file:/mydir/xen/domains/oneiric/disk.img,xvda,w'
,'file:/mydir/xen/domains/centos/disk.img,xvdb,w'
,'file:/mydir/xen/domains/vine4/disk.img,xvdc,w']</pre></li>
<li>こんな感じだ。</li>
<li>あとはubuntuのvmを起動して、適当なディレクトリにマウントするだけだ。</li></ul></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_19">VineLinux4.2のカーネルパッケージビルド。<a class="anchor_super" id="te081d59" href="#te081d59" title="te081d59" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li>XENに対応していそうなrpmを取ってくる。</li>
<li>適当にVineLinuxのftpサイトから取得するか、/etc/apt/source.listを一時的に4.2 --&gt; 5.2へと書き換えて
<pre># apt-get update
# apt-get install module-init-tools
$ apt-get source kernel
$ rpm -bb --target i686 rpm/SPECS/kernel-2.6-vl.spec</pre></li>
<li>終わったら、source.listを4.2に戻しておくのを忘れないようにする。</li></ul>
<p>しかし、この方法でもmodule-init-toolsがインストールされていませんというおかしなエラーを吐かれてビルドが途中で止まる。</p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_20">Xen: VineLinux4.2 on ubuntu11.10 暗礁に乗り上げた<a class="anchor_super" id="o8cc569a" href="#o8cc569a" title="o8cc569a" style="user-select:none;">&dagger;</a></h2>
<p>[手順概要]：Vine Linux 4をDomainUで実行させる方法については、以下のページが妙に<strong>詳しい。</strong></p>
<p>■ FC6パッケージの利用方式</p>
<ul class="list1 list-indent1"><li><a href="http://www.os-museum.com/linux/xen/xen3vine4u/xen3vine4u.htm" rel="nofollow">http://www.os-museum.com/linux/xen/xen3vine4u/xen3vine4u.htm</a></li></ul>
<ul class="list1 list-indent1"><li>上記ページのとおりに、FC6を使うやり方を試してみた。</li>
<li>FC6のdvdからのXen dom-U(pvm)インストールは全く問題なく出来た。(CentOSと同じ手順にて成功)</li>
<li>そこで得られたvmlinuzと、いくつかのrpmインストールを上記ページのとおりにVine4.2に移してみたところ、</li>
<li>pvmの起動はＯＫ。</li>
<li>kudzuはsegmentation faultで死ぬが先へ進む。</li>
<li>Linux起動の最後のフェーズで無限に待ちになってログインプロンプトまで来ない。</li></ul>
<ul class="list1 list-indent1"><li>pvmのdom-U起動はFC6やCentOSに比べてかなり(1/10くらい)遅い。最終フェーズでさらに遅くなる感じ。理由は不明</li></ul>
<p><strong>迷宮入りか？</strong></p>
<p><br />
知らなかったんだけど2007年にxensourceはcitrixに買収されてしまったらしい。</p>
<ul class="list1 list-indent1"><li>そのせいか、上記ページのxensourceで公開されている（という）カーネルが入手できない。</li>
<li>FC6で試すしかない。</li>
<li>３回くらいVine42をクリーンインストールしてやり直しても症状は変わらない。</li>
<li>Vine42にある HAL layer がいけないのだろか？</li>
<li>linuxカーネルって、一枚岩かつ供給元(kernel.org)が同じなので（ディス鳥間で）割と差し替えが利くと思っていたがそうでもないのね。</li>
<li>起動シーケンスでデバイス登録したり/dev/以下にスペシャルファイル置いたりはユーザーランドにも絡むのかな。</li></ul>
<p><strong>そろそろ飽きてきた</strong></p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_21">Linuxテキストエディタ:64bit版utf8対応jed-ja<a class="anchor_super" id="w16a4a34" href="#w16a4a34" title="w16a4a34" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>jed-jaというのはVineLinux4.2のパッケージに入っているmicro-emacs的なテキストエディタのこと。</li>
<li>最近のLinuxに入っているjedパッケージはutf-8限定になっていて、eucやsjisが扱えない。</li>
<li>逆にjed-jaではutf-8が扱えない。</li>
<li>なので、jed-ja(というかslang-1.4.6)にutf-8を追加してみるテスト。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_22">しめしめ。うまくいった。<a class="anchor_super" id="df080309" href="#df080309" title="df080309" style="user-select:none;">&dagger;</a></h4>
<ul class="list1 list-indent1"><li>３年前くらいにutf8対応をやろうとしたときは、<strong>到底無理</strong>、と思っていた。</li>
<li>でも、今回はすんなりうまくできた。</li>
<li>slangはstatic-linkになるので、先にslangからmake installする必要がある。</li>
<li>ターゲットはx64で作ってみたが、普通にconfigureできるので、i386でもarmでもOKなはず。</li></ul>
<p><br /></p>
<p>ダウンロードは<a href="http:/ATMEL_AVR/cgi-bin/wifky/wifky.cgi?p=64bit%C8%C7utf8%C2%D0%B1%FEjed-ja" rel="nofollow">こちら</a></p>
<ul class="list1 list-indent1"><li>jed内部的にはeuc扱いのままなので、eucになくてunicodeで追加されたような漢字は化けてしまう。--昔のサクラエディタと同じような現象。</li></ul>
<ul class="list1 list-indent1"><li>ふつうにソースをエディットする分には大丈夫だと思う。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_23">Xen: VineLinux4.2 on ubuntu11.10 xensourceから取得したカーネル<a class="anchor_super" id="u679d0eb" href="#u679d0eb" title="u679d0eb" style="user-select:none;">&dagger;</a></h2>
<p>探せばあるもんだ。</p>
<ul class="list1 list-indent1"><li><a href="http://old-list-archives.xen.org/archives/html/xen-users/2006-06/msg00170.html" rel="nofollow">http://old-list-archives.xen.org/archives/html/xen-users/2006-06/msg00170.html</a></li>
<li><a href="http://wiki.arcs.org.au/foswiki/bin/view/APACgrid/XenInstall" rel="nofollow">http://wiki.arcs.org.au/foswiki/bin/view/APACgrid/XenInstall</a>
<pre>mkdir /tmp/x &amp;&amp; cd /tmp/x &amp;&amp; wget http://bits.xensource.com/oss-xen/release/3.0.3-0/bin.tgz/xen-3.0.3_0-install-x86_32p.tgz</pre></li></ul>
<p>いわれたとおりにやってみた。</p>
<ul class="list1 list-indent1"><li>途中でxm consoleが切れる。vncviewerで見ると、仮想hdd側に同名カーネルがないというエラー。</li>
<li>仮想HDD側にもちゃんとコピーして再度トライ。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_24">成功した。<a class="anchor_super" id="z560e049" href="#z560e049" title="z560e049" style="user-select:none;">&dagger;</a></h4>
<p><strong>VineLinux4.2 on ubuntu11.10 xensourceから取得したカーネル xen-3.0.3_0-install-x86_32p.tgz でのpvm起動に成功！</strong></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h4 id="content_1_25">よくやった。<a class="anchor_super" id="n6e48c50" href="#n6e48c50" title="n6e48c50" style="user-select:none;">&dagger;</a></h4>
<p>そして、現実のVineLinux4.2をpvmに移行する実験も成功した。</p>
<p>まとめはこちら: <a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_26">RAM Vectorという変な実装をやってみたり。<a class="anchor_super" id="db6a64c5" href="#db6a64c5" title="db6a64c5" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>M68000とかH8とかでは、ROM上のベクターを変更できないとブートローダーが書けない。</li>
<li>というか書いてもアプリ側が割り込みを使用できなくて困る。</li>
<li>しかたがないので、ROM上のベクターから一旦RAMにジャンプして、もいっかいROMに戻ってくるような変な実装をするのだ。</li>
<li>そして、ブートローダーで起動したアプリの（仮想的な）Vectorテーブルを見て、そのテーブルの飛び先に飛ぶように、RAM上のjump命令を再編集するのだ。</li></ul>
<ul class="list2 list-indent2"><li>これをやると、割り込み応答が2 jump程遅くなってしまう。</li>
<li>そして、ARMだと絶対番地指定jumpがないので、そもそも実装できない。--レジスタを壊さずに飛べない。</li></ul>
<ul class="list1 list-indent1"><li>こんなことさせずにハードウェアでNVICくらいちゃんと実装しといてほしい。</li></ul>
<p><br />
<br />
<br />
<br />
<a href="20122D-01.html" title="2012-01" class="link_page_passage" data-mtime="2012-01-23T19:41:27+09:00">＜前の月</a>｜<a href="20122D-03.html" title="2012-03" class="link_page_passage" data-mtime="2012-03-26T19:34:43+09:00">次の月＞</a></p>
<hr class="note_hr" /><a id="notefoot_1" href="#notetext_1" class="note_super">*1</a>
<span class="small">というかVMXroot,VMXnon-rootが特権RINGと独立に設定できるらしいので</span><br />   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="http:/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2012-02-11 (土) 22:47:03<span class="page_passage" data-mtime="2012-02-11T22:47:03+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.052 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
