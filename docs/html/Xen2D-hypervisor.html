<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>Xen-hypervisor - PukiWiki</title>

<!---
 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/180wiki-sp.css" />

 --->

 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/monobook/mobile.css" />
 <link rel="stylesheet" media="screen and (min-width:769px)" href="../skin/monobook/monobook.css" />

 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />

 <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div id="globalWrapper">
 <div id="menubar">
<ul class="list1 list-indent1"><li><a href="/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2022-08-01T12:48:11+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:55+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
<li><strong><a href="20222D-08.html" title="2022-08" class="link_page_passage" data-mtime="2022-12-06T14:55:12+09:00">開発日記</a></strong> <a href="SiteMap.html" title="SiteMap" class="link_page_passage" data-mtime="2022-07-31T15:21:46+09:00">過去ログ</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2022-08-01T10:38:10+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2022-08-01T10:38:01+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2022-08-01T10:38:19+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2022-08-01T10:41:06+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:45+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2024-06-15</strong>
<ul class="recent_list">
 <li><a href="MenuBar.html" class="link_page_passage" data-mtime="2024-06-15T21:28:29+09:00">MenuBar</a></li>
</ul>
<strong>2022-12-06</strong>
<ul class="recent_list">
 <li><a href="MSE3-82-A2-E3-82-AB-E3-82-A6-E3-83-B3-E3-83-88-E3-81-AE-WindowsE3-81-AE-CE3-83-89-E3-83-A9-E3-82-A4-E3-83-96-E3-82-92-E4-BF-AE-E5-BE-A9-E3-81-99-E3-82-8B-.html" class="link_page_passage" data-mtime="2022-12-06T15:05:42+09:00">MSアカウントのWindowsのCドライブを修復する</a></li>
 <li><a href="20222D-08.html" class="link_page_passage" data-mtime="2022-12-06T14:55:12+09:00">2022-08</a></li>
</ul>
<strong>2022-09-29</strong>
<ul class="recent_list">
 <li><a href="AndroidE3-81-AB-SSLE8-87-AA-E5-B7-B1-E7-BD-B2-E5-90-8D-E8-A8-BC-E6-98-8E-E6-9B-B8-E3-82-92-E5-85-A5-E3-82-8C-E3-82-8B-.html" class="link_page_passage" data-mtime="2022-09-29T22:10:56+09:00">AndroidにSSL自己署名証明書を入れる</a></li>
</ul>
<strong>2022-09-01</strong>
<ul class="recent_list">
 <li><a href="UEFI_Basic.html" class="link_page_passage" data-mtime="2022-09-01T20:22:14+09:00">UEFI_Basic</a></li>
</ul>
<strong>2022-08-31</strong>
<ul class="recent_list">
 <li><a href="SMRE3-81-AA-HDDE3-83-99-E3-83-B3-E3-83-81-E3-83-9E-E3-83-BC-E3-82-AF-.html" class="link_page_passage" data-mtime="2022-08-31T11:15:42+09:00">SMRなHDDベンチマーク</a></li>
 <li><a href="E7-B0-A1-E6-98-93-E9-80-9F-E5-BA-A6-E6-B8-AC-E5-AE-9A-E3-82-B5-E3-82-A4-E3-83-88-.html" class="link_page_passage" data-mtime="2022-08-31T11:11:11+09:00">簡易速度測定サイト</a></li>
 <li><a href="E3-83-8D-E3-83-83-E3-83-88-E3-83-AF-E3-83-BC-E3-82-AF-BOOT.html" class="link_page_passage" data-mtime="2022-08-31T11:09:22+09:00">ネットワークBOOT</a></li>
</ul>
<strong>2022-08-26</strong>
<ul class="recent_list">
 <li><a href="E7-B0-A1-E6-98-93-E3-82-B3-E3-83-B3-E3-83-91-E3-82-A4-E3-83-AB-E3-83-99-E3-83-B3-E3-83-81-.html" class="link_page_passage" data-mtime="2022-08-26T16:28:56+09:00">簡易コンパイルベンチ</a></li>
</ul>
<strong>2022-08-01</strong>
<ul class="recent_list">
 <li><a href="/ATMEL_AVR/html/" class="link_page_passage" data-mtime="2022-08-01T12:48:11+09:00">FrontPage</a></li>
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2022-08-01T10:41:06+09:00">2015-04</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:55+09:00">ＨＩＤａｓｐｘ</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:45+09:00">ＨＩＤａｓｐ情報</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:34+09:00">ＨＩＤａｓｐ</a></li>
 <li><a href="NEC78K.html" class="link_page_passage" data-mtime="2022-08-01T10:38:19+09:00">NEC78K</a></li>
 <li><a href="AVRetc.html" class="link_page_passage" data-mtime="2022-08-01T10:38:10+09:00">AVRetc</a></li>
 <li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2022-08-01T10:38:01+09:00">AVR_Monit</a></li>
 <li><a href="20082D-08.html" class="link_page_passage" data-mtime="2022-08-01T10:37:50+09:00">2008-08</a></li>
</ul>
<strong>2022-07-31</strong>
<ul class="recent_list">
 <li><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">ＷｉｄｅＴｅｘｔ</a></li>
 <li><a href="RecentDeleted.html" class="link_page_passage" data-mtime="2022-07-31T15:25:08+09:00">RecentDeleted</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="Xen-hypervisor" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2FXen-hypervisor">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=Xen-hypervisor">編集</a></li><li><a href="./?cmd=diff&amp;page=Xen-hypervisor">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">Xen-hypervisor</h1><div id="contentSub"></div>
    <p><a href="20122D-02.html" class="link_page_passage" data-mtime="2012-02-11T22:47:03+09:00">2012-02</a></p>
<div class="contents">
<a id="contents_1"></a>
<ul class="list1 list-indent1"><li><a href="#q9466e4b">仮想化のススメ：Xen-hypervisorを使ってみよう。</a></li>
<li><a href="#t5681ad1">Xen-hypervisorを導入する。</a></li>
<li><a href="#c5efa4e4">xendデーモンの設定</a></li>
<li><a href="#cfa7d1e4">ubuntu上にVineLinux4.2 をインストールする。</a></li>
<li><a href="#g088a0e6">VineLinux4.2 hvmからpvm（準仮想化ＶＭ）へ移行する。</a></li>
<li><a href="#mba0c52a">VineLinux4.2 物理ＨＤＤからpvm（準仮想化ＶＭ）へ移行する。</a></li>
<li><a href="#w2a19c80">おまけ：ubuntu32 on ubuntu64 (11.10 Oneiric Ocelot)</a></li>
<li><a href="#wa6c35d7">2015-1-21追記: Ubuntu14.04LTSでpvmを新規作成して起動するには。</a></li></ul>
</div>

<h2 id="content_1_0">仮想化のススメ：Xen-hypervisorを使ってみよう。<a class="anchor_super" id="q9466e4b" href="#q9466e4b" title="q9466e4b" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>デスクトップＯＳで使う仮想化ソフトはVMWare(Player)やVirtualPC(Windows7Pro)、Oracle VirtualBoxなどがあります。</li></ul>
<ul class="list1 list-indent1"><li>これは、一言で言うとOSの中で別のOSを動かすというものです。</li>
<li>Windows7(64bit)のXPモードは、VirtualPCという仮想化ソフトからWindowsXPをほぼそのまま動かすようになっています。</li>
<li>Linuxをちょとだけ使いたいときも、VMWare(Player)を使えばWindows(XP|Vista|7)のＯＳ内から簡単にLinuxをインストールして気軽に使うことができます。</li></ul>
<p><br />
仮想化の便利な点は、たくさんあります。</p>
<ul class="list1 list-indent1"><li>専用にハードウェアが要らない。
<ul class="list2 list-indent1"><li>ゲストＯＳごとに実在ＰＣをわざわざ用意しなくてもよい。</li></ul></li>
<li>仮想イメージの引越しが簡単。
<ul class="list2 list-indent1"><li>実在ＰＣにＯＳを物理インストールしたものは、マシン不調時やグレードアップ時にＨＤＤを移しても動作しなかったりデバイスドライバーをいちいち用意するのが面倒ですが、仮想イメージは単なるファイルなのでＯＳごとコピーしたりバックアップしたり、他のＰＣで動かしたりなどと簡単です。</li></ul></li>
<li>失敗しても気軽に戻せる。
<ul class="list2 list-indent1"><li>ＯＳのアップグレードや、大規模な設定変更など引き返せないような修正を入れたいときなども、仮想イメージのコピーさえとっておけば、失敗しても仮想ファイルを書き戻すだけで気軽に元に戻せます。</li></ul></li>
<li>ＯＳのインストール、再起動が速い。
<ul class="list2 list-indent1"><li>実在ＰＣで行なうよりも充分速いです。</li></ul></li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">Xen-hypervisorを導入する。<a class="anchor_super" id="t5681ad1" href="#t5681ad1" title="t5681ad1" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>Xen-hypervisorはオープンソースの、Linuxホストで動作するＯＳ仮想化ソフトです。</li>
<li>ubuntu 11.10 をお使いであれば、apt-get経由で簡単に導入できます。
<pre># apt-get install xen-hypervisor xen-utils virtinst virt-viewer vnc4server</pre></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">xendデーモンの設定<a class="anchor_super" id="c5efa4e4" href="#c5efa4e4" title="c5efa4e4" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>/etc/xen/xend-config.sxp を編集</li></ul>
<pre>(xend-http-server no)
    ↓
(xend-http-server yes)</pre>
<ul class="list1 list-indent1"><li>xendデーモンを再起動
<pre># service xend stop
# service xend start</pre></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">ubuntu上にVineLinux4.2 をインストールする。<a class="anchor_super" id="cfa7d1e4" href="#cfa7d1e4" title="cfa7d1e4" style="user-select:none;">&dagger;</a></h2>
<pre># dd if=/dev/zero of=/mydir/domains/vine4/disk.img bs=4096k count=0 seek=1024</pre>
<pre># virt-install \
 --hvm \
 --name=vine4 \
 --ram=512 \
 --vcpus=1 \
 --file=/mydir/domains/vine4/disk.img \
 --file-size=4 \
 --nonsparse \
 --network=network:default \
 --network=bridge:xenbr0 \
 --cdrom=/mydir/Vine42-i386.iso \
 --os-type=linux \
 --os-variant=generic26 \
 --vnc \
 --keymap=us</pre>
<ul class="list1 list-indent1"><li>Vine42-i386.iso は、VineLinux配布サイトから落としてくる。</li>
<li>hvm（完全仮想化ＶＭ）をインストールするときはubuntuデスクトップ上で実行するか、リモートマシンの場合はあらかじめvncserverを立ち上げておいて、Windowsなどのvncクライアントから操作する。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_4">VineLinux4.2 hvmからpvm（準仮想化ＶＭ）へ移行する。<a class="anchor_super" id="g088a0e6" href="#g088a0e6" title="g088a0e6" style="user-select:none;">&dagger;</a></h2>
<p>[手順概要]：Vine Linux 4をDomainUで実行させる方法については、以下のページが妙に<strong>詳しい。</strong></p>
<ul class="list1 list-indent1"><li><a href="http://www.os-museum.com/linux/xen/xen3vine4u/xen3vine4u.htm" rel="nofollow">http://www.os-museum.com/linux/xen/xen3vine4u/xen3vine4u.htm</a></li></ul>
<ul class="list1 list-indent1"><li>FC6のカーネルを利用する方法は自分の環境ではうまくいかなかったが、xen-3.0.3_0-install-x86_32p.tgz
を利用するやりかたではばっちり出来た。</li></ul>
<ul class="list1 list-indent1"><li>xen-3.0.3_0-install-x86_32p.tgzは以下のようにして取得する。
<pre>$ wget http://bits.xensource.com/oss-xen/release/3.0.3-0/bin.tgz/xen-3.0.3_0-install-x86_32p.tgz</pre></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">VineLinux4.2 物理ＨＤＤからpvm（準仮想化ＶＭ）へ移行する。<a class="anchor_super" id="mba0c52a" href="#mba0c52a" title="mba0c52a" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ddで/dev/sda1を丸ごと引っ越す場合もあるかもしれないけれど、</li>
<li>今回は、稼動中のLinuxからtar でルートファイルシステムを１ディレクトリ単位で固めて引越ししてみる。</li></ul>
<p>上記の応用。（上記pvmのイメージから始めます。）</p>
<ul class="list1 list-indent1"><li>上記で作成したdisk.imgをコピー。</li>
<li>それを適当なマウントポイントにマウントしてubuntuから操作出来るようにする。
<pre># mkdir /mnt/vine42
# mount -o loop,offset=32256 disk.img /mnt/vine42</pre></li></ul>
<ul class="list1 list-indent1"><li>要りそうなものは残して不要なものを全部消す。
<pre># cd /mnt/vine42
# mv boot boot.pvm
# mv lib/modules .
# rm -rf bin sbin root ..... (要は/dev以外ほとんど消す)</pre></li>
<li>実在マシンのルートファイルシステムをバックアップしたものを持ってきて展開する。
<pre># tar xpfz /my-machine/bin.tgz
# tar xpfz /my-machine/sbin.tgz
# tar xpfz /my-machine/root.tgz
 ・・・</pre></li>
<li>/bootディレクトリは元のpvmのものに戻す。
<pre># mv boot.pvm boot</pre></li>
<li>/lib/modules も元のpvmのものに戻す。
<pre># cp -a modules /lib/</pre></li>
<li>/etc/sysconfig/hwconf を元のpvmから持ってくる。</li>
<li>/etc/modules.conf を元のpvmから持ってくる。</li>
<li>/etc/sysconfig/network-script/ifcfg-eth0 に記述されているHWADDRはコメントアウトする。あと必要ならstatic ipかdhcpかを都合に合わせて変更する。</li>
<li>/etc/fstab で/以外のパーティションをいろいろマウントしている場合は、とりあえず起動させるために一時的にコメントアウトしておく。</li>
<li>終わったらアンマウントする。
<pre># sync
# umount /mnt/vine42</pre></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>そして、
<pre># xm create -c xm-vine42.cfg </pre></li>
<li>のようにして起動すると物理マシンで動いていた環境をpvmに引っ越すことができた。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">おまけ：ubuntu32 on ubuntu64 (11.10 Oneiric Ocelot)<a class="anchor_super" id="w2a19c80" href="#w2a19c80" title="w2a19c80" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>（１）IPアドレスを外出しするのであれば、まずブリッジインターフェースxenbr0を作っておく。</li>
<li>/etc/network/interface に追記</li></ul>
<pre>auto xenbr0
iface xenbr0 inet static
       address 192.168.0.2 ★
       netmask 255.255.255.0 ★
       broadcast 192.168.0.255 ★
       gateway 192.168.0.1 ★
       dns-nameservers 192.168.0.1 ★
       bridge_ports eth0
       bridge_fd 9
       bridge_hello 2
       bridge_maxage 12
       bridge_stp off</pre>
<ul class="list1 list-indent1"><li>★の付いたところは各環境に合わせて差し替えが必要。</li>
<li>eth0はちゃんとアドレスを持っていてもいいし、わざとIPを付与しないようにしてもいい。(その場合dom-0がxenbr0と同一アドレスになる。dom-Uはxenbr0とブリッジするので、192.168.0.x (ｘは3以上)とか）</li></ul>
<ul class="list1 list-indent1"><li>外出ししないとか自力でNATするならubuntuが用意してくれているvirbr0を使うとよい。</li></ul>
<ul class="list1 list-indent1"><li>（２）4GBの空のdisk.imgを用意</li></ul>
<pre> # dd if=/dev/zero of=/mydir/domains/ubuntu32/disk.img bs=4096k count=0 seek=1024</pre>
<ul class="list1 list-indent1"><li>（３）ubuntu32.cfgを作る。</li></ul>
<pre>memory = 512
name = &quot;oneiric&quot;
vif = ['mac=00:16:3e:a8:00:03, bridge=xenbr0']
disk = ['file:/mydir/domains/ubuntu32/disk.img,xvda,w']

#============================================================================
# Debian Installer specific variables
・・・以下略</pre>
<ul class="list1 list-indent1"><li>（４）ネットワークインストール</li></ul>
<pre># xm create -c ubuntu32.cfg install=true \
   install-mirror=&quot;http://ja.archive.ubuntu.com/ubuntu&quot; \
   install-arch=i386 install-method=network</pre>
<ul class="list1 list-indent1"><li>インストールが完了したら即使える。（はず）ほんとか？</li></ul>
<ul class="list1 list-indent1"><li>ubuntu64 on ubuntu64にしたいときはinstall-arch=i386のところをamd64に変更する。</li>
<li>cd-romイメージからインストールするときは、上のVineLinuxの項目にあるように、isoイメージのマウントした場所(ftpかhttpでアクセス出来るURL。名前解決しないでいいようにipアドレスでURLを書く)を指定して、 vert-installコマンドを使う。</li></ul>
<p><br />
<br />
<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">2015-1-21追記: Ubuntu14.04LTSでpvmを新規作成して起動するには。<a class="anchor_super" id="wa6c35d7" href="#wa6c35d7" title="wa6c35d7" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>pvmの作成方法は普通通り virt-install で作れる。
<br />
作成後、起動しない問題</li>
<li>基本的には /etc/xen/xlexample.pvlinuxをコピペして書き直せばOKなんだけど落とし穴がある
<pre>name = &quot;example.pvlinux&quot;
kernel = &quot;/boot/vmlinuz&quot;
extra = &quot;root=/dev/xvda1&quot;
memory = 128
vcpus = 2
vif = [ '' ]
disk = [ '/dev/vg/guest-volume,raw,xvda,rw' ]</pre></li>
<li>これをこんな風にする
<pre>name = &quot;ubuntu1404&quot;
kernel = &quot;/vmlinuz&quot;
extra = &quot;root=/dev/xvda1&quot;
memory = 1024
vcpus = 1
vif = [ &quot;mac=00:16:3e:00:73:78,bridge=xenbr0&quot; ] &lt;==環境に合わせて.
disk = ['file:/var/lib/xen/domains/disk.img,xvda,w'] &lt;==環境に合わせて.</pre></li></ul>
<p><br />
インストール後のイメージの中身を見たいならば</p>
<pre># mkdir mnt
# mount -o loop,offset=0x100000 disk.img mnt
# ls mnt/</pre>
<p><br /></p>
<ul class="list1 list-indent1"><li>ブートがうまくいかないときは /var/log/xen/ の下にできたログを読む</li></ul>
   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2015-01-22 (木) 18:20:53<span class="page_passage" data-mtime="2015-01-22T18:20:53+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.007 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
