<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>2011-12 - PukiWiki</title>

<!---
 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/180wiki-sp.css" />

 --->

 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/monobook/mobile.css" />
 <link rel="stylesheet" media="screen and (min-width:769px)" href="../skin/monobook/monobook.css" />

 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />

 <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div id="globalWrapper">
 <div id="menubar"><ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2022-07-31</strong>
<ul class="recent_list">
 <li><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">ＷｉｄｅＴｅｘｔ</a></li>
 <li><a href="RecentDeleted.html" class="link_page_passage" data-mtime="2022-07-31T15:25:08+09:00">RecentDeleted</a></li>
 <li><a href="SiteMap.html" class="link_page_passage" data-mtime="2022-07-31T15:21:46+09:00">SiteMap</a></li>
</ul>
<strong>2022-07-25</strong>
<ul class="recent_list">
 <li><a href="20082D-10.html" class="link_page_passage" data-mtime="2022-07-25T22:19:24+09:00">2008-10</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
 <li><a href="H8EF-BC-8F-3048F.html" class="link_page_passage" data-mtime="2022-07-25T21:46:43+09:00">H8／3048F</a></li>
 <li><a href="AutoTicketLinkName.html" class="link_page_passage" data-mtime="2022-07-25T16:51:44+09:00">AutoTicketLinkName</a></li>
</ul>
<strong>2021-12-11</strong>
<ul class="recent_list">
 <li><a href="FormattingRules.html" class="link_page_passage" data-mtime="2021-12-11T00:40:03+09:00">FormattingRules</a></li>
</ul>
<strong>2020-02-23</strong>
<ul class="recent_list">
 <li><a href="YukiWiki.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">YukiWiki</a></li>
 <li><a href="PHP.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">PHP</a></li>
 <li><a href="WikiWikiWeb.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">WikiWikiWeb</a></li>
</ul>
<strong>2018-12-19</strong>
<ul class="recent_list">
 <li><a href="SandBox.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">SandBox</a></li>
 <li><a href="InterWiki.html" class="link_page_passage" data-mtime="2018-12-19T06:50:32+09:00">InterWiki</a></li>
</ul>
<strong>2015-05-07</strong>
<ul class="recent_list">
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2015-05-07T20:22:52+09:00">2015-04</a></li>
</ul>
<strong>2015-05-02</strong>
<ul class="recent_list">
 <li><a href="MenuBar.html" class="link_page_passage" data-mtime="2015-05-02T16:20:12+09:00">MenuBar</a></li>
 <li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
 <li><a href="http:/ATMEL_AVR/html/" class="link_page_passage" data-mtime="2015-05-02T16:17:31+09:00">FrontPage</a></li>
 <li><a href="20142D-12.html" class="link_page_passage" data-mtime="2015-05-02T15:53:50+09:00">2014-12</a></li>
</ul>
<strong>2015-02-01</strong>
<ul class="recent_list">
 <li><a href="pic32vga.html" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">pic32vga</a></li>
</ul>
<strong>2015-01-22</strong>
<ul class="recent_list">
 <li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="2011-12" class="link_page_passage" data-mtime="2011-12-29T02:07:06+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2F2011-12">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=2011-12">編集</a></li><li><a href="./?cmd=diff&amp;page=2011-12">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">2011-12</h1><div id="contentSub"></div>
    <p><a href="20112D-11.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">2011-11</a>　<a href="LPC1114.html" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">LPC1114</a>　<a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a>　<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<hr class="full_hr" />
<h2 id="content_1_0">今年もオワター！日本もオワター！<a class="anchor_super" id="p26e2e72" href="#p26e2e72" title="p26e2e72" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>TPPで。</li></ul>
<ul class="list1 list-indent1"><li>いや、<del>IF事故</del>震災で。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>ところで、TPPとPTTって、似てない？
<ul class="list2 list-indent1"><li>無線機で話すときに押す奴。</li></ul></li></ul>
<p><br />
オマエガオワットル。</p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">心機一転。積み基板SH2AとRX62Nチャレンジ！<a class="anchor_super" id="bcee5b28" href="#bcee5b28" title="bcee5b28" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板突撃</a>の次は、RENESAS突撃だ。</li></ul>
<ul class="list1 list-indent1"><li>いまどきSH2AとかRX62Nのgccがあるらしい。（ほんとか？）</li></ul>
<ul class="list1 list-indent1"><li>それを使ってみるテスト。</li></ul>
<p>さあ、<strong>地雷原を行け！</strong></p>
<p>もっと読む : <a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a>　<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">KPITのサイトに接続できない。<a class="anchor_super" id="r8822957" href="#r8822957" title="r8822957" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>まずはgccの入手。あれ？接続できない。</li>
<li><a href="http://www.kpitgnutools.com/" rel="nofollow">http://www.kpitgnutools.com/</a></li>
<li>サイト落ちてない？</li></ul>
<p><strong>いきなり挫折。</strong> オワター</p>
<p>始まってもいないのに最終回を迎えるのであった・・・。</p>
<p><br /></p>
<ul class="list1 list-indent1"><li>自分でクロスgccをビルドするとか・・・昔やってたけど、もう面倒くさくてやってられない。</li></ul>
<ul class="list1 list-indent1"><li>RX62やSH2Aにそんなに思い入れ無いんで。</li></ul>
<p>今年ももうオワリ？</p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">もちべーしょんダダサガリ中<a class="anchor_super" id="cdfef8e0" href="#cdfef8e0" title="cdfef8e0" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>KPITのサイトは復活している模様。</li>
<li>KPITから、RX/SH2A用のgccをＤＬするにはユーザー登録しなければいけないらしい。</li></ul>
<ul class="list1 list-indent1"><li>それって面倒だな。</li>
<li>自分でクロスgccをビルドするのと同じくらい面倒だ。</li>
<li>自分でクロスgccをビルドするのは面倒だからやらないと決めてしまったので、ユーザー登録もできないゃぃ（&lt;---コイツまじオワットル）</li></ul>
<p>まあ、つまりRX62NやSH2用の環境を整えて、cdcbootのようなものを移植したとしても、その先何もすることがないのでやる気がでないのであった。</p>
<ul class="list1 list-indent1"><li>なんか面白いことないんかい。----って、ないんだよなー。RXの中にも。</li></ul>
<p><br />
そういや、NHKのラジオで福島の人がチェルノブイリに視察に行った話をしていた。</p>
<ul class="list1 list-indent1"><li>ベラルーシとかでは、除染やらないしやるべきでないこともわかっている。</li>
<li>そもそも共産圏なので土地は私有財産じゃない。国家で計画的に移住をさせればいいだけのこと。</li>
<li><strong>日本も共産主義だったら良かったのに</strong>、とこれほど思ったことはない。</li></ul>
<ul class="list1 list-indent1"><li>それに、除染って言うと、掃除みたいにキレイにするイメージがあるけれど、</li>
<li>言葉を変えると、「高濃度汚染物質集め」だったり、「人工的濃縮作業」なんだよなー。</li>
<li>そんなゴミ、かえって危険じゃね。</li>
<li>どっかに永久的に捨てる場所があるなら別だけど。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>つまり、君の部屋が均質にゴミ屋敷だったと仮定して、そのゴミを部屋の真ん中にあつめるような作業だ。無駄だろ？どうせまた崩れる</li></ul>
<ul class="list1 list-indent1"><li>だったらむしろ「全環境に均質に拡散」させるべきなんじゃないのか？すでに環境放出された分に関しては。</li></ul>
<ul class="list1 list-indent1"><li>すでに、海のほうはそうなりつつあるし、地表も放っておいても拡散は続いているわけだ。</li></ul>
<p><br />
どう考えても、終わってるよなー。</p>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_4">静かな死<a class="anchor_super" id="id59e951" href="#id59e951" title="id59e951" style="user-select:none;">&dagger;</a></h3>
<p>どうせみんな死ぬのよ</p>
<ul class="list1 list-indent1"><li><a href="http://satehate.exblog.jp/17145645/" rel="nofollow">http://satehate.exblog.jp/17145645/</a></li></ul>
<p>|白ロシアの村の人々の悲しみに満ちた生活とその静かな死について、<br />
|そして原発事故の起こった福島を待ち受けている将来について<br /></p>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">秋月にこんなものが売ってる。<a class="anchor_super" id="l5775189" href="#l5775189" title="l5775189" style="user-select:none;">&dagger;</a></h2>
<p>ＣｓＩ（Ｔｌ）固体シンチレータ　１０ｘ１０ｘ１０ｍｍ</p>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gP-05293/" rel="nofollow">http://akizukidenshi.com/catalog/g/gP-05293/</a></li></ul>
<ul class="list1 list-indent1"><li>４５００円。
<pre>ＣｓＩ（ヨウ化セシウム）結晶の中では潮解性は低いですが、
なるべく湿気の少ない環境、また開封後はお早めに接着下さい。
                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~笑うトコ。</pre></li></ul>
<ul class="list1 list-indent1"><li>なんなんだろ。まさかこんなものが秋月に出てくるとは。</li>
<li>2010年から見たら全く予想できない展開に。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">クロスgccのビルド<a class="anchor_super" id="r4fe4222" href="#r4fe4222" title="r4fe4222" style="user-select:none;">&dagger;</a></h2>
<p><strong>懲りずに</strong>まだやっている。---&gt;手段が目的化した、とも言う。</p>
<ul class="list1 list-indent1"><li><strong>本日の結論</strong></li>
<li>gcc-4.6.xをビルドするには gmp , mpfr , mpc などが必須。</li>
<li>とりあえずubuntu上での rx-elf-gccとかrx-elf-g++は使えるようにした。</li>
<li>だが、cygwin上のそれらには<strong>全く興味が無い</strong></li>
<li>mingw (＋msys) は最近では../configure とか出来る。<strong>凄い。</strong>
<ul class="list2 list-indent1"><li>とりあえずWindowsのMinGW上で、 gmp , mpfr , mpc までセルフビルド出来てしまってびっくり。</li>
<li>binutilsを通そうとしたら、zlib.hが無いと言われた。
<pre>mingw-get install msys-zlib</pre>
したけどzlib.hは落ちてこない。
<pre>mingw-get install zlib</pre>
だと/usr/include/ に生成される &lt;---- 今ここ。</li></ul></li></ul>
<p><br /></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>gcc-4.6.xのディレクトリにgmp , mpfr , mpc ,（あとついでにnewlib-1.19/newlibとlibgloss）のソースをぶちまけておくかsymbolic linkを張っておくと勝手にビルドして参照してくれるかとおもいきやさにあらず。</li>
<li>結局gmp , mpfr , mpc の順にビルドして --with-gmp=/dir/to/install みたいに順繰りに参照を渡してやる必要がある。</li>
<li>ubuntuのパッケージからgmpなどを入れる場合は、--with-gmpとかする必要はない.</li>
<li>けれどもmingwのバイナリーを作るときはパッケージから入れたgmpなどを参照してくれないので自力でやる。</li>
<li>Windowsのmingw上で直接ビルドする場合も同様だ。</li></ul>
<ul class="list1 list-indent1"><li>参考URL: <a href="http://uchan.net/w/index.php?building-gcc" rel="nofollow">http://uchan.net/w/index.php?building-gcc</a></li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">クロスgccに飽きたので・・・<a class="anchor_super" id="n9f51c07" href="#n9f51c07" title="n9f51c07" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>cygwinでいいや。</li>
<li>まあ、作り方がわかったのでよしとしよう。
<ul class="list2 list-indent1"><li>実は入れていたcygwinがだいぶ古かったのと、bashとかmakeを殺していた（MinGWやWinARMにやらせて、sshとかだけ使ってた）
ので、バージョンupしたらいろいろトラブったけどね。</li>
<li>hos-v4がcygwin使ってたので素直に同じにした。
<br /></li></ul></li></ul>
<p>gccでRX62N付録を遊んでいるページをぐぐる。</p>
<ul class="list1 list-indent1"><li><a href="http://www.nextftp.com/abe/" rel="nofollow">http://www.nextftp.com/abe/</a>  ----- H8とかmbedとかRX62NでZ80とか。</li>
<li><a href="http://ledmyturn.blogspot.com/" rel="nofollow">http://ledmyturn.blogspot.com/</a> --- hos-v4のRX62N版紹介。</li></ul>
<pre>実際のところ、FRK-RX62Nに実装のRX62N7はカタログ値は 
384KByte FlashROM, 64KByte SRAMですが 
512Kbyte FlashROM, 96KByte SRAMが利用可能でした。 
ので、FCURAMを使わずに、Z80メモリすべてをSRAMに割りつけます。 </pre>
<p><strong>え゛？</strong></p>
<ul class="list1 list-indent1"><li><a href="http://berupon.b.sourceforge.jp/2011/09/03/cq-frk-rx62n%E3%81%A7usb/" rel="nofollow">http://berupon.b.sourceforge.jp/2011/09/03/cq-frk-rx62n%E3%81%A7usb/</a></li>
<li>renesasのUSBサンプルはひどい。というかでかすぎ複雑すぎ。gccへの移植は断念した。</li></ul>
<p>もっと読む : <a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_8">RX62N:なんかダメっぽい感じ。<a class="anchor_super" id="l9e3cc48" href="#l9e3cc48" title="l9e3cc48" style="user-select:none;">&dagger;</a></h2>
<p>USB-CDC（エコーバック）がまともに動かない。</p>
<ul class="list1 list-indent1"><li>teratermからの接続、手打ち入力はおＫ。</li>
<li><span class="noexists"><a href="./?cmd=edit&amp;page=WriteFile&amp;refer=2011-12">WriteFile</a></span>()で39バイト以下の書き込みだと、まあまあＯＫ。（後述）
=40byte以上書き込むと無反応になる。（なぜかわからない）無反応ではなくて文字欠けが起きるだけかもしれない。</li>
<li>まあまあＯＫと書いたのは、１回書いたあと20mS待てばＯＫだ。10msとか、それ以下だと無応答か、文字欠け。</li></ul>
<p>ソースを全部調べたけれど40のマジックナンバーを60とか64に直しても上記症状は全く改善されない。</p>
<ul class="list1 list-indent1"><li>こんなにひどいとは思わなかった。</li>
<li>打つ手が見当たらない。gcc環境のせいかもしれないが原因を見つけるのは無理かも。</li></ul>
<p><br />
気になったので、RenesasのxmodemサンプルをHEWのコンパイラでビルドしてみた。</p>
<ul class="list1 list-indent1"><li>ビルド出来ない。
<pre>L1120 (W) Section address is not assigned to &quot;L&quot;
L3100 (F) Section address overflow out of range : &quot;L&quot;</pre></li>
<li>コンパイラのバージョンが新しいとだめっぽい。</li>
<li>リンカー設定のセクションで&quot;W*&quot;とか書かれている後ろに&quot;L*&quot;を追加したらリンク出来た。</li></ul>
<ul class="list1 list-indent1"><li>xmodemサンプルを改造してエコーバックを試した限りでは、USB周りには何の欠陥もないように見える。</li>
<li>gcc環境だけでの問題かもしれない。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_9">RX62N:直ったかも。<a class="anchor_super" id="a713220b" href="#a713220b" title="a713220b" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>gcc環境のソースをリファイン。</li>
<li>要らないソースをどんどん削ってエッセンスだけにした。</li>
<li>基本、HEW版とUSB部分は変わらないっぽい。</li>
<li>USBの入出力方法をUSBCDC_Read()とUSBCDC_Write()のみに限定、余計なラッパーを全部排除してエコーバックを書いた。</li>
<li>速度は1.8Mbps 出ている。字化けもしない。Windowsからの<span class="noexists"><a href="./?cmd=edit&amp;page=WriteFile&amp;refer=2011-12">WriteFile</a></span>()の単位を250byteほどに増やしてもハングしなくなった。非常に安定している。</li></ul>
<p>gccでも何ら問題ないことが分かった。</p>
<ul class="list1 list-indent1"><li>結局デバッガもシリアルprintも使わずに、LEDチカチカだけで直してしまった。<strong>ぃぃのか？</strong></li>
<li>これだから、OpenOCDもＲＯＭライター以外の機能を使おうとしないんだ。</li></ul>
<p>ソースを整理できたのでＵＰ。</p>
<p>もっと読む : <a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></p>
<ul class="list1 list-indent1"><li>USBCDC_Read()とUSBCDC_Write()のみであれば、動作は完璧なんだけど、USBCDC_Read_Async()だと
いろいろやっかい。</li>
<li>特にタイマー割り込みからUSBCDC_Read_Async()を呼ぶと、非常に不可解な動作をする。</li>
<li>全部フォアグラウンド側から呼ぶなら、まあ許せる範囲。</li>
<li><del>原因全く不明。</del></li>
<li><del>もしかして、こいつら(USBCDC_*関数)並行動作できないんとちゃうか？</del>
<ul class="list2 list-indent1"><li>すげーつまらん原因だった。ある関数の戻り値が実はちゃんと使われていて、適当に実装すると見事にバグるという<strong>自分で作った罠</strong>にはまっていたらしい。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>SH2Aに手を出そうか出すまいか悩み中
<ul class="list2 list-indent1"><li><del>RXだけでも地雷が多いので、SH2Aは無し。</del> ---地雷原進軍中。</li></ul></li></ul>
<ul class="list2 list-indent2"><li>なんかFRK-SH2AはCPU内蔵Flashがなくて、SRAMが1MBもある。</li>
<li>そいでもって、外付けのserial Flash(32kB x 2page)にあらかじめHEWモニターが入っているのだった。</li>
<li>HEWモニターはUSB-CDCデバイスになっている。</li>
<li>普通にHEWをインストールした状態では、このHEWモニターには接続できない。</li>
<li>接続するためにはHEWの環境に、このモニター用のDLLをプラグインみたいにインストールしないとだめらしい。</li></ul>
<ul class="list1 list-indent1"><li>残念ながら、この基板を使うためには、Renesasサイトの登録と、HEW統合環境、SHコンパイラのダウンロードが必須になる。そうしないとターゲットにユーザープログラムを書き込めない。</li>
<li>それから、serial Flashの書き換えは難易度が高いらしい。<del>いまだに書き換えはおろかＬチカサンプルのビルド実行すらままならない状態。</del> ---ファームアップデート完了。read more <a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_10">電子ブロックMini<a class="anchor_super" id="u3153aaa" href="#u3153aaa" title="u3153aaa" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>買った。</li>
<li><a href="http://otonanokagaku.net/magazine/vol32/index.html" rel="nofollow">http://otonanokagaku.net/magazine/vol32/index.html</a></li>
<li>なかなか気に入った。</li>
<li>大きさが手ごろ、値ごろ感もある。</li>
<li>5x5ブロック程度で十分じゃん。学習用としても、ちょっとしたパズルとしても。</li>
<li>EX150復刻版も持ってたけど、長らく放置状態。</li></ul>
<ul class="list1 list-indent1"><li>自分はSR-1AとかSR-2Aを死ぬほど遊び倒したクチなので、いまさら何かをすることはしないで、いまのところ小学生に遊ばせているけれど、</li>
<li>さっそく魔改造している人が居た。</li>
<li>やっぱりAVRの米粒とか入れて遊ぶのかな？</li></ul>
<p>●Arduino発想の原点は「電子ブロック」<br />
　同氏はArduinoの最初のインスピレーションは，学研の電子ブロックから得られたと明かしました．</p>
<ul class="list1 list-indent1"><li><a href="http://www.kumikomi.net/archives/2011/12/rp53mtm7.php?page=1" rel="nofollow">http://www.kumikomi.net/archives/2011/12/rp53mtm7.php?page=1</a></li></ul>
<ul class="list1 list-indent1"><li>なんかうれしい。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_11">ＳＴＭ３２Ｆ４−ＤＩＳＣＯＶＥＲＹ<a class="anchor_super" id="p7122b22" href="#p7122b22" title="p7122b22" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gM-05313/" rel="nofollow">http://akizukidenshi.com/catalog/g/gM-05313/</a></li>
<li>1650円</li>
<li>大量購入向け？</li>
<li>とりあえず、STM8S-Discoveryみたいに、３枚くらい買っとくか。（大雑把）</li>
<li>またST-Link側をVersaloonにする遊びが流行るんだろうなぁ。</li>
<li>USBがmicroなのがアレだな。480Mbpsはナシか。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_12">今週のプログラムTips<a class="anchor_super" id="d2e3e55d" href="#d2e3e55d" title="d2e3e55d" style="user-select:none;">&dagger;</a></h2>
<p><strong>エディタからタグジャンプできる関数リファレンスを作る。</strong></p>
<ul class="list1 list-indent1"><li>なんてものを昔はしょぼいperlで書いてたりするんですが、最近のＣ＋＋風の書き方に対応できなかったりするんで、</li>
<li>ctags＋perlで強化版を作ってみたり。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>関数リファレンスが欲しいならDoxygenとかglobal-tags(gtags + htags)とかctagsとかがあるけれど、</li>
<li>ＨＴＭＬページを作ってくれるけれど、テキストエディタのタグジャンプ用ファイルは作れない。</li></ul>
<p>そこで、</p>
<ul class="list1 list-indent1"><li>ctags( Exuberant Ctags )のxrefオプション （-x）でクロスレファレンスを吐かせて、それをperlで加工する。</li></ul>
<ul class="list1 list-indent1"><li>ctagsはあらかじめインストールしておく。</li></ul>
<ul class="list1 list-indent1"><li>まあ、たったこれだけなので。
<pre>#!/usr/bin/perl 
sub gen_tag() {
   my ($line)=@_;
   $line =~ s/\n//;
   my ($id,$type,$lnum,$source,@etc)=split(/[ ]+/,$line);
   if($type eq 'function') {
       my $func = join(' ',@etc);
       print $source . ':' . $lnum . &quot;:\t&quot; . $func . &quot;\n&quot;;
   }
}
sub main() {
   my @buf = `ctags -R -x`;
   my $line;
   foreach $line(@buf) {
       &amp;gen_tag($line);
   }
}
&amp;main();</pre></li></ul>
<ul class="list1 list-indent1"><li>以上。</li></ul>
<ul class="list1 list-indent1"><li><br />
<br />
<br />
<br /></li></ul>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_13">今週のubuntu Tips<a class="anchor_super" id="a1ccab0c" href="#a1ccab0c" title="a1ccab0c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ubuntu 11.10は例によってデスクトップがUnity.</li>
<li>使う努力はしてみたものの、普通はダメだと諦める。--&gt; Gnomeを入れる。</li>
<li>さらに、最近の液晶は縦に短くタスキに長し（？）なので、上下にあるメニューバーをどっちかにまとめたい。</li>
<li>以前のGnomeなら右クリックで「移動」メニューが出てきたのだが、11.10のやつは出ない。</li></ul>
<p>コツ</p>
<p><strong>ALTを押しながら</strong>右クリックすると、メニューバーの上のアイコンなどが「移動」出来るようになる。</p>
<ul class="list1 list-indent1"><li>上のメニューやらアイコンを全部下に移動して、上のメニューバーを消す。消すメニューも<strong>ALTを押しながら</strong>右クリックのようだ。</li></ul>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_14">そして、今週の<a href="http://www.android-x86.org/" rel="nofollow">Android-x86</a><a class="anchor_super" id="pbc09643" href="#pbc09643" title="pbc09643" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>android-x86-4.0-eeepc-20111209.isoをVMWarePlayerに入れてみた。</li>
<li>入れ方は、vmplayer.exeを立ち上げて、新規仮想マシンを作成、isoファイルを選択、OSはあとで入れる、にする。</li>
<li>次に、VMの設定を変更する。SCSIを消して、IDEで仮想ドライブを作り直し、OSカーネル選択はOther Linux2.6にする。</li>
<li>仮想マシンを起動して、isoをマウントすると、インストーラーが立ち上がるので、/dev/sda1を作って、そこに入れる。
<ul class="list2 list-indent1"><li>入れ方はまるで古いLinuxのインストーラーのまんまな感じ。</li>
<li>fake SDカードも入れておく。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>インストールが終わると、Android OSが立ち上がり、初期設定メニューが出る。「日本語」を選んで、あとはガイド
のとおりにすればAndroid 4.0が起動する。</li>
<li>SDカード(IDE)も表示も全くＯＫなんだけれど、VMWareでは無線ＬＡＮがeeepcではないからネット接続だけできない。
<ul class="list2 list-indent1"><li>困った &lt;----今ここ</li></ul></li></ul>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_15">今週の<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a><a class="anchor_super" id="if09340c" href="#if09340c" title="if09340c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>シリアルデバッグ＆ブートのための外部USB-シリアル変換回路（元は軽快電話付属Prolificケーブルの電話側コネクタをバラしてマイコンにつなげるようにしたもの：注TxDが5V振れる危険な奴。RxDは5Vトレラント）
をSH2AのUART2に繋いだ。（ろくに確かめもせず）</li>
<li>シリアルブートのファームをSPIに焼いた。（HEW上でしか出来ない。これ毎回面倒くさい）</li>
<li>シリアルポートはＯＫ。接続を確認。</li>
<li>uploadしたプログラムが正常に動かない！
<ul class="list2 list-indent1"><li>↑Teratermのfile uploadオプションで <strong>[ ]バイナリー</strong>のチェックが抜けていただけだった。うーむ。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>teratermでuploadするのも面倒なので、w32termからコマンドラインでupload出来るようにした <strong>&lt;---今ここ</strong></li></ul>
<p><a href="http:/ATMEL_AVR/jpg/sh2a.jpg" rel="nofollow"><img src="http:/ATMEL_AVR/jpg/sh2a.jpg" alt="http:/ATMEL_AVR/jpg/sh2a.jpg" /></a></p>
<p><br /></p>
<ul class="list1 list-indent1"><li>同様のscif2/usb両対応の簡易ブートも存在する。
<ul class="list2 list-indent1"><li><a href="http://www.kumikomi.net/interface/editors/2010/10/post_12.php" rel="nofollow">http://www.kumikomi.net/interface/editors/2010/10/post_12.php</a>
　　　→sh7264_usb_function_sample.zip</li>
<li>この中のbinファイルをシリアルROMに焼いて起動させる。USBが有効でないときは自動でscif2シリアル経由に切り替わる。</li></ul></li></ul>
<p>今週の目標：</p>
<ul class="list1 list-indent1"><li>とりあえず、sh7264_usb_function_sample.zipをgccでビルドしてみるテスト。
<ul class="list2 list-indent1"><li>ビルドはOKになった。</li>
<li>vectorのセクションが正しい位置になるようにgcc対応の属性をつけてみた。</li>
<li>いくつかの未定義関数を追加した。</li>
<li>USBデバイスとしては認識するようになった。が、</li>
<li>Lチカが最初の１回だけ実行したあとだんまりになる。全くもって<strong>意味不明</strong></li>
<li>Lチカだけ取り出して、LEDtestプロジェクト上でビルドしたものは正しくブリンクが継続する。
<br /></li></ul></li>
<li>さらに試す。
<ul class="list2 list-indent1"><li>Lチカが最初の１回だけ実行したあとだんまりになる奴は、割り込み禁止状態で実行すると正しくブリンクが継続する。</li>
<li>調べていくと、#pragma interrupt FUNCNAME みたいな奴がいっぱい並んでいた。</li>
<li>注：gccでは#pragmaは<strong>丸無視。</strong></li>
<li>このような関数を __attribute__（（interrupt））属性を付けまくってみたが、こんどはgccに丸無視された。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>酷い・・・</li></ul>
<ul class="list2 list-indent2"><li>どうやらSH2Aでは __attribute__（（interrupt_handler））　とか nmi_handler みたいに書かないとだめっぽい。</li>
<li>そう書くと、prologueでは全レジスタを保存してくれて、epilogueではrteで戻ってくれるようなコードに変わった。</li>
<li>あと、gccオプションでは -m2a が要るらしい。objdumpするときは -m sh2a だ。</li></ul>
<ul class="list2 list-indent2"><li>けれども、暴走癖は直らない<strong>謎。</strong> どうなってんの？SH2A</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>うまくいくようになったらシリアルROMに焼いてみる。
<ul class="list2 list-indent1"><li>先は遠そうだ。</li></ul></li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_16">SH2Aはブート手順とかシリアルROMとかメモリーマップとかがいろいろ訳分からない。<a class="anchor_super" id="fb331463" href="#fb331463" title="fb331463" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li>シリアルROMの前半32KはHEWモニターなので触らない。</li>
<li>シリアルROMの後半32Kは（今は）scif2/usb両対応簡易ブート(sh7264_usb_function_sample.zip)を焼いている。</li>
<li>後半32Kのファームを使いたいときは、JPP2クローズ。</li>
<li>後半32Kのファームを書き換えたいときは、JPP2オープンで起動して、HEWからSPI<span class="noexists"><a href="./?cmd=edit&amp;page=WriterUser&amp;refer=2011-12">WriterUser</a></span>.hwsを読み込んで、absとROMのBINをダウンロードして、CPUリセット、実行、という手順を踏む。</li></ul>
<ul class="list1 list-indent1"><li>通常のデバッグは1MBのSRAM(1c00_0000〜)を使う。</li></ul>
<p><br />
というわけで、現在、順調に<strong>積み基板</strong>を消化中であった。<br /></p>
<p>今週の標語：</p>
<ul class="list1 list-indent1"><li>のんびり、気長に<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>.</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_17">音声合成LSI    ATP3010F4<a class="anchor_super" id="ndd8f4fe" href="#ndd8f4fe" title="ndd8f4fe" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://d.hatena.ne.jp/OkibiWorksLabo/20111204/aquestalkpico" rel="nofollow">http://d.hatena.ne.jp/OkibiWorksLabo/20111204/aquestalkpico</a></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li><a href="http://www.a-quest.com/products/atp3010f4.html" rel="nofollow">http://www.a-quest.com/products/atp3010f4.html</a></li></ul>
<p>データシート</p>
<ul class="list1 list-indent1"><li><a href="http://www.a-quest.com/download/manual/atp3010f4_datasheet.pdf" rel="nofollow">http://www.a-quest.com/download/manual/atp3010f4_datasheet.pdf</a></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>LSIというか、なんかATmega328Pに限りなく近いんですけど。</li>
<li>Arduinoに挿しても動かせると言うし。</li>
<li>最初はATmega328と大容量ROMの混載かと思ったけど、実はATmega328Pにファームを焼いただけなんじゃないかと。
<ul class="list2 list-indent1"><li>音声合成コアのworkサイズとcodeサイズがATmega328Pに収まっているからナノ。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>昔PC8801MkIISRのFM音源チップで喋らせていたあれに近い感じ？</li></ul>
<p><br />
そいえば、ATmega328Pとピン互換、DIPで大容量品とか高速品種とか、実はARMが入ってんだけどAVRがエミュモードで動くんだよみたいなPC98DO状態の28PINチップどっか出さないかな？？</p>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_18">最強にして最凶悪な国産ＭＰＵ。<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>の続き。<a class="anchor_super" id="x0f73998" href="#x0f73998" title="x0f73998" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>今週は、<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>のUSB-CDCサンプルをgccでビルドしようといろいろやっていた。</li>
<li>いろいろ手直しして、Ｌチカが少しだけ動くようになったが、以下のような未解決問題があった。
<ul class="list2 list-indent1"><li>割り込み禁止で走らせたらＬチカは正常に行なわれる。</li>
<li>USB割り込み、タイマー割り込みのどちらかでも有効な状態で走らせたら、Ｌチカは最初の１tickだけ
実行されて、そこで停止する。</li>
<li>タイマー割り込み側でＬチカ処理を入れるととりあえず短時間は動作しているようだ。この場合フォアグラウンド側の処理は死んでいる。</li></ul></li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>SH2Aにはレジスタバンクという高速割り込み応答のための機構があり、これをONにした場合はレジスタの退避復帰がかなり省略できる（全部ではない）。
<ul class="list2 list-indent1"><li>ただし、RTEする前にRESBANK命令でレジスタpop（バンク切り替え）する必要がある。</li>
<li>gccでは、 __attribute__（（interrupt_handler,resbank））という属性を割り込み関数に付与することで、そのようなレジスタ復帰コードに切り替わる。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>で、resbankあり、なしの両方でいろいろやってみたが症状は改善せず。</li></ul>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_19">解決策は'-m2a-nofpu'だった。<a class="anchor_super" id="caa05106" href="#caa05106" title="caa05106" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li><a href="http://d.hatena.ne.jp/chakoku/20101212/1292114475" rel="nofollow">http://d.hatena.ne.jp/chakoku/20101212/1292114475</a></li></ul>
<ul class="list1 list-indent1"><li>'nofpu'でコンパイルすると、何事も無かったように動く。</li>
<li>けれども、fpuが使えない。</li></ul>
<p><strong>なんじゃこりゃー！</strong></p>
<p><strong>fpscr</strong>という浮動小数点まわりの設定レジスタが鬼門だそうだ・・・</p>
<ul class="list1 list-indent1"><li>そもそもfloatを全く使っていないし、</li>
<li>割り込みハンドラー内でもfloatレジスタを全く使っていないのに、</li>
<li>単純なＬチカがハングするって、いったいどういう仕様なのだろう・・・。</li></ul>
<p>ちなみにRenesasのＣコンパイラでは問題は起きないっぽい。（けれども、使う気も起きない。ＧＵＩコンパイラ大っ嫌い）</p>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_20">gccによるUSB-CDCデバイスの動作を確認。<a class="anchor_super" id="ne41113a" href="#ne41113a" title="ne41113a" style="user-select:none;">&dagger;</a></h3>
<p>sh7264_usb_function_sample.zip</p>
<ul class="list1 list-indent1"><li>上記アーカイブをCQのサイトにあったcygwinのsh-elf-gccでビルドできるようにした。</li>
<li>一応RAM上でusbデバイスになって、USB経由のローダーとしてなんとなく動作していることまでを確認できた。</li>
<li>ただし、１段目のローダー(シリアルROMからブート。これも同一ソースのプログラムをHEWでビルドしたもの）はUSBモードではなくscif2シリアルモードで使用しないとうまくUSBデバイスを立ち上げてくれないっぽい。何故かはわからない。</li></ul>
<ul class="list1 list-indent1"><li>修正作業の大半はRenesasCにあってgccにない関数の補完と、#pragma interrupt を等価なgccディレクティブに書き換え、それからldスクリプトの修正とかISR_VECTORセクションの設定とかそんな感じだった。</li></ul>
<ul class="list1 list-indent1"><li><strong>最後の大ボス</strong>は -m2a-nofpuが必要だったことだ。これはバイナリーをいくら追っかけても分からなかったのでgoogle先生（というかSH2Aに詳しい先達）に教えてもらった。</li></ul>
<p>ミッション終了。</p>
<ul class="list1 list-indent1"><li>ソース整理しないと。</li></ul>
<p>read more: <a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_21">最強にして最凶悪な国産ＭＰＵ。FPUが使えるようにしてみた。<a class="anchor_super" id="p784fe17" href="#p784fe17" title="p784fe17" style="user-select:none;">&dagger;</a></h2>
<p>今日の試行</p>
<ul class="list1 list-indent1"><li>割り込みハンドラーをＣ記述からアセンブラ記述に切り替えられるようにしてみた。（ビルドスイッチ１個とソース書き換え１個で対応）</li>
<li>アセンブラ記述の割り込みハンドラーにしておいて、コンパイルオプションを -m2a-nofpu から -m2a （もしくは-m2a-single）に変更。</li></ul>
<p>read more: <a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<ul class="list1 list-indent1"><li>ブートローダーが動くようになったのでダウンロード(32k)＆実行はほぼ一瞬で出来る。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_22">ARMコンパイラ・・・<a class="anchor_super" id="b2b72efa" href="#b2b72efa" title="b2b72efa" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>積み基板の消化も一段落ついたところで、こんどはMinGWのcross-gccの作り方でも勉強しようかなと。</li>
<li>ほら、sh-elf-gccがバグってるし、Sourceryも入手難になるらしいので。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>cygwinはやっぱりビルド遅いよ。体感でMinGWの1/3くらいかな。-j 4 付けてるんだけどね。</li>
<li>最近のintel CPUは速いし、HDDもSSD化したりとか、Gavotte使ってたりとか（相変わらずWinXP32bit）</li>
<li>マシンはどんどん速くなってるのにcygwinだけ遅く感じる。（比例して速くなってない。）</li></ul>
<p><br />
なんすかねー、やっぱりWinを捨ててubuntuですかねー。Win7に移行するくらいならubuntuでも一緒か。</p>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_23">今日のSH2A<a class="anchor_super" id="t910eb20" href="#t910eb20" title="t910eb20" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>printf(&quot;%g&quot;,atan(1)*4);とかが出来なかったので、trap34()を置き換えてみた。</li>
<li>適当なsyscalls.cをでっちあげて、_open,_write,_closeを実装してみた。</li></ul>
<ul class="list1 list-indent1"><li>printfは使えるようになったが、&quot;%g&quot;が駄目だ。なんでだろ？分からない。</li></ul>
<ul class="list1 list-indent1"><li><strong>皮肉なことに、-m2a-nofpuでビルドしたものは &quot;%g&quot;で正しく表示される</strong></li>
<li>-m2aでビルドした場合は &quot;%g&quot;の結果は全部nanになる。</li></ul>
<ul class="list1 list-indent1"><li>atan(1)*4の結果の16進表現まではどうやら正しいようだ。</li>
<li>なので、printfの実装のどこかに欠陥があると思われるが・・・・nofpuだとちゃんと動くんだよねー。こまったちゃん。</li></ul>
<p><strong>残念なお知らせ</strong></p>
<ul class="list1 list-indent1"><li>その後いろいろやってみたのだが、SH2Aはgccでは正しい浮動小数演算のコードを吐いてくれないようだ。</li>
<li>floatとdoubleの区別がおかしい。</li>
<li>__fpscr_valuesという不思議なグローバル変数はだれも初期化していない。（おそらくcrt1.Sで初期化しろということだろう）</li>
<li>　適当に、0x00040001とかで初期化してはみたものの、動作が芳しくない。</li>
<li>現時点での結論としては、FPUを使いたいなら素直にHEWのＣコンパイラを使う。</li>
<li>あるいは、SH2Aには最初からFPUが付いてこなかったものとして諦める。</li></ul>
<p><strong>また基板ゴミが２枚増えた。</strong></p>
<p><br />
sh-elf-gccの挙動メモ</p>
<ul class="list1 list-indent1"><li>浮動小数演算の直前に頻繁に
<pre>   mov.l ___fpscr_values,r1  ;  PC相対で ___fpscr_valuesのアドレス定数をr1に入れている
   lds.l	 @r1+,fpscr          ;  つまり、 fpscr = __fpscr_values[0] ということなのだろう。</pre></li>
<li>のようなコードを吐いている。</li>
<li>このコードはすごいムカつく。</li>
<li>なぜかというと、PC相対の定数フェッチと0x00040001という定数値のフェッチの２回のメモリーアクセスが（浮動小数演算のたびに）増えるからだ。FPUがいくら高速でも、このコードで全部台無しだ。</li></ul>
<ul class="list1 list-indent1"><li>どうやら__fpscr_values[2]の最初の値はfloat演算用のfpscr値で、２番目の値はdouble演算用のfpscr値ではなかろうかと推測した。</li>
<li>そのように初期化してはみたものの、相変わらずnanしか表示しない。</li></ul>
<p><br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_24">日刊 SH2A<a class="anchor_super" id="o322738c" href="#o322738c" title="o322738c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>SH2AではないけれどCortex-M3用のFlash書き込みルーチンを書いていた。</li>
<li>動くかどうかなんて分からない。</li>
<li>SH2AはFPUが最初から乗ってないものと割り切って使う分には悪くないかもと思うようになった。
<ul class="list2 list-indent1"><li>FPU自体は<strong>設計は壊れてる</strong>けど、中身が壊れてるわけじゃないので、gccを直せば全く使えないわけじゃない。</li></ul></li>
<li>クロック速いし、SRAM多いし、何といってもUSB 2.0/Hi-Speed/HOSTありだ。しかもLPC2388みたくに熱くならないし。</li>
<li>問題はブート方法だが、SDカードを繋ぐか、諦めてhostから毎回流し込むか・・・。</li>
<li>とりあえず、SH2A用のブートローダーを書いたので、hostから毎回流し込むのはそれほど苦にはならない（速いし）</li></ul>
<p>read more: <a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_25">少し古い（<strong>安定版</strong>の） CodeSourcery_G++_Lite の入手方法<a class="anchor_super" id="mdfa016a" href="#mdfa016a" title="mdfa016a" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><span class="noexists"><a href="./?cmd=edit&amp;page=CodeSourcery&amp;refer=2011-12">CodeSourcery</a></span> はmentor graphicsに買収されてしまったので、G++_Liteの入手性が悪くなっている。</li>
<li>MentorからＤＬする代替として、<a href="http://leaflabs.com/" rel="nofollow">leaflabs</a>から、maple-ide-0.0.12-windowsxp32.zipを入手してインストールする方法がお勧め。
<ul class="list2 list-indent1"><li>そうすると、<strong>maple-IDE</strong>まで使えるようになるおまけ付き。</li>
<li>さらに、GCCのVersionも4.4.1なので<strong>-Os</strong>オプション指定によるバグに当たらずに済むメリットがある。</li>
<li>arm-none-eabi-gcc.exeの実行パスは、「maple-ide-0.0.12をインストールしたパス」の hardware/tools/arm/bin/</li>
<li>もうひとつの選択肢としては、<a href="http://sourceforge.jp/projects/sfnet_netx-arm-elf-gc/" rel="nofollow">netx-arm-elf-gcc</a>もある。</li></ul></li></ul>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<p><a href="20112D-11.html" title="2011-11" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">＜前の月</a>｜<a href="20122D-01.html" title="2012-01" class="link_page_passage" data-mtime="2012-01-23T19:41:27+09:00">次の月＞</a></p>
<p><br /></p>
   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="http:/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2011-12-29 (木) 02:07:06<span class="page_passage" data-mtime="2011-12-29T02:07:06+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.049 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
