<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">

<head>
 <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8" />
 <title>2012-01 - PukiWiki</title>

<!---
 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/180wiki-sp.css" />

 --->

 <link rel="stylesheet" media="screen and (max-width:768px)" href="../skin/monobook/mobile.css" />
 <link rel="stylesheet" media="screen and (min-width:769px)" href="../skin/monobook/monobook.css" />

 <link rel="stylesheet" type="text/css" media="print" href="../skin/monobook/monobook.print.css" />
 <link rel="alternate" type="application/rss+xml" title="RSS" href="./?cmd=rss" />

 <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>
<div id="globalWrapper">
 <div id="menubar">
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/html/" title="FrontPage" class="link_page_passage" data-mtime="2022-08-01T12:48:11+09:00">Ｔｏｐ</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:55+09:00">ＨＩＤａｓｐｘ</a></p>
<ul class="list1 list-indent1"><li><a href="EF-BC-A4-EF-BD-8F-EF-BD-97-EF-BD-8E-EF-BC-AC-EF-BD-8F-EF-BD-81-EF-BD-84-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ＤｏｗｎＬｏａｄ</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
<li><strong><a href="http://ddip.net/ATMEL_AVR/html/20222D-08.html" rel="nofollow">開発日記</a></strong> <a href="SiteMap.html" title="SiteMap" class="link_page_passage" data-mtime="2022-07-31T15:21:46+09:00">過去ログ</a></li></ul>
<p><a href="E5-88-B6-E4-BD-9C-.html" class="link_page_passage" data-mtime="2013-04-29T09:29:29+09:00">制作</a></p>
<p><a href="AVRetc.html" title="AVRetc" class="link_page_passage" data-mtime="2022-08-01T10:38:10+09:00">ＡＶＲ関係</a></p>
<ul class="list1 list-indent1"><li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2022-08-01T10:38:01+09:00">AVR_Monit</a></li>
<li><a href="AVR_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVR_term</a></li>
<li><a href="W32_term.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">W32_term</a></li>
<li><a href="HIDmon88.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon88</a></li>
<li><a href="HIDtester.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDtester</a></li>
<li><a href="usbRS232.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbRS232</a></li>
<li><a href="Arduino2313.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino2313</a></li>
<li><a href="E3-83-87-E3-82-B8-E3-82-BF-E3-83-AB-E3-83-86-E3-82-B9-E3-82-BF-E3-83-BC-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">デジタルテスター</a></li>
<li><a href="ATmega88E7-94-9F-E6-B4-BB-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ATmega88生活</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニア</a></li>
<li><a href="KeyBoardE3-83-9E-E3-83-8B-E3-82-A2-II.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">KeyBoardマニアII</a></li>
<li><a href="Arduino400.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Arduino400</a></li>
<li><a href="PICspx.html" title="PICspx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICライター</a></li>
<li><a href="hid_blaster.html" title="hid_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="E8-B5-A4-E5-A4-96-E7-B7-9A-E3-83-AA-E3-83-A2-E3-82-B3-E3-83-B3-.html" class="link_page_passage" data-mtime="2014-12-01T23:50:24+09:00">赤外線リモコン</a></li></ul>
<p><a href="ARM.html" class="link_page_passage" data-mtime="2014-06-23T17:20:51+09:00">ARM</a></p>
<ul class="list1 list-indent1"><li><a href="armon.html" title="armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM32ブートローダー</a></li>
<li><a href="stm32f103.html" title="stm32f103" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-Discovery改造</a></li>
<li><a href="stm8s_blaster.html" title="stm8s_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">STM8S-OpenOCDライター</a></li>
<li><a href="LPCXpresso.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPCXpresso</a></li>
<li><a href="lpc2D-armon.html" title="lpc-armon" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">LPC用ブートローダー</a></li>
<li><a href="LPCUSB.html" title="LPCUSB" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用LPCUSB</a></li>
<li><a href="ARM7mon.html" title="ARM7mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">NXP用ブートローダー</a></li>
<li><a href="LPC1114.html" title="LPC1114" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">MARY基板</a></li>
<li><a href="LPC1114FN28.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">LPC1114FN28</a></li>
<li><a href="arm_blaster.html" title="arm_blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">OpenOCD　JTAGアダプター</a></li>
<li><a href="openocd2D-build.html" title="openocd-build" class="link_page_passage" data-mtime="2011-11-25T22:47:41+09:00">OpenOCDビルド方法</a></li>
<li><a href="arm2D-gcc.html" title="arm-gcc" class="link_page_passage" data-mtime="2011-11-27T16:31:48+09:00">arm-gccビルド方法</a></li>
<li><a href="mapleIDE.html" title="mapleIDE" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mapleIDEの改造</a></li>
<li><a href="libmapleE3-81-A7-E4-BB-AE-E6-83-B3-COM.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">libmapleで仮想COM</a></li></ul>
<p>PIC32</p>
<ul class="list1 list-indent1"><li><a href="PIC32MX.html" class="link_page_passage" data-mtime="2015-05-02T16:17:40+09:00">PIC32MX</a></li>
<li><a href="Pinguino.html" title="Pinguino" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">Pinguinoで遊ぼう</a></li>
<li><a href="HIDBootX.html" title="HIDBootX" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">ブートローダーを作る</a></li>
<li><a href="uartflash32.html" title="uartflash32" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">シリアルブートローダー</a></li>
<li><a href="PIC32MX_USBCDC.html" title="PIC32MX_USBCDC" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB仮想シリアル</a></li>
<li><a href="USB_CUSTOM.html" title="USB_CUSTOM" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBカスタムデバイス</a></li>
<li><a href="PIC32mon.html" title="PIC32mon" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">USB簡易モニター</a></li>
<li><a href="USBE3-82-AA-E3-82-B7-E3-83-AD-E3-82-B9-E3-82-B3-E3-83-BC-E3-83-97-.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBオシロスコープ</a></li>
<li><a href="USB_HOST.html" title="USB_HOST" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBホスト</a>　</li>
<li><a href="Bluetooth.html" title="Bluetooth" class="link_page_passage" data-mtime="2014-09-27T22:53:38+09:00">PIC32でBluetooth</a>　</li>
<li><a href="USBAudio.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">USBAudio</a>　</li>
<li><a href="USBStudy.html" class="link_page_passage" data-mtime="2014-11-20T22:01:19+09:00">USBStudy</a>　</li>
<li><a href="pic32vga.html" title="pic32vga" class="link_page_passage" data-mtime="2015-02-01T14:32:31+09:00">VGA出力に挑戦</a></li>
<li><a href="tinyBasic2.html" title="tinyBasic2" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">BASICを動かす</a></li>
<li><a href="WinUSB.html" class="link_page_passage" data-mtime="2013-05-10T22:28:35+09:00">WinUSB</a>　</li>
<li><a href="PIC32MXcust.html" title="PIC32MXcust" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">勝手に改蔵*PIC32</a></li></ul>
<p>PIC18F</p>
<ul class="list1 list-indent1"><li><a href="pic18boot.html" title="pic18boot" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">HIDブートローダー</a></li>
<li><a href="pic18spx.html" title="pic18spx" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">AVR/PIC両用ライター</a></li>
<li><a href="pic18blaster.html" title="pic18blaster" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">ARMライター</a></li>
<li><a href="pic18monit.html" title="pic18monit" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usb汎用クラス</a></li>
<li><a href="usbserial.html" title="usbserial" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbシリアル変換</a></li>
<li><a href="pic18hidkey.html" title="pic18hidkey" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">usbキーボード変換</a></li>
<li><a href="sdcc.html" title="sdcc" class="link_page_passage" data-mtime="2009-09-25T17:26:22+09:00">sdccを使いこなす</a></li>
<li><a href="mcc18.html" title="mcc18" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">mcc18を使いこなす</a></li>
<li><a href="HIDmon2D-2550.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-2550</a></li>
<li><a href="HIDmon2D-14K50.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">HIDmon-14K50</a></li>
<li><a href="PICmonitor.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">PICmonitor</a></li></ul>
<p>試行錯誤の記録</p>
<ul class="list1 list-indent1"><li><a href="UBW.html" title="UBW" class="link_page_passage" data-mtime="2009-04-16T22:42:14+09:00">UBWを試す</a></li>
<li><a href="HIDboot.html" title="HIDboot" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">旧HIDboot</a></li>
<li><a href="PIC18F2550.html" title="PIC18F2550" class="link_page_passage" data-mtime="2010-02-17T16:23:41+09:00">PIC18F2550試用記</a></li>
<li><a href="PIC18F4550.html" title="PIC18F4550" class="link_page_passage" data-mtime="2009-05-06T01:05:20+09:00">PIC18F4550試用記</a></li></ul>
<p>その他マイコン</p>
<ul class="list1 list-indent1"><li><a href="NEC78K.html" class="link_page_passage" data-mtime="2022-08-01T10:38:19+09:00">NEC78K</a></li>
<li><a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a></li>
<li><a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li>
<li><a href="EF-BC-A8-EF-BC-98-.html" class="link_page_passage" data-mtime="2010-04-28T09:27:01+09:00">Ｈ８</a></li>
<li><a href="FM3.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">FM3</a></li>
<li><a href="ubuntuXP.html" title="ubuntuXP" class="link_page_passage" data-mtime="2014-06-22T14:58:37+09:00">XPからubuntuに乗り換え</a></li>
<li><a href="Android.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">Android</a></li>
<li><a href="Xen2D-hypervisor.html" class="link_page_passage" data-mtime="2015-01-22T18:20:53+09:00">Xen-hypervisor</a></li>
<li><a href="Windows8E3-82-AB-E3-82-B9-E3-82-BF-E3-83-9E-E3-82-A4-E3-82-BA-.html" class="link_page_passage" data-mtime="2012-12-06T13:25:35+09:00">Windows8カスタマイズ</a></li></ul>
<p>開発日記</p>
<ul class="list1 list-indent1"><li><a href="20152D-04.html" class="link_page_passage" data-mtime="2022-08-01T10:41:06+09:00">2015-04</a></li></ul>
<hr class="full_hr" />
<p>ノウハウ</p>
<ul class="list1 list-indent1"><li><a href="AVRUSB_Tips.html" class="link_page_passage" data-mtime="2014-11-17T14:44:26+09:00">AVRUSB_Tips</a></li>
<li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:45+09:00">ＨＩＤａｓｐ情報</a></li>
<li><a href="E6-B1-8E-E7-94-A8-EF-BC-B5-EF-BC-B3-EF-BC-A2-2D-EF-BC-A9-EF-BC-AF-.html" class="link_page_passage" data-mtime="2008-10-13T03:47:40+09:00">汎用ＵＳＢ-ＩＯ</a></li></ul>
<hr class="full_hr" />
<p>・<a href="AVRlink.html" title="AVRlink" class="link_page_passage" data-mtime="2010-11-02T22:35:53+09:00">リンク</a></p>
<p>フリースペース</p>
<ul class="list1 list-indent1"><li><a href="http:/ATMEL_AVR/cgi-bin/note/index.cgi" rel="nofollow">ゲストブック</a></li></ul>
<hr class="full_hr" />
<p><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" title="ＷｉｄｅＴｅｘｔ" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">旧コンテンツ</a><br />
<a href="EF-BC-B7-EF-BD-89-EF-BD-8E-EF-BC-B6-EF-BD-89-EF-BD-93-EF-BD-94-EF-BD-81-.html" class="link_page_passage" data-mtime="2008-05-17T00:51:37+09:00">ＷｉｎＶｉｓｔａ</a><br />
<a href="E3-82-A4-E3-83-B3-E3-82-BF-E3-83-BC-E3-83-95-E3-82-A7-E3-83-BC-E3-82-B9-E8-80-83-.html" class="link_page_passage" data-mtime="2007-08-28T23:52:40+09:00">インターフェース考</a></p>
<hr class="full_hr" />
<h5>最新の20件</h5>
<div><strong>2022-08-05</strong>
<ul class="recent_list">
 <li><a href="MenuBar.html" class="link_page_passage" data-mtime="2022-08-05T09:31:59+09:00">MenuBar</a></li>
</ul>
<strong>2022-08-01</strong>
<ul class="recent_list">
 <li><a href="20222D-08.html" class="link_page_passage" data-mtime="2022-08-01T12:53:54+09:00">2022-08</a></li>
 <li><a href="http:/ATMEL_AVR/html/" class="link_page_passage" data-mtime="2022-08-01T12:48:11+09:00">FrontPage</a></li>
 <li><a href="20152D-04.html" class="link_page_passage" data-mtime="2022-08-01T10:41:06+09:00">2015-04</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-EF-BD-98-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:55+09:00">ＨＩＤａｓｐｘ</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E6-83-85-E5-A0-B1-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:45+09:00">ＨＩＤａｓｐ情報</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-.html" class="link_page_passage" data-mtime="2022-08-01T10:38:34+09:00">ＨＩＤａｓｐ</a></li>
 <li><a href="NEC78K.html" class="link_page_passage" data-mtime="2022-08-01T10:38:19+09:00">NEC78K</a></li>
 <li><a href="AVRetc.html" class="link_page_passage" data-mtime="2022-08-01T10:38:10+09:00">AVRetc</a></li>
 <li><a href="AVR_Monit.html" class="link_page_passage" data-mtime="2022-08-01T10:38:01+09:00">AVR_Monit</a></li>
 <li><a href="20082D-08.html" class="link_page_passage" data-mtime="2022-08-01T10:37:50+09:00">2008-08</a></li>
</ul>
<strong>2022-07-31</strong>
<ul class="recent_list">
 <li><a href="EF-BC-B7-EF-BD-89-EF-BD-84-EF-BD-85-EF-BC-B4-EF-BD-85-EF-BD-98-EF-BD-94-.html" class="link_page_passage" data-mtime="2022-07-31T15:28:50+09:00">ＷｉｄｅＴｅｘｔ</a></li>
 <li><a href="RecentDeleted.html" class="link_page_passage" data-mtime="2022-07-31T15:25:08+09:00">RecentDeleted</a></li>
 <li><a href="SiteMap.html" class="link_page_passage" data-mtime="2022-07-31T15:21:46+09:00">SiteMap</a></li>
</ul>
<strong>2022-07-25</strong>
<ul class="recent_list">
 <li><a href="20082D-10.html" class="link_page_passage" data-mtime="2022-07-25T22:19:24+09:00">2008-10</a></li>
 <li><a href="EF-BC-A8-EF-BC-A9-EF-BC-A4-EF-BD-81-EF-BD-93-EF-BD-90-E9-AB-98-E9-80-9F-E5-8C-96-.html" class="link_page_passage" data-mtime="2022-07-25T21:56:43+09:00">ＨＩＤａｓｐ高速化</a></li>
 <li><a href="H8EF-BC-8F-3048F.html" class="link_page_passage" data-mtime="2022-07-25T21:46:43+09:00">H8／3048F</a></li>
 <li><a href="AutoTicketLinkName.html" class="link_page_passage" data-mtime="2022-07-25T16:51:44+09:00">AutoTicketLinkName</a></li>
</ul>
<strong>2021-12-11</strong>
<ul class="recent_list">
 <li><a href="FormattingRules.html" class="link_page_passage" data-mtime="2021-12-11T00:40:03+09:00">FormattingRules</a></li>
</ul>
<strong>2020-02-23</strong>
<ul class="recent_list">
 <li><a href="WikiWikiWeb.html" class="link_page_passage" data-mtime="2020-02-23T22:51:43+09:00">WikiWikiWeb</a></li>
</ul>
</div>
</div>
 <div id="mainColumnWrapper">
  <div id="main-column">
   <div id="navigator"><ul><li id="wn_main" class="selected"><a href="" title="2012-01" class="link_page_passage" data-mtime="2012-01-23T19:41:27+09:00">本文</a></li><li id="wn_note"><span class="noexists"><a href="./?cmd=edit&amp;page=note%2F2012-01">ノート</a></span></li><li><a href="./?cmd=edit&amp;page=2012-01">編集</a></li><li><a href="./?cmd=diff&amp;page=2012-01">差分</a></li></ul></div>
   <div id="content">
    <h1 class="firstHeading">2012-01</h1><div id="contentSub"></div>
    <p><a href="20112D-12.html" class="link_page_passage" data-mtime="2011-12-29T02:07:06+09:00">2011-12</a>　<a href="LPC1114.html" class="link_page_passage" data-mtime="2012-09-12T22:43:19+09:00">LPC1114</a>　<a href="RX62N.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">RX62N</a>　<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></p>
<hr class="full_hr" />
<h2 id="content_1_0">あけました。<a class="anchor_super" id="icd4814e" href="#icd4814e" title="icd4814e" style="user-select:none;">&dagger;</a></h2>
<p><br />
<br />
<br /></p>
<ul class="list1 list-indent1"><li>2011はなんとか積み基板(MARY,RX62N,SH2A)の消化が出来ました。</li>
<li>今年は積み基板を作らないようにしよう。</li></ul>
<p><br />
持ち越し案件</p>
<ul class="list1 list-indent1"><li>USBオシロみたいな奴。</li>
<li>SH2AのFPU使いこなし。</li>
<li>MinGWクロスgccのビルド。</li>
<li>STM32F4Discovery、まだ買ってません。（今のところ需要無し）</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_1">とりあえず、MinGWのクロスgccの作り方をお勉強。<a class="anchor_super" id="ke09313c" href="#ke09313c" title="ke09313c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ただいま大絶賛サボリ中。</li>
<li>むしろubuntu上でXen-serverを動かそうとしている今日この頃。</li>
<li>脱線するする。</li></ul>
<p><br />
動いたっ！</p>
<ul class="list1 list-indent1"><li>grub起動時に普通にkernelを起こしたらダメ
<ul class="list2 list-indent1"><li>まず、Xenを選択して、次に、kernel-3.0.4とかを選択するよろし。</li>
<li>って、知ってたけどその大事なことを守ってなかった。</li></ul></li></ul>
<ul class="list1 list-indent1"><li>キーボードで毎回操作するのは面倒。/etc/default/grub を編集して
<pre>GRUB_DEFAULT=3</pre></li>
<li>に変更する。（たぶんgrub Menuの 03 番目にXenが来てる筈。そうでなかったら数える）そして、
<pre># update-grub</pre></li>
<li>する。</li>
<li>再起動する。
<pre># xm info
# xm list</pre></li>
<li>とか出来たらＯＫ。</li>
<li>そして、適当な4GBとか8GBのバイナリーファイルをddで作って、</li>
<li>xm-ubuntu.cfgを書いて仮想ドライブをそのファイルに設定しておいて、</li>
<li>dom-Uにubuntuをnet install する。</li></ul>
<ul class="list1 list-indent1"><li>もいっかい、
<pre># xm create -c xm-ubuntu.cfg</pre></li>
<li>すると仮想マシンを操作できる。</li></ul>
<ul class="list1 list-indent1"><li>仮想マシンに接続しているscreenというか仮想コンソールの終わらせ方が分からない。 ^Aかと思ったけど違うし。</li>
<li><del>どうしよう困った &lt;--- <strong>今ここ</strong></del></li></ul>
<p>あいかわらず間抜け。</p>
<ul class="list1 list-indent1"><li>CTRL+']' でOKだった。
<pre># xm create xm-ubuntu.cfg</pre>
で起動したvmにconsole接続するには
<pre># xm console oneiric  （oneiricは vmのid名）</pre>
とかでOK. consoleを抜けるには CTRL + ']'</li></ul>
<p><br /></p>
<p>vmを停止させるのは</p>
<pre># xm shutdown &lt;vmのid&gt;</pre>
<p>VMWareみたいにサスペンドしたいなら、</p>
<pre># xm save &lt;vmのid&gt;</pre>
<p>だ。</p>
<p><br /></p>
<ul class="list1 list-indent1"><li>一応vmの中からnetも繋がるようになったけれど、外からvmのサービスに繋げられない。</li>
<li><del>というかNICのブリッジ接続のやりかたが分からない(xenbr0とかbr0は無いと言われる)</del></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_2">xenbr0:分かったこと。<a class="anchor_super" id="p895409a" href="#p895409a" title="p895409a" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>xenbr0は自分で作っておかないとだめらしい。</li>
<li>/etc/network/interfaces に追記する。
<pre># Xenのブリッジインターフェース.
auto xenbr0
iface xenbr0 inet static
       bridge_ports eth0
       address 192.168.1.200
       broadcast 192.168.1.255
       netmask 255.255.255.0
       gateway 192.168.1.1</pre></li>
<li>dom-Uのeth0が仮に 192.168.1.2になっていて、vm側を適当に192.168.1.200にすると仮定。</li></ul>
<ul class="list1 list-indent1"><li>ifconfig して、xenbr0が出来ていることを確認したのち、</li></ul>
<ul class="list1 list-indent1"><li>/etc/xen/xm-ubuntu.cfg （自分用vmの起動設定）のvif項目をvirbr0からxenbr0に変更する。
<pre>- vif = ['','bridge=virbr0']
+ vif = [ &quot;mac=00:16:3e:17:d4:87,bridge=xenbr0&quot; ]</pre></li></ul>
<ul class="list1 list-indent1"><li>vmを起動する。
<pre># xm start -c xm-ubuntu.cfg</pre></li></ul>
<ul class="list1 list-indent1"><li>なぜかvmのipアドレスは固定ではなくDHCPで割り当てられてしまったが、vmが外界からアクセスできるようにもなった。</li></ul>
<p>とりあえず<strong>成功。</strong></p>
<p><br /></p>
<p>参考ＵＲＬ （<span class="noexists"><a href="./?cmd=edit&amp;page=StrayPenguin&amp;refer=2012-01">StrayPenguin</a></span>）Ｘｅｎについて非常に詳しく解説されている。</p>
<ul class="list1 list-indent1"><li><a href="http://www.asahi-net.or.jp/~aa4t-nngk/xen.html" rel="nofollow">http://www.asahi-net.or.jp/~aa4t-nngk/xen.html</a></li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_3">Xen: ubuntu11.04 : 単純な外界接続用ブリッジ xenbr0 を作る、いんちきくさいやり方。<a class="anchor_super" id="qf825124" href="#qf825124" title="qf825124" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>上記</li></ul>
<ul class="list1 list-indent1"><li>xenbr0は自分で作っておかないとだめらしい。</li>
<li>/etc/network/interfaces に追記する。
<pre># Xenのブリッジインターフェース.
auto xenbr0
iface xenbr0 inet static
       bridge_ports eth0
       address 192.168.1.200
       broadcast 192.168.1.255
       netmask 255.255.255.0
       gateway 192.168.1.1</pre></li>
<li>dom-Uのeth0が仮に 192.168.1.2になっていて、vm側を適当に192.168.1.200にすると仮定。</li></ul>
<ul class="list1 list-indent1"><li>/etc/xen/xm-ubuntu.cfg （自分用vmの起動設定）のvif項目をvirbr0からxenbr0に変更する。
<pre>- vif = ['','bridge=virbr0']
+ vif = [ &quot;mac=00:16:3e:17:d4:87,bridge=xenbr0&quot; ]</pre></li></ul>
<p>これでいいのだけれど、192.168.1 のドメイン内に、</p>
<ul class="list1 list-indent1"><li>(1)dom-0のインターフェース eth0: (仮に192.168.1.10とする)</li>
<li>(2)dom-Uのインターフェース （vm側のeth0:）(192.168.1.2)</li>
<li>(3)ブリッジのインターフェース xenbr0:(192.168.1.200)
の３つのIPアドレスが出てしまう。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>それで、xenbr0のIPを隠蔽したかったので（というかプロバイダーの事情でIP8本しか貰えないとかあるので）</li>
<li>xenbr0のIPを192.168.1以外に振ってみたりとか、IPを振らないでみたりとか(DHCPにしておいて、DHCPサーバー置かないとか)</li>
<li>(2)と(3)を同じにしてみたりとか・・・</li></ul>
<p>いろいろやってみたのだけれどどれもpingが通らなかったりそもそもOSが起動しなかったりで；；；汗</p>
<p><br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h3 id="content_1_4">そこで、裏技を考えた。<a class="anchor_super" id="t5311e15" href="#t5311e15" title="t5311e15" style="user-select:none;">&dagger;</a></h3>
<ul class="list1 list-indent1"><li>いっそdom-0のeth0:を消しちゃえばいいんじゃね？</li></ul>
<p>さっそくやってみる。</p>
<ul class="list1 list-indent1"><li>/etc/network/interfaces から xenbr0 の記述を全部消す。</li>
<li>/etc/network/interfaces のeth0の記述の最後に、
<pre>iface eth0 inet static
   ・・・
   bridge_ports eth3    </pre></li>
<li>を追加する。（をを？何をする？） eth3はまだ実在しない。</li>
<li>次に、デバイス名eth0をeth3にリネームしておこう。</li>
<li>/etc/udev/rules.d/70-persistent-net.rulesを編集する。
<pre># PCI device 0xaaaa:bbbb (r8169)
SUBSYSTEM==&quot;net&quot;, ACTION==&quot;add&quot;, DRIVERS==&quot;?*&quot;, ATTR{address}==&quot;xx:xx:xx:yy:yy:yy&quot;, ATTR{dev_id}==
&quot;0x0&quot;, ATTR{type}==&quot;1&quot;, KERNEL==&quot;eth*&quot;, NAME=&quot;eth0&quot;  &lt;== ここをeth3に書き換え。</pre></li>
<li><strong>再起動</strong></li>
<li>そうすると、実デバイスeth3にはIPアドレスを割り当てず、eth0がブリッジ名になってしまう。</li>
<li>その状態で、/etc/xen/xm-ubuntu.cfg を書き換え。
<pre>#vif = [ &quot;mac=00:16:3e:17:d4:87,bridge=xenbr0&quot; ]
vif = [ &quot;mac=00:16:3e:17:d4:87,bridge=eth0&quot; ]</pre></li>
<li>vmを起動して、vm内のinterfacesを書き換えて、外界と/から通信できることを確認。<strong>終わり。</strong></li></ul>
<p>なんということでしょう。IPアドレス２個で２台のマシン(１台はvm)が使えました。</p>
<p><br />
<br />
<br /></p>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_5">さらに続くXen-hypervisor試用記<a class="anchor_super" id="m53be996" href="#m53be996" title="m53be996" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>ubuntu 32bit/64bitのvmを4Gの仮想ファイル上にインストール。</li>
<li>だいたいどっちも1Gちょっと消費する。</li>
<li>/dev/xvda内にパーティション( / とswap)を切ってインストールする方法と</li>
<li>/dev/xvdaを/(root)に、/dev/xvdbをswapにする方法の両方を試してみた。</li></ul>
<ul class="list1 list-indent1"><li>両者ともdom-0上では実パーティションではなくて単なる4Gのファイルだ。</li>
<li>後者のインストールでは、/dev/sdaにgrubをインストールしても起動してくれない。</li>
<li>後者のインストールでは、grubのインストールポイントは/dev/xvda1 を指定しないといけないようだ。（インストールの最終過程あたりにCUIで指定する）</li></ul>
<ul class="list1 list-indent1"><li>pvm（準仮想化vm）をhvm(完全仮想化vm)に変更したり、その逆をやる技が分からない。
<ul class="list2 list-indent1"><li>xm-ubuntu.cfgのようなファイルを手で書き換えたりしてみるけれど難しい。なかなか思うようにうごいてくれない。</li></ul></li></ul>
<ul class="list2 list-indent2"><li>実働しているVineLinuxのようなLinuxの/dev/sda1をddで吸い出して、Xen上で動かそうとしてみたけれど、これもうまくいっていない。(hvmでは、vmが見つからないといわれるし、pvmではカーネルが対応していないといわれる。)</li></ul>
<ul class="list1 list-indent1"><li>とりあえず習得したのはubuntu(11.10)上のdom-0で別のubuntu(11.10)32bit/64bitを飼うこと。</li></ul>
<p>Linusさんも言うように、仮想化でサーバーを多重化するのはあまり美しくないやりかたなのかもしれない。単一のカーネルが複数のユーザーランド（とOSコンテキスト）を完全に環境分離して動かせるのであれば、仮想化する必要なんて最初から無いからだ。（懐古OSを動かす用途以外ではね）</p>
<p><br /></p>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_6">UM232H<a class="anchor_super" id="x0359d63" href="#x0359d63" title="x0359d63" style="user-select:none;">&dagger;</a></h2>
<p>秋月電子</p>
<ul class="list1 list-indent1"><li><a href="http://akizukidenshi.com/catalog/g/gM-05273/" rel="nofollow">http://akizukidenshi.com/catalog/g/gM-05273/</a></li>
<li>1680円</li>
<li>Single ChannelだけどHigh-Speed(480Mbps)、MPSSEあり。</li></ul>
<ul class="list2 list-indent2"><li>UARTモードで12Mbpsまで出せるらしい。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>FT2232Dのほうは2channelだけど<span class="noexists"><a href="./?cmd=edit&amp;page=FullSpeed&amp;refer=2012-01">FullSpeed</a></span>(12Mbps)1450円。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_7">今ごろになって消化中の2010年版<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>基板<a class="anchor_super" id="c461d44c" href="#c461d44c" title="c461d44c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>gccビルドしたUSB-CDCの安定化に<span style="color:RED">成功。</span></li></ul>
<ul class="list1 list-indent1"><li><strong>ブートローダーとして使えるようになりました。</strong></li></ul>
<ul class="list1 list-indent1"><li>FPUはやはり使えない。gccではどうしようもないのか？</li>
<li>内蔵RAMだけ、無駄に1MBもある。</li>
<li>動作クロックも、無駄に144MHzもある。</li></ul>
<p>なんに使おうか。</p>
<p><a href="SH2A.html" title="SH2A" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">もっと読め</a></p>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_8">米、昨夏に未臨界補完の核実験<a class="anchor_super" id="a0802aab" href="#a0802aab" title="a0802aab" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li><a href="http://www.asahi.com/international/update/0106/TKY201201060185.html" rel="nofollow">http://www.asahi.com/international/update/0106/TKY201201060185.html</a></li></ul>
<ul class="list1 list-indent1"><li>核実験といっても爆発させたのではなくて強力なＸ線を当てて反応を調べるらしい。</li></ul>
<p><br /></p>
<p>日本だって負けてないぞ。</p>
<ul class="list1 list-indent1"><li><a href="http://nikkan-spa.jp/106058" rel="nofollow">http://nikkan-spa.jp/106058</a></li>
<li>というか実験ではなくて過酷事故だけど。</li></ul>
<ul class="list1 list-indent1"><li>え、肝心のデータ取ってないの？じゃあ、意味無いじゃん＞日本。</li></ul>
<p>もっと頑張ろう日本。</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_9">2010年版<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a>基板。まだやってるよ。<a class="anchor_super" id="c461d44c" href="#c461d44c" title="c461d44c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>FPUが使えないのはcygwin版gccの問題かもしれないと思って、KPITのGNUSHに乗り換え。</li>
<li>PATHが通らない。ディレクトリ名に&quot;KPIT Commuins&quot;とか<strong>空白が</strong>入っていて駄目だ。</li>
<li>空白を'_'にリネームして凌ぐ。</li></ul>
<ul class="list1 list-indent1"><li>Makefileの-I/usr/local/sh-tools/include とかを取り除く。(そうしないとエラー)</li>
<li>crt1.oが参照している _edata とか _stack とかのラベルを吐くように ldscriptを書き換え。</li>
<li>makeしてみる。</li></ul>
<pre>sh-elf-gcc (GCC) 4.5-GNUSH_v11.02
Copyright (C) 2010 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 

Linking: SH2A-1C000000.elf
Errors: none
-------- end --------
-------- begin (mode: ROM_RUN) --------

d:/kpit/hew/tools/kpit_cummins/gnush-elf/v11.02/sh-elf/bin/../lib/gcc/sh
-elf/4.5-GNUSH_v11.02/../../../../sh-elf/bin/ld.exe: final link failed: Section
has no contents
collect2: ld returned 1 exit status
make: *** [SH2A-1C000000.elf] Error 1</pre>
<ul class="list1 list-indent1"><li><del>リンクできない。同じgccなのに！</del> --- ldscriptをKPITのものに差し替えて、またごにょごにょしたらとりあえず動いた。</li>
<li><del>しかし、リンクできないし</del>、io_cwb()とかいう暗黙の関数が抜かれていて困る。</li></ul>
<ul class="list1 list-indent1"><li>動いたし、USB-CDCとしても使用できた。</li>
<li>しかし、FPUを有効にして浮動小数命令を使うとハングする。</li>
<li>デバッガがないので、どういうハングなのか分からない。困った</li></ul>
<p><br />
<br /></p>
<p><strong>原因が判明</strong></p>
<ul class="list1 list-indent1"><li>犯人はFPSCR
<ul class="list2 list-indent1"><li>FPSCRの値は、リセット初期値（単精度）=0x40001、倍精度演算/転送=0x1c0001に設定される。（FPU例外を使うときはさらにbitを立てる）</li>
<li>FPSCRの値が倍精度に設定された時点で割り込みが発生すると、
<pre>fmov fr0,@-r15
fmov fr1,@-r15
fmov fr2,@-r15
・・・</pre></li>
<li>のようなレジスタ退避コードが実行できない。(倍精度時は偶数frレジスタしか使えないからだ)</li></ul></li>
<li>上記の退避コードの直前にFPSCRを単精度モードに戻しておかないといけない。</li>
<li>対策をしたら、浮動小数演算を行なってもハングしなくなった。</li>
<li>しかし、printf(&quot;%g&quot;,3.14);のようなことをすると、結果は決まって&quot;nan&quot;になる。</li>
<li>m2a-nofpuでコンパイルしたものは正常にprintされる。</li></ul>
<ul class="list1 list-indent1"><li>バイナリーダンプする限りではFPUは正常に動いているように見える。</li></ul>
<p><br />
コンパイラをKPITに変えてやってみた。</p>
<ul class="list1 list-indent1"><li>コンパイルオプション -m2a-single-only を与えたときだけ、printfも正常に行なわれる。</li>
<li>おそらく倍精度はsoft-floatになるからうまくいっているのだろう。</li>
<li>それ以外では、printf結果はおかしい数値になった。（nanではないが、でたらめな数値)</li>
<li>もしかしたら、mathライブラリの初期化関数を明示的に呼ばないとだめなのか？ううむ。</li></ul>
<ul class="list1 list-indent1"><li>Cygwin版gccで-m2a-single-only を与えるとリンク時エラーで実行ファイルが作れない。</li></ul>
<p><br />
ここまでのまとめ</p>
<div class="ie5"><table class="style_table" cellspacing="1" border="0"><tbody><tr><td class="style_td">使用コンパイラ</td><td class="style_td">コンパイルオプション</td><td class="style_td">浮動小数点演算動作</td><td class="style_td">説明</td></tr>
<tr><td class="style_td">Cygwin版 sh-elf-gcc</td><td class="style_td">-m2a-nofpu</td><td class="style_td">正常</td><td class="style_td">FPUを全く使わないので遅い</td></tr>
<tr><td class="style_td">Cygwin版 sh-elf-gcc</td><td class="style_td">-m2a / -m2a-single</td><td class="style_td">演算のみたぶん正常</td><td class="style_td">printf(&quot;%g&quot;,x)が常にnanをprintする</td></tr>
<tr><td class="style_td">Cygwin版 sh-elf-gcc</td><td class="style_td">-m2a-single-only</td><td class="style_td">評価不能</td><td class="style_td">リンク時エラー。未定義関数多数</td></tr>
<tr><td class="style_td">KPIT版 sh-elf-gcc</td><td class="style_td">-m2a-single-only</td><td class="style_td">正常</td><td class="style_td">倍精度演算はFPUを使用しない</td></tr>
<tr><td class="style_td">KPIT版 sh-elf-gcc</td><td class="style_td">-m2a-single-only 以外</td><td class="style_td">演算のみなら正常かも</td><td class="style_td">printf(&quot;%g&quot;,x)が常にでたらめ</td></tr>
</tbody></table></div>
<p>さてどうしよう。</p>
<ul class="list1 list-indent1"><li>KPITでもだめだめだったので、Cygwin版でprintがうまくいかない理由でも調べてみようか。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_10">調べてみた。<a class="anchor_super" id="paf0f226" href="#paf0f226" title="paf0f226" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>どうやら、<strong>-m2a</strong> とか <strong>-m2a-single</strong> オプションを付けても、リンクするライブラリは SHデフォルト
のものがリンクされていた。</li>
<li>isnan(double num)という関数の引数がfr4レジスタで渡されるのに、isnanの実装は整数レジスタで受け取っていたらしい。</li>
<li>そこで、-Lオプションで指定するディレクトリに /m2a とか /m2a-single を付け足してやればうまくいくかというと・・・</li></ul>
<ul class="list2 list-indent2"><li><strong>-m2a</strong>のときは、デフォルトが倍精度、すなわち、FPSCRの値が0x1c0001になっていると仮定したライブラリがリンクされている。</li></ul>
<ul class="list2 list-indent2"><li><strong>-m2a-single</strong>のときは、デフォルトが単精度、すなわち、FPSCRの値が0x40001になっていると仮定したライブラリがリンクされている。</li></ul>
<ul class="list2 list-indent2"><li>なので、コンパイルオプションを変えたときは、crt0の初期化モジュールのどこかで、FPSCRの初期化が必要だ。</li>
<li>（リセット時は常に0x40001になる）</li></ul>
<ul class="list1 list-indent1"><li>そうするとうまくいくかと思いきや、printでハングするのだな。なんとかしてくれ。</li></ul>

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_11">さらに挑戦！<a class="anchor_super" id="v94ac18c" href="#v94ac18c" title="v94ac18c" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>KPIT版gccを使って、KPIT版crt0.oでやっている初期化と同じようなことを（ _init() や ___set_fpscr() 呼び出し実行により）行なうようにした。</li>
<li>KPIT版では、自前の __fpscr_vaules[] の初期化やfpscrの初期化を行なわないようにした。</li></ul>
<p>そうすると、<strong>-m2a</strong>オプション使用にて、FPUが正常に使用でき、printfも使えるようになった</p>
<ul class="list1 list-indent1"><li>read more :<a href="SH2A.html" class="link_page_passage" data-mtime="2014-11-17T14:44:27+09:00">SH2A</a></li></ul>
<ul class="list1 list-indent1"><li>KPIT版では、__fpscr_vaules[]の値は、0x40000,0xc0000 になっている。</li>
<li>Cygwinで同様にしても正常に動かないのでCygwin版でのFPU使用は諦めた。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_12">互換機：激安マザーを買った。<a class="anchor_super" id="e8d1c207" href="#e8d1c207" title="e8d1c207" style="user-select:none;">&dagger;</a></h2>
<p>某所で。</p>
<ul class="list1 list-indent1"><li>お年玉セールのようなもので、CPUとマザーのセットが￥5980で売ってあったので捕獲。</li>
<li>CPUはCeleron G530 (2.4GHz 2core <span class="noexists"><a href="./?cmd=edit&amp;page=SandyBridge&amp;refer=2012-01">SandyBridge</a></span>)、マザーはBIOSTARのH61マザー。一応GigaLAN+HDMIありだ。</li>
<li>セレＧ530の最安価格は3400円程度なので、なんとH61マザーは2600円だ。<strong>嘘だろ？</strong>いくらチップセット機能がCPUに内蔵されたからって、こんなに安くていいのか。</li>
<li>円高のせいもあるけど、GPU内蔵のCPUが、昔のCPUクーラー（だけ）と同じような価格で売られていて、比較的最新のマザーボードが生基板と同じくらいの価格で売られているのは違和感を覚えた。</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>実際のところ、レシート見たら1500円引きとなっていたので、通常価格だと4100円だ。それなら納得はいく。</li>
<li>メモリー８Ｇと合わせて買ったけど、１万円からおつりが来た。</li></ul>
<ul class="list1 list-indent1"><li>いまだにHDDだけは、入手難が続いているようだ。というよりは、このままHDD終了なのか。</li>
<li>SSDが速いのは結構なことだけど、1TBとか2TBになってくるととても高すぎて買えない。</li></ul>
<p><br />
<br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_13">Lenovoが世界初のIA+Androidスマートフォンを発売<a class="anchor_super" id="ab216856" href="#ab216856" title="ab216856" style="user-select:none;">&dagger;</a></h2>
<p>世界で初めてIA(Intel Architecture)に基づいたAndroidスマートフォン「K800」を中国で販売開始することを明らかにした。</p>
<ul class="list1 list-indent1"><li><a href="http://pc.watch.impress.co.jp/docs/news/event/20120111_503520.html" rel="nofollow">http://pc.watch.impress.co.jp/docs/news/event/20120111_503520.html</a></li>
<li><strong>アンビリーバボー</strong></li></ul>
<ul class="list1 list-indent1"><li>ARMではないAtomがまさかのスマホに使えるようになったとはねー。</li></ul>
<ul class="list1 list-indent1"><li>OSがAndroidで、kernelはLinux。アーキテクチャーがia32と来れば、</li>
<li>wine入れたらWin32も動くんじゃない。</li></ul>
<p>で、なんで中国？中国人ってintel入ってると買うのか？</p>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_14">ARM: STREX{B|H|} Rd, Rt, [Rn] って、何の命令なの？<a class="anchor_super" id="sb8ca219" href="#sb8ca219" title="sb8ca219" style="user-select:none;">&dagger;</a></h2>
<p>STore Register EXclusive | 排他的なメモリー書き込み</p>
<ul class="list1 list-indent1"><li><strong>教えて！Google先生</strong></li></ul>
<ul class="list2 list-indent2"><li><strong>つ</strong>　これだ　・・・</li></ul>
<ul class="list1 list-indent1"><li><a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0204ij/Cihbghef.html" rel="nofollow">http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0204ij/Cihbghef.html</a></li></ul>
<hr class="full_hr" />
<p>STREX は、メモリへの条件付きストアを実行します。 条件を以下に示します。</p>
<p>物理アドレスに共有 TLB 属性が設定されておらず、実行中のプロセッサによってまだアクセスされていないタグ付きの物理アドレスが存在する場合は、この命令によるストアが実行され、タグがクリアされて、Rd に 0 が戻ります。</p>
<p>物理アドレスに共有 TLB 属性が設定されておらず、実行中のプロセッサによってアクセスされていないタグ付きの物理アドレスが存在しない場合は、ストアは発生せず、Rd に 1 が戻ります。</p>
<p>物理アドレスに共有 TLB 属性が設定されており、その物理アドレスに実行中のプロセッサによる排他的アクセスのタグが付けられている場合は、ストアが発生してタグがクリアされ、Rd に 0 が戻ります。</p>
<p>物理アドレスに共有 TLB 属性が設定されており、その物理アドレスに実行中のプロセッサによる排他的アクセスのタグが付けられていない場合は、ストアは発生せず、Rd に 1 が戻ります。</p>
<ul class="list1 list-indent1"><li>TLB(Translation Lookaside Buffer) はもっとも最近使われた PTE(Page Table Entry:論理-&gt;物理アドレスへの変換を記憶する表) を保存するための(CPU内部にある小さな)キャッシュ。</li></ul>
<hr class="full_hr" />
<ul class="list1 list-indent1"><li>要はセマフォみたいなやつで、排他的に書き込めたときは結果が０、失敗したら１。</li></ul>
<ul class="list2 list-indent2"><li>解説はこのへん？ <a href="http://ja.wikipedia.org/wiki/Load-Link/Store-Conditional" rel="nofollow">http://ja.wikipedia.org/wiki/Load-Link/Store-Conditional</a></li></ul>
<ul class="list1 list-indent1"><li>そもそもCortex-M3には仮想記憶も、複数プロセッサ間のメモリー共有も無いので、<strong>共有TLB</strong>なんかない。</li></ul>
<ul class="list1 list-indent1"><li>やってみたらどうなるんだろう・・・？。</li></ul>
<p><br />
<br />
<br /></p>
<hr class="full_hr" />

<div class="jumpmenu"><a href="#navigator">&uarr;</a></div><h2 id="content_1_15">Linux: Text Editor <strong>jed</strong> の64bit版<a class="anchor_super" id="o1c7e898" href="#o1c7e898" title="o1c7e898" style="user-select:none;">&dagger;</a></h2>
<ul class="list1 list-indent1"><li>自分はemacs嫌い派、viも嫌い派で micro-emacs系のエディタ(ngとかjed)を好んで使っている。</li>
<li><span class="noexists"><a href="./?cmd=edit&amp;page=VineLinux&amp;refer=2012-01">VineLinux</a></span> 4.2の頃のjedを少しカスタマイズしてVz風味にして使っている。</li>
<li>OSの流行がubuntuになり、64bitになった今でも、VineLinuxのjedとlibslang.so.1
(全部32bit版)を後生大事にコピーしてきて使っている。(32bitエミュレーション)</li></ul>
<ul class="list1 list-indent1"><li>しかし、Xen-hypervisor上の64bit-linuxで動かそうとすると、ia32-libsを入れなければならなくなって</li>
<li>そのfoot printが馬鹿にならないため、重い腰を上げて64bit版のjed-jaを作ることにした。
<ul class="list2 list-indent1"><li>ていうか、vi使えない＞俺</li></ul></li></ul>
<p><a href="http:/ATMEL_AVR/cgi-bin/wifky/wifky.cgi?p=%B8%BC%C8%A2%A4%C7jed-ja" rel="nofollow">ここ</a>にある、arm版の
tar-ballをubuntu-64上に展開し、</p>
<pre>$ cd slang-1.4.9
$ make distclean
$ ./configure
$ make
$ sudo make install
$ make elf
$ sudo make install-elf</pre>
<p>とやる。</p>
<ul class="list1 list-indent1"><li>インストール先は /usr/local/libになる。ロード出来ないシステムでは /usr/libに適宜コピー。</li></ul>
<p><br />
次</p>
<pre>$ cd ..
$ cd jed-B0.99-14
$ make distclean
$ ./configure
$ make</pre>
<p>で、出来たsrc/objs/jed を好きな実行ファイル名にリネームして /usr/bin か、自分ローカルの ~/bin/
にコピーすると使える。</p>
<ul class="list1 list-indent1"><li>ちなみに、このjed-jaパッケージは EUCとS-JISのサポートはあるが、UTF-8が使えない。</li>
<li>UTF-8を使う場合は、ubuntu標準のjedを使うと良い。（逆にubuntuのjedにはEUCとS-JISのサポートがない）</li></ul>
<p><br /></p>
<ul class="list1 list-indent1"><li>ARM用にconfigure済みのtar-ballなので、make distcleanしてからconfigureするのがコツ。</li>
<li>先に
<pre># apt-get install build-essential</pre>
とか
<pre># apt-get install autoconf</pre>
とかも入れといたほうがよい。</li></ul>
<p><br />
<br />
<br />
<br />
<br />
<br /></p>
<p><a href="20112D-12.html" title="2011-12" class="link_page_passage" data-mtime="2011-12-29T02:07:06+09:00">＜前の月</a>｜<a href="20122D-02.html" title="2012-02" class="link_page_passage" data-mtime="2012-02-11T22:47:03+09:00">次の月＞</a></p>
<p><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br /></p>
   </div>
  </div>
 </div>
 <div style="clear:both;height:1em;"></div>
 <div id="logo"><a href="http:/ATMEL_AVR/html/" style="background-image: url(image/title.jpg);"></a></div>
 <div id="personal"><ul><li class="login"><a href="#">ログインまたはアカウント作成</a></li></ul></div>
 <div id="footer">
  <div id="f-officialico">
   <a href="http://pukiwiki.sourceforge.jp/"><img src="../image/b_pukiwiki.official.png" alt="PukiWiki-official" /></a>
  </div>
  <div id="f-officialdevico">
   <a href="http://pukiwiki.sourceforge.jp/dev/"><img src="../image/b_pukiwiki.dev.png" alt="PukiWiki-dev" /></a>
  </div>
  <div id="f-list">
   <ul><li id="lastmod">Last-modified: 2012-01-23 (月) 19:41:27<span class="page_passage" data-mtime="2012-01-23T19:41:27+09:00"></span></li><li>Site admin: <a href="http://pukiwiki.example.com/">anonymous</a></li>    <li>convert time: 0.040 sec</li>
    <li>Powered by PukiWiki</li>
    <li><a href="http://www.luntf.com/">Monobook for PukiWiki</a></li>
   </ul>
  </div>
  <div style="clear:both;"></div>
 </div>
</div>
</body>
</html>
